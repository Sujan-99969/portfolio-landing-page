"use strict";(()=>{(self.webpackChunk=self.webpackChunk||[]).push([[8107],{10249:(Me,$,e)=>{e.d($,{Eb:()=>E,FW:()=>P,d2:()=>p,o3:()=>D,rI:()=>S,so:()=>M});var c=e(18432),N=e(7442),f=e(941);const m=(0,c.P)("accountCommitters"),M=(0,c.x)("accountCommitters",m);function D(o,d){const a=o.accountCommitters.getIn(["pages",d,"ids"]);return a==null?void 0:a.map(u=>o.accountCommitters.getIn(["entities",u]))}function P(o){return(0,f.p5)((d,a,u)=>u.accountCommitters(o.get("id"),{}).then(l=>{d(m.accountCommittersSuccess(o.get("slug"),l.data))}))}function p(o,d,a){return(0,f.p5)((u,l,n)=>n.createCommitter(o.get("id"),d,a).then(t=>{u(P(o))}))}function S(o,d,a,u,l){return(0,f.p5)((n,t,s)=>s.updateCommitter(d.get("id"),a,u,l).then(i=>{N.iND.appCommitterMerged({accountId:d.get("id")||"",committerId:a,memberId:u,type:u?"merge":"unmerge",userId:o}),n(P(d))}))}function E(o,d){return(0,f.p5)((a,u,l)=>l.deleteCommitter(o.get("id"),d).then(n=>{a(P(o))}))}},2630:(Me,$,e)=>{e.d($,{Ah:()=>x,Kw:()=>r,Lj:()=>W,O_:()=>re,PM:()=>s,SM:()=>I,ad:()=>i,c_:()=>B,cg:()=>g,el:()=>U,hS:()=>ee,j_:()=>T,pJ:()=>X,vd:()=>_});var c=e(90046),N=e.n(c),f=e(19271),m=e(18643),M=e(18432),D=e(77962),P=e(45473),p=e(91800),S=e(941),E=e(60653);const o=(0,M.P)("accountMembers"),d="INVITE_CLEAR_FAILURES",a="INVITE_FAILURE",u="ACCOUNT_RECENT_MEMBERS_SUCCESS",l=(0,m.Z)(d),n=(0,m.Z)(a),t=(0,m.Z)(u),s=(0,M.x)("accountMembers",o,{handler:(J,ae)=>{switch(ae.type){case d:return J.setIn(["inviteErrors"],(0,c.List)());case a:{const F=J.get("inviteErrors")||(0,c.List)();return J.setIn(["inviteErrors"],F.push(ae.payload))}case u:{const{accountSlug:F,data:Y}=ae.payload;return J.setIn(["recentMembers",F],(0,c.fromJS)(Y))}default:return null}}});function i(J,ae){const F=J.accountMembers.getIn(["pages",ae,"ids"]);return F&&F.map(Y=>J.accountMembers.getIn(["entities",Y])).sort((Y,oe)=>{const L=se=>se.get("pending")===!0;if(L(Y)&&!L(oe))return 1;if(!L(Y)&&L(oe))return-1;const j=new Date(Y.get("updated_at")),me=new Date(oe.get("updated_at"));return j<me?1:-1})}function _(J,ae){return J.accountMembers.getIn(["recentMembers",ae==null?void 0:ae.get("slug")])}function r(J,ae){return J.accountMembers.getIn(["entities",ae])}function g(J,ae){return J.accountMembers.getIn(["pages",ae])}function I(J){return J.accountMembers.getIn(["inviteErrors"])}function U(J,ae={}){return(0,S.p5)((F,Y,oe)=>oe.accountMembers(J.get("slug"),ae).then(L=>F(o.accountMembersSuccess(J.get("slug"),L.data,L.pagination))))}function X(J){return(0,S.p5)((ae,F,Y)=>{const oe=J.get("slug");return Y.accountMembers(oe,{page:1,per_page:5}).then(L=>ae(t({accountSlug:oe,data:L.data})))})}function W(J,ae){return(0,S.p5)((F,Y,oe)=>oe.accountMember(J.get("slug"),ae).then(L=>F(o.accountMemberSuccess(L.data))))}function T(J,{emails:ae,role:F,site_ids:Y,site_access:oe,build_id:L},j){return(0,S.p5)((me,se,Te)=>(me(l()),Promise.all(ae.map(q=>Te.inviteAccountMember(J.get("slug"),{email:q,role:F,site_ids:Y,site_access:oe,build_id:L}).catch(b=>{me(n((0,c.fromJS)({email:q,error:b.message})))}))).finally(()=>{me(U(J)),me((0,p.Mx)(J.get("slug")));let q=(0,D.l_)(J,"members");j&&(q+="?addOwner=true"),me((0,f.VF)(q))})))}function B(J,ae){return(0,S.p5)((F,Y,oe)=>oe.inviteAccountMember(J.get("slug"),{email:ae.get("email"),role:ae.get("role"),site_ids:ae.get("site_ids"),site_access:ae.get("site_access"),build_id:ae.get("build_id")}).finally(()=>{F(U(J)),F((0,p.Mx)(J.get("slug")))}))}function re(){return l()}function x(J,ae){return(0,S.p5)((F,Y,oe)=>oe.removeAccountMember(J.get("slug"),ae.get("id")).then(()=>{(0,E.HF)(Y()).get("id")===ae.get("id")?F((0,p.UU)(J)):(F(U(J)),F((0,P.uK)(J))),F((0,p.Mx)(J.get("slug")))}))}function ee(J,ae,{role:F,site_access:Y,site_ids:oe}){return(0,S.p5)((L,j,me)=>me.updateAccountMember(J.get("slug"),ae.get("id"),{role:F,site_access:Y,site_ids:oe}).then(se=>{L((0,p.Mx)(J.get("slug"))),L(U(J)),L((0,P.uK)(J))}))}},99695:(Me,$,e)=>{e.d($,{L6:()=>M,TL:()=>m,V8:()=>D});var c=e(18432),N=e(941);const f=(0,c.P)("accountReceipts"),m=(0,c.x)("accountReceipts",f);function M(P,p){const S=p&&P.accountReceipts.getIn(["pages",p.get("slug"),"ids"]);return S&&S.map(E=>P.accountReceipts.getIn(["entities",E])).filter(E=>E.get("html_stored"))}function D(P){return(0,N.p5)((p,S,E)=>E.accountReceipts(P.get("slug")).then(o=>p(f.accountReceiptsSuccess(P.get("slug"),o.data,o.pagination))))}},45473:(Me,$,e)=>{e.d($,{Du:()=>S,Mr:()=>D,fK:()=>E,uK:()=>P,xU:()=>p});var c=e(18432),N=e(21805),f=e(91800),m=e(941);const M=(0,c.P)("accountReviewerMembers"),D=(0,c.x)("accountReviewerMembers",M);function P(o,d={per_page:50}){const a=o.get("slug");return(0,m.p5)((u,l,n)=>n.accountReviewerMembers(a,d).then(t=>u(M.accountReviewerMembersSuccess(a,t.data,t.pagination))))}function p(o,d){const a=o==null?void 0:o.accountReviewerMembers.getIn(["pages",d,"ids"]);return a==null?void 0:a.map(u=>o.accountReviewerMembers.getIn(["entities",u]))}function S(o,d){return o.accountReviewerMembers.getIn(["pages",d])}function E(o,d,{state:a}){const u=d.get("id");return(0,m.p5)((l,n,t)=>t.updateAccountMember(o.get("slug"),u,{role:N.TH,self_invite_state:a}).then(()=>{l((0,f.Mx)(o.get("slug"))),l(P(o))}).catch(s=>l(M.reviewerMembersFailure({memberId:u,error:s}))))}},97536:(Me,$,e)=>{e.d($,{$K:()=>t,Q_:()=>a,ag:()=>_,iX:()=>i});var c=e(90046),N=e.n(c),f=e(18643),m=e(18432),M=e(2630),D=e(941);const P=(0,m.P)("accountReviewers"),p="REVIEWER_SUCCESS",S="REVIEWER_FAILURE",E=(0,f.Z)(p),o=(0,f.Z)(S);function d(r){const g=r.get("slug");return(0,D.p5)((I,U,X)=>(I(P.accountReviewersRequest(g)),X.accountReviewers(g).then(W=>{I(P.accountReviewersSuccess(g,W.data,W.pagination)),I(E({}))})))}const a=(0,m.x)("accountReviewers",P,{handler:(r,g)=>{switch(g.type){case p:return r.setIn(["error"],(0,c.fromJS)(g.payload));case S:return r.setIn(["error"],(0,c.fromJS)(g.payload));default:return null}}});function u(r,g){return r.accountReviewers.getIn(["entities",g])}function l(r,g){const I=r.get("state"),U=g.get("state");return I===U?new Date(g.get("created_at")).getTime()-new Date(r.get("created_at")).getTime():U==="pending"?1:I==="pending"?-1:0}function n(r,g){const I=r.accountReviewers.getIn(["pages",g,"ids"]);return I&&I.map(U=>r.accountReviewers.getIn(["entities",U])).sort(l)}function t(r){return r.accountReviewers.getIn(["error"])}function s(r,g,{state:I,site_access:U="all"}){const X=g.get("id");return withApi((W,T,B)=>B.updateAccountReviewer(r.get("slug"),X,{state:I,site_access:U}).then(()=>W(d(r))).catch(re=>W(o({reviewerId:X,error:re}))))}function i(r,g,{role:I="Collaborator"}){const U=g.get("id");return(0,D.p5)((X,W,T)=>T.promoteAccountReviewer(r.get("slug"),U,{role:I}).then(()=>{X((0,M.el)(r)),X(d(r))}).catch(B=>X(o({reviewerId:U,error:B}))))}function _(r,g){const I=g.get("id");return(0,D.p5)((U,X,W)=>W.removeAccountReviewer(r.get("slug"),I).then(()=>{U(d(r))}).catch(T=>U(o({reviewerId:I,error:T}))))}},91800:(Me,$,e)=>{e.d($,{Gj:()=>ue,Ko:()=>Pe,L3:()=>fe,MI:()=>ge,Mx:()=>ne,Tq:()=>C,UU:()=>z,Wq:()=>k,_Z:()=>G,bk:()=>pe,cM:()=>Ke,i6:()=>Se,my:()=>K,nP:()=>Z,nw:()=>de,o1:()=>ve,ok:()=>le,qL:()=>_e,rp:()=>he,s5:()=>Ae,sG:()=>te,tm:()=>y,uW:()=>H,vP:()=>V,yj:()=>Te});var c=e(90046),N=e.n(c),f=e(19271),m=e(18643),M=e(18432),D=e(7442),P=e(82048),p=e(98814),S=e(63851),E=e(72746),o=e(46408),d=e(68854),a=e(54856),u=e(13287),l=e(941),n=e(60653),t=e(52968),s=e(34571),i=e(38751),_=e(93716);const r="ACCOUNT_TYPES_SUCCESS",g="ACCOUNT_COMPLIANCE_SUCCESS",I="ACCOUNT_UPGRADE_PRO",U="ACCOUNT_UPGRADE_BUSINESS",X="SET_SELECTED_ACCOUNT",W="SET_REQUESTED_ACCOUNT_TYPE",T="ACCOUNT_BANDWIDTH_USAGE_SUCCESS",B="ACCOUNT_BANDWIDTH_USAGE_PER_DOMAIN_SUCCESS",re="ACCOUNT_BUILD_USAGE_SUCCESS",x="ACCOUNT_CREATOR_SUCCESS",ee="ACCOUNT_EDGE_FUNCTION_BANDWIDTH_USAGE_SUCCESS",J=(0,M.P)("accounts"),ae=(0,m.Z)(r,O=>O),F=(0,m.Z)(g,(O,R)=>({id:O,compliance:R})),Y=(0,m.Z)(T,(O,R)=>({id:O.get("id"),bandwidth:R})),oe=(0,m.Z)(ee,(O,R)=>({id:O.get("id"),edgeFunctions:R})),L=(0,m.Z)(B,(O,R)=>({id:O,bandwidth:R})),j=(0,m.Z)(re,(O,R)=>({id:O.get("id"),status:R}));function me(O){return(0,l.p5)((R,ie,Ie)=>Ie.accountBandwidth(O.get("slug")).then(Re=>{R(Y(O,Re.data))}))}function se(O){return(0,l.p5)((R,ie,Ie)=>Ie.accountEdgeFunctionsUsage(O.get("slug")).then(Re=>{R(oe(O,Re.data))}))}function Te(O,R){return(0,l.p5)((ie,Ie,Re)=>Re.accountBandwidthRanking(O,R).then(Oe=>{ie(L(O,Oe.data))}))}function q(O){return(0,l.p5)((R,ie,Ie)=>Ie.accountBuildStatus(O.get("slug")).then(Re=>{R(j(O,Re.data))}))}function b(O){return(R,ie)=>{R(me(O)),R(q(O)),R(se(O))}}function V(){return(0,l.p5)((O,R,ie)=>ie.accounts().then(Ie=>{O(J.accountsSuccess("accounts",Ie.data,Ie.pagination)),a.Z.setContext("accounts",Ie.data.map(Re=>(0,E.M)(Re)))}))}function ne(O){return(0,l.p5)((R,ie,Ie)=>Ie.account(O).then(Re=>R(J.accountSuccess(Re.data))).then(Re=>{var Oe;const We=(Oe=Re==null?void 0:Re.payload)==null?void 0:Oe.id;return R(Le({accountId:We,slug:O})),Re}).catch(Re=>R(J.accountFailure(O,Re))))}function Se(O){return(R,ie)=>{R(ne(O.get("slug"))).then(()=>{R(b(O))})}}function Pe(){return(0,l.p5)((O,R,ie)=>ie.accountTypes().then(Ie=>O(ae(Ie.data))))}function Le({accountId:O,slug:R}){return(0,l.p5)((ie,Ie,Re)=>Re.accountCompliance(R).then(Oe=>ie(F(O,Oe.data))))}function ve(O){return(0,l.p5)((R,ie,Ie)=>Ie.createAccount(O).then(({data:Re})=>{R(J.accountSuccess(Re)),O.transferSite&&R((0,s.GQ)(O.transferSite,(0,c.Map)(Re))),R(V()),R((0,f.VF)(`/teams/${Re.slug}`)),R((0,s.KZ)()),R((0,i.L9)({event:"subscription_created",category:"subscription",label:`Team plan ${Re.type_name}`}))}))}function te(O,R){return(0,l.p5)((ie,Ie,Re)=>Re.updateAccount(O.get("id"),R).then(({data:Oe})=>{var We;const{logo:Ve}=R;if(Ve!==void 0&&Re.updateAccountLogo(O.get("id"),Ve).catch(ke=>new S.Z(ke)),ie((0,s.Go)()),ie(J.accountSuccess(Oe)),O.get("type_slug")===o.iK&&Oe.type_slug===o.d0&&Oe.type_id===R.type_id){const ke=(0,d.St)("upgradePro")?"www":"app",Qe=(0,d.St)("gaID")?(0,d.St)("gaID"):"";D.iND.appFlowUpgradePro({category:"flow",label:"Team upgraded to Pro",accountId:O.get("id"),gaID:Qe||"",source:ke,trialRequested:!!R.free_trial}),(0,d.St)("upgradePro")&&(0,d.lD)("upgradePro")}if((O.get("type_slug")===o.iK||O.get("type_slug").match(/pro/))&&Oe.type_slug===o.HX&&Oe.type_id===R.type_id){const ke=(0,d.St)("upgradeBusiness")?"www":"app",Qe=(0,d.St)("gaID")?(0,d.St)("gaID"):"";D.iND.appFlowUpgradeBusiness({category:"flow",label:"Team upgraded to Business",accountId:O.get("id"),gaID:Qe||"",source:ke}),(0,d.St)("upgradeBusiness")&&(0,d.lD)("upgradeBusiness")}if(O.get("type_slug")===o.s5&&(Oe.type_slug===o.iK||Oe.type_slug===o.d0)&&Oe.type_id===R.type_id&&D.iND.appEnterpriseTrialDowngrade({newPlanTypeSlug:Oe.type_slug,daysLeftOnTrial:(0,o.OF)(O)}),O.get("type_slug")!==o.s5&&Oe.type_slug===o.s5&&Oe.type_id===R.type_id){const ke=(0,n.HF)(Ie()),Qe=O.get("name"),rt=R.fullName||(ke==null?void 0:ke.get("full_name"))||((We=(0,t.DY)(Ie(),O))==null?void 0:We.getIn(["data","name"],"Unknown")),{firstname:ot,lastname:lt}=(0,P.DY)(rt),{sendContactFormData:dt}=(0,p.Z)({hubspotformid:"5991acbb-d5d5-446a-b6e0-15b29516ea88"}),st=R.email||(ke==null?void 0:ke.get("email"));D.iND.appEnterpriseTrialSignupRequested({accountId:O.get("id"),name:rt,email:st,team:Qe,useCase:R.useCase,company_name:R.companyName,company_size__c:R.companySize,jobrole:R.jobTitle}),dt({firstname:ot,lastname:lt,email:st,team:Qe,company:R.companyName,companySize:R.companySize,jobTitle:R.jobTitle,useCase:R.useCase})}const qe=O.get("slug"),{slug:Xe}=Oe;qe!==Xe&&ie((0,_.Ee)(document.location.pathname.replace(`/teams/${qe}/`,`/teams/${Xe}/`)))}))}function le(O,R){return(0,l.p5)((ie,Ie,Re)=>Re.updateAccount(O.get("id"),R).then(()=>{const{logo:Oe}=R;if(Oe!==void 0)return Re.updateAccountLogo(O.get("id"),Oe).then(()=>{ie(ne(O.get("slug")))}).catch(We=>new S.Z(We))}))}function Ae(O){return(0,l.p5)((R,ie,Ie)=>Ie.deleteAccountLogo(O.get("id")).then(()=>{R(ne(O.get("slug")))}).catch(Re=>new S.Z(Re)))}function y(O){return D.iND.appAccountDelete({accountId:O==null?void 0:O.get("id"),accountSlug:O==null?void 0:O.get("slug")}),(0,l.p5)((R,ie,Ie)=>Ie.deleteAccount(O.get("id")).then(Re=>R(z(O))))}function z(O){return(R,ie)=>{R((0,s.Go)()),R(Ce()),R(V()).then(()=>R((0,_.Ee)("/")))}}function de(O){return(0,d.D$)("nf-team",O),{type:X,slug:O}}function Ce(){return de(null)}function C(O,R=!1,ie=!1){return{type:W,payload:{accountTypeRequested:O,isNewAccountTypeRequested:R,isTrialAccountTypeRequested:ie}}}function G(){return C(null)}const w=(O,R)=>[O.get?O.get("id"):O.id,R].join("-"),ge=(0,M.x)("accounts",J,{key:"slug",handler:(O,R)=>{switch(R.type){case r:return O.set("accountTypes",(0,c.fromJS)(R.payload));case X:return O.set("selected",R.slug);case W:return O.set("accountTypeRequested",R.payload.accountTypeRequested).set("isNewAccountTypeRequested",R.payload.isNewAccountTypeRequested).set("isTrialAccountTypeRequested",R.payload.isTrialAccountTypeRequested);case T:return O.set(w(R.payload,"bandwidth"),(0,c.fromJS)(R.payload.bandwidth));case B:return O.set(w(R.payload,"bandwidthUsagePerDomain"),(0,c.fromJS)(R.payload.bandwidth));case g:return O.set(w(R.payload,"compliance"),(0,c.fromJS)(De(R.payload.compliance)));case x:return O.set(w(R.payload,"creator"),(0,c.fromJS)(R.payload));case I:return O.set("upgradePro",(0,c.fromJS)(R.payload.id));case re:return O.set(w(R.payload,"build_minutes"),(0,c.fromJS)({used:R.payload.status.minutes?R.payload.status.minutes.current:R.payload.status.minutes_used}));case ee:return O.set(w(R.payload,"edge_functions"),(0,c.fromJS)(R.payload.edgeFunctions));default:return null}}});function pe(O,R){let ie=O.accounts.getIn(["entities",R]);return ie?((0,u.F0)(ie)&&(ie=ie.merge({user_capabilities:{billing:ie.getIn(["user_capabilities","billing"])}})),ie=ie.mergeIn(["capabilities"],h(O,ie)),ie=ie.mergeIn(["compliance"],ye(O,ie.get("id"))),ie):null}function fe(O){const R=O.accounts.getIn(["pages","accounts","ids"]),ie=R&&R.map(Ie=>pe(O,Ie));return ie&&(0,c.List)(ie.sort((Ie,Re)=>Ie.get("name").localeCompare(Re.get("name"))))}function Ke(O,R){return O.accounts.getIn(["entities",R.get("slug"),"error"])}function he(O){const R=O.user,ie=fe(O),Ie=R==null?void 0:R.get("preferred_account_id"),Re=ie==null?void 0:ie.find(Oe=>(Oe==null?void 0:Oe.get("id"))===Ie);return Re||R&&ie&&(ie.find(Oe=>Oe?Oe.get("default")&&(Oe==null?void 0:Oe.getIn(["owner_ids",0]))===R.get("id"):!1)||ie.first())}function K(O){return O.accounts.get("accountTypeRequested")}function k(O){return O.accounts.get("isNewAccountTypeRequested")}function ue(O){return O.accounts.get("isTrialAccountTypeRequested")}function _e(O){return O.accounts.get("accountTypes")}function H(O){const R=O.accounts.get("selected")||(0,d.le)("nf-team");return pe(O,R)||he(O)}function h(O,R){const ie=O.accounts.get(w(R,"bandwidth")),Ie=O.accounts.get(w(R,"build_minutes")),Re=O.accounts.get(w(R,"edge_functions"));return ie&&Ie&&(0,c.Map)({period_start_date:ie.get("period_start_date"),period_end_date:ie.get("period_end_date"),last_updated_at:ie.get("last_updated_at"),bandwidth:ie,build_minutes:Ie.set("included",R.getIn(["capabilities","build_minutes","included"])),edge_functions:Re})}function Z(O,R){var ie;return(ie=O.accounts)==null?void 0:ie.get(w({id:R},"bandwidthUsagePerDomain"))}const De=O=>((!O||O.private_corp_repos.in_compliance!==!1)&&(O.private_corp_repos.in_compliance=!0),O);function ye(O,R){var ie;return(ie=O.accounts)==null?void 0:ie.get(w({id:R},"compliance"))}},23979:(Me,$,e)=>{e.d($,{Dc:()=>T,Ji:()=>B,PO:()=>ae,Pc:()=>Y,Te:()=>J,Tf:()=>ne,Wo:()=>V,Ww:()=>q,XF:()=>Pe,Z$:()=>me,_$:()=>te,bc:()=>se,co:()=>Ae,gg:()=>b,lW:()=>oe,mE:()=>j,mq:()=>le,nV:()=>Te,p_:()=>Le,wi:()=>re});var c=e(90046),N=e.n(c),f=e(18643),m=e(7857),M=e(35037),D=e(941),P=e(34571);const p="ANALYTICS_METRIC_SUCCESS",S="ANALYTICS_METRIC_FETCHING_DONE",E="ANALYTICS_METRIC_FETCHING_STARTED",o="pageviews",d="pageviews-summary",a="unique-visitors",u="unique-visitors-summary",l="top-locations",n="top-sources",t="top-pages",s="bandwidth-used",i="bandwidth-used-summary",_="not-found",r={resolution:"day",days:30};let g=30;const I=(0,f.Z)(p,(y,z,de,{data:Ce})=>({metric:y,siteId:z.get("id"),period:de,data:Ce})),U=(0,f.Z)(S,(y,z)=>({metric:y,siteId:z.get("id")})),X=(0,f.Z)(E,(y,z)=>({metric:y,siteId:z.get("id")}));let W;function T(y){const z=y.get("id");return(0,D.p5)((de,Ce,C)=>C.enableAnalytics(z).then(()=>de((0,P.EQ)(y.get("name")))).then(G=>de((0,P.ZO)(G))))}function B(y){const z=y.get("id"),de=y.get("analytics_instance_id");return(0,D.p5)((Ce,C,G)=>de?G.deleteAnalytics(z,de).then(()=>Ce((0,P.EQ)(y.get("name")))):Promise.resolve())}function re(y){return(z,de)=>{const{config:Ce}=de();return W=W||new M.ZP(Ce),y(z,de,W)}}function x(y="day",z=30,de=0,Ce){const C=new Date;return y==="hour"?Ce==="uniqueVisitors"?{from:(0,m.YD)(C,1+de).getTime(),to:(0,m.YD)(C,de).getTime()-36e5,resolution:y,minusOffsetDays:de}:{from:(0,m.YD)(C,1+de).getTime(),to:(0,m.YD)(C,de).getTime(),resolution:y,minusOffsetDays:de}:{from:(0,m.b7)((0,m.YD)(C,z+de)).getTime(),to:de?(0,m.iX)((0,m.YD)(C,de)).getTime():C.getTime(),resolution:y,minusOffsetDays:de}}function ee(y="day",z=30,de=0,Ce){return z===7?{period:x(y,z,de),periodByRange:x("range",z,de)}:z===1?{period:x(y,24,de,Ce),periodByRange:x("range",z,de)}:{period:x(y,z,de),periodByRange:x("range",z,de)}}function J(y,{resolution:z,days:de,minusOffsetDays:Ce}=r){const{period:C,periodByRange:G}=ee(z,de,Ce);return g=de,re((w,ge,pe)=>Promise.all([w(X(d,y)),w(X(o,y)),pe.pageviews(y.get("id"),C).then(fe=>w(I(o,y,C,fe))),pe.pageviews(y.get("id"),G).then(fe=>w(I(d,y,C,fe)))]).then(()=>w(U(o,y))).then(()=>w(U(d,y))))}function ae(y,z){return y.analytics.get(`${z.get("id")}-${o}`)&&y.analytics.get(`${z.get("id")}-${o}`).toJS()}function F(y,z){return y.analytics.get(`${z.get("id")}-${d}`)&&y.analytics.get(`${z.get("id")}-${d}`).toJS()}function Y(y,{resolution:z,days:de,minusOffsetDays:Ce=0}=r){const{period:C,periodByRange:G}=ee(z,de,Ce,"uniqueVisitors");return g=de,re((w,ge,pe)=>Promise.all([w(X(u,y)),w(X(a,y)),pe.uniqueVisitors(y.get("id"),C).then(fe=>w(I(a,y,C,fe))),pe.uniqueVisitors(y.get("id"),G).then(fe=>w(I(u,y,G,fe)))]).then(()=>w(U(a,y))).then(()=>w(U(u,y))))}function oe(y,z){return y.analytics.get(`${z.get("id")}-${a}`)&&y.analytics.get(`${z.get("id")}-${a}`).toJS()}function L(y,z){return y.analytics.get(`${z.get("id")}-${u}`)&&y.analytics.get(`${z.get("id")}-${u}`).toJS()}function j(y,{resolution:z,days:de,minusOffsetDays:Ce=0}=r){const{period:C}=ee(z,de,Ce);return re((G,w,ge)=>(G(X(l,y)),ge.topLocations(y.get("id"),C).then(pe=>G(I(l,y,C,pe))).then(()=>G(U(l,y)))))}function me(y,z){return y.analytics.get(`${z.get("id")}-${l}`)&&y.analytics.get(`${z.get("id")}-${l}`).toJS()}function se(y,{resolution:z,days:de,minusOffsetDays:Ce=0}=r){const{period:C}=ee(z,de,Ce);return re((G,w,ge)=>(G(X(n,y)),ge.topSources(y.get("id"),C).then(pe=>G(I(n,y,C,pe))).then(()=>G(U(n,y)))))}function Te(y,z){return y.analytics.get(`${z.get("id")}-${n}`)&&y.analytics.get(`${z.get("id")}-${n}`).toJS()}function q(y,{resolution:z,days:de,minusOffsetDays:Ce=0}=r){const{period:C}=ee(z,de,Ce);return re((G,w,ge)=>(G(X(t,y)),ge.topPages(y.get("id"),C).then(pe=>G(I(t,y,C,pe))).then(()=>G(U(t,y)))))}function b(y,z){return y.analytics.get(`${z.get("id")}-${t}`)&&y.analytics.get(`${z.get("id")}-${t}`).toJS()}function V(y,{resolution:z,days:de,minusOffsetDays:Ce=0}=r){const{period:C,periodByRange:G}=ee(z,de,Ce);return g=de,re((w,ge,pe)=>Promise.all([w(X(i,y)),w(X(s,y)),pe.bandwidthUsed(y.get("id"),C).then(fe=>w(I(s,y,C,fe))),pe.bandwidthUsed(y.get("id"),G).then(fe=>w(I(i,y,G,fe)))]).then(()=>w(U(s,y))).then(()=>w(U(i,y))))}function ne(y,z){return y.analytics.get(`${z.get("id")}-${s}`)&&y.analytics.get(`${z.get("id")}-${s}`).toJS()}function Se(y,z){return y.analytics.get(`${z.get("id")}-${i}`)&&y.analytics.get(`${z.get("id")}-${i}`).toJS()}function Pe(y,{resolution:z,days:de,minusOffsetDays:Ce=0}=r){const{period:C}=ee(z,de,Ce);return re((G,w,ge)=>(G(X(_,y)),ge.notFound(y.get("id"),C).then(pe=>G(I(_,y,C,pe))).then(()=>G(U(_,y)))))}function Le(y,z){return y.analytics.get(`${z.get("id")}-${_}`)&&y.analytics.get(`${z.get("id")}-${_}`).toJS()}function ve(y,z=null){return y.reduce((de,Ce)=>{const C=z?Ce[z]:Ce[1];return de+C},0)}function te(){return g}function le(y,z){var de;const{data:Ce,status:C,timePeriod:G,isFetching:w}=F(y,z)||{},{data:ge,status:pe,timePeriod:fe,isFetching:Ke}=L(y,z)||{},{data:he,status:K,timePeriod:k,isFetching:ue}=Se(y,z)||{};return{timePeriod:G||fe||k,pageviewSummary:{total:Ce&&ve(Ce),status:C,isFetching:w},uniqueVisitorSummary:{total:((de=ge==null?void 0:ge[0])==null?void 0:de[1])||0,status:pe,isFetching:Ke},bandwidthSummary:{total:he&&ve(he,"siteBandwidth"),status:K,isFetching:ue}}}const Ae=(y=(0,c.Map)(),z)=>{switch(z.type){case E:return y.setIn([`${z.payload.siteId}-${z.payload.metric}`,"isFetching"],!0);case p:return y.set(`${z.payload.siteId}-${z.payload.metric}`,(0,c.fromJS)({data:z.payload.data,timePeriod:{from:z.payload.period.from,to:z.payload.period.to,minusOffsetDays:z.payload.period.minusOffsetDays},status:"current"}));case S:return y.setIn([`${z.payload.siteId}-${z.payload.metric}`,"isFetching"],!1);default:return y}}},941:(Me,$,e)=>{e.d($,{Hx:()=>c.Z,ac:()=>D,oA:()=>S,p5:()=>P,vd:()=>p});var c=e(63851),N=e(13332),f=e(60653),m=e(65628);let M=null;function D(E){const{config:o,user:d}=E;return o&&d&&M&&M.token===d.get("access_token")?M:d?M=new N.Z(o.set("accessToken",d.get("access_token"))):new N.Z(o)}const P=function(){return E=>(o,d)=>{const a=D(d());if(!a)return Promise.reject(new c.Z("No API"));const u=E(o,d,a);return u&&u.catch&&u.catch(l=>((l==null?void 0:l.code)===401&&o((0,f.wq)(l)),l instanceof c.Z?Promise.reject(l):Promise.reject(new c.Z(l))))}}();function p(E){return P((o,d,a)=>(0,m.$_)((u,l,n)=>E(o,d,a,n))(o,d))}function S(E){const o=E instanceof c.Z?E:new c.Z(E);return o==null?void 0:o.toString().replace(/^Error:\s?/,"")}},6790:(Me,$,e)=>{e.d($,{H6:()=>D,KL:()=>d,KM:()=>n,UG:()=>M,W3:()=>p,Xo:()=>t,Yn:()=>E,bU:()=>l,iT:()=>o,li:()=>S,pO:()=>P,rP:()=>m,zJ:()=>a});var c=e(18432),N=e(941);const f=(0,c.P)("applications"),m=(0,c.x)("applications",f,{key:"client_id"});function M(s){return(0,N.p5)((i,_,r)=>r.application(s).then(g=>i(f.applicationSuccess(g.data))))}function D(){return(0,N.p5)((s,i,_)=>_.applications().then(r=>s(f.applicationsSuccess("oauth",r.data,r.pagination))))}function P(s){return(0,N.p5)((i,_,r)=>r.authorizedApplications(s).then(g=>i(f.applicationsSuccess("authorized",g.data,g.pagination))))}function p(s){return(0,N.p5)((i,_,r)=>r.createApplication(s).then(g=>i(D())))}function S(s,i){return(0,N.p5)((_,r,g)=>g.updateApplication(s,i).then(I=>_(f.applicationSuccess(I.data))))}function E(s){return(0,N.p5)((i,_,r)=>r.removeApplication(s).then(g=>i(D())))}function o(s,i){return(0,N.p5)((_,r,g)=>g.revokeAuthorizedApplication(s,i).then(I=>_(P(i))))}function d(s,i,_){return(0,N.p5)((r,g,I)=>I.createPersonalToken(s,i,_))}function a(s,i){return s.applications.getIn(["entities",i])}function u(s){const i=s.applications.getIn(["pages","oauth","ids"]);return i&&i.map(_=>a(s,_))}function l(s){const i=s.applications.getIn(["pages","authorized","ids"]);return i&&i.map(_=>a(s,_))}function n(s){const i=u(s);return i&&i.filter(_=>!_.get("personal"))}function t(s){const i=u(s);return i&&i.filter(_=>_.get("personal"))}},52194:(Me,$,e)=>{e.d($,{LW:()=>m,Sy:()=>D,rw:()=>P,sQ:()=>M,yb:()=>p});var c=e(18432),N=e(941);const f=(0,c.P)("authProviders"),m=(0,c.x)("authProviders",f);function M(S){return(0,N.p5)((E,o,d)=>d.authProviders(S.get("id")).then(a=>E(f.authProvidersSuccess(S.get("id"),a.data,a.pagination)),a=>E(f.authProvidersFailure(S.get("id"),a))))}function D(S,E){return(0,N.p5)((o,d,a)=>{const{type:u,apiID:l,apiSecret:n}=E.toJS();return a.createAuthProvider(S.get("id"),u,l,n).then(t=>o(M(S)))})}function P(S,E){return(0,N.p5)((o,d,a)=>a.removeAuthProvider(S.get("id"),E.get("name")).then(u=>o(M(S))))}function p(S,E){const o=S.authProviders.getIn(["pages",E,"ids"]);return o&&o.map(d=>S.authProviders.getIn(["entities",d]))}},60653:(Me,$,e)=>{e.d($,{$D:()=>Y,A9:()=>le,B9:()=>y,Bh:()=>Ke,DL:()=>G,EA:()=>he,HF:()=>_e,KE:()=>H,Kk:()=>ne,Nq:()=>Le,Ov:()=>q,Qk:()=>re,Sz:()=>de,TX:()=>b,VB:()=>te,Wb:()=>B,Wk:()=>ue,YR:()=>w,Yn:()=>C,_b:()=>Pe,c0:()=>Se,ek:()=>K,fq:()=>z,hP:()=>F,k3:()=>ve,ou:()=>me,pH:()=>se,t:()=>ge,wq:()=>V,xh:()=>Te,zj:()=>Ae});var c=e(90046),N=e.n(c),f=e(19271),m=e(18643),M=e(7442),D=e(16015),P=e(28739),p=e(63851),S=e(82214),E=e(83303),o=e(84525),d=e(14154),a=e(68854),u=e(54856),l=e(40917),n=e(91800),t=e(941),s=e(65628),i=e(87430),_=e(93716);const r="nf-session",g="AUTH_ERROR",I="USER_REQUEST",U="USER_ERROR",X="RESET_PASSWORD_SUCCESS",W="LOGIN_USER",T="UPDATE_USER",B="LOGOUT_USER",re="USER_SIGNUP",x="USER_SUCCESS",ee="USER_SUCCESS_SHALLOW",J=(0,m.Z)(X),ae=(0,m.Z)(re,h=>({user:h}));function F(){try{const h=localStorage.getItem(r);return h&&JSON.parse(h).access_token}catch(h){return console.error("Error parsing data from local storage",h),null}}function Y({reload:h=!1}={}){return(Z,De)=>{const ye=De(),O=_e(ye);if(O&&!h)return Promise.resolve(O);const R=F();return R&&(0,S.W8)()?oe(ye.config,R).then(ie=>(ie.id!==(O==null?void 0:O.get("id"))?Z({type:W,payload:ie}):Z({type:T,payload:ie}),_e(De()))):Promise.resolve(null)}}function oe(h,Z){const De={access_token:Z};return(0,t.ac)({config:h,user:(0,c.Map)(De)}).user().then(ye=>({...ye.data,...De}))}function L(h,Z){return(0,t.ac)({config:h}).verifyUserByToken(Z).then(ye=>{if(ye.data.state==="error")throw new p.Z(ye.data);return ye.data.data.user})}function j(h,Z,De){const{config:ye}=h();return De?L(ye,Z):oe(ye,Z)}function me({token:h,isSignup:Z,isReviewer:De,isVerify:ye,redirect:O}){return(R,ie)=>j(ie,h,ye).then(async Ie=>{R({type:B});const Re=(Ie==null?void 0:Ie.access_token)&&Ie.access_token!=="use-http-auth-token";if((Z||!(0,S.W8)())&&Re)try{await(0,l.sV)({access_token:Ie.access_token})}catch{}R(se(Ie,Z));const Oe=(0,a.le)("persistedQueryParams")||"";(0,a.e8)("persistedQueryParams");const We=(0,E.VP)(Oe,Xe=>S.Fh.includes(Xe));Z&&!De&&We.append("new_user",Z);const Ve=We.toString()&&`?${We.toString()}`,qe=`${O||""}${Ve}`;R(fe(`${qe}`))}).catch(Ie=>Promise.reject(new p.Z("Invalid authorization code")))}function se(h,Z,De,ye){return(O,R)=>{if(h=Object.assign({},h),Z||h.isSignup?O(ae(h)):De||M.iND.appUserLogin({category:"user",label:"User Login"}),delete h.isSignup,De||h.isUpdate){delete h.isUpdate;const We=(0,a.le)(r);h=(0,c.fromJS)(JSON.parse(We)).mergeDeep((0,c.fromJS)(h)).toJS()}const ie={access_token:"use-http-auth-token"};(0,a.D$)(r,JSON.stringify(ie));const{originAllowedToAuth:Ie,openerOrigin:Re}=H();try{!De&&Ie&&(0,l.$f)().then(We=>{ie.access_control_token=We}).finally(()=>{window.opener.postMessage({type:"LOGIN",payload:JSON.stringify(ie)},Re)})}catch(We){console.log("auth \uFE65 loginUser",We)}const Oe={type:ye||W,payload:{loggedInAt:Date.now(),isSignup:Z,isUpdate:De,...h}};O(Oe)}}function Te(h,Z){return(0,t.p5)((De,ye,O)=>O.fetchEdgeAccessToken(h,Z))}function q(h){return(Z,De)=>{(0,l.vH)(),(0,d.K$)(),(0,a.ZL)({exclude:[P.N9,S.d$,S.cp,D.Nk]}),Z({type:B}),Z(fe(h))}}function b(h){return(0,t.p5)((Z,De,ye)=>{const O=_e(De());return(0,o.jK)(O==null?void 0:O.get("email"))||ye.destroyAccessToken(),u.Z.shutdown(),Z(q(h))})}function V(h){return{type:g,payload:h}}function ne(h){return(0,t.p5)((Z,De,ye)=>ye.resetPasswordEmail(h))}function Se(h,Z,De){return(0,t.p5)((ye,O,R)=>R.resetPassword(h,Z,De).then(()=>{ye(q("/")),ye(J({success:!0}))}))}function Pe(h){return(0,t.p5)((Z,De,ye)=>(Z({type:I}),ye.updateUserQuestionnaireTelemetry(h).then(()=>Z(Y({reload:!0}))).then(()=>_e(De()))))}function Le(h){return(0,t.p5)((Z,De,ye)=>(Z({type:I}),ye.updateUser(h).then(async({data:O})=>{const{password:R,full_name:ie,avatar:Ie}=h;Ie&&await ye.updateUserAvatar(Ie).then(()=>{Z(Y({reload:!0})),Z((0,n.vP)())}).catch(Re=>new p.Z(Re)),Z(R?q(window.location.pathname):se(O,!1,!0,x)),!R&&ie&&Z((0,n.vP)())}).then(()=>_e(De()))))}function ve(h){return(0,t.p5)((Z,De,ye)=>(Z({type:I}),ye.updateUser(h).then(async({data:O})=>{Z({type:ee,payload:O})})))}function te(){return(0,t.p5)((h,Z,De)=>De.deleteUserAvatar().then(()=>{h(Y({reload:!0})),h((0,n.vP)())}).catch(ye=>new p.Z(ye)))}function le(h,Z){return(0,t.p5)((De,ye,O)=>O.verifyUser(h,Z).then(()=>De(Y({reload:!0}))).catch(R=>new p.Z(R)))}function Ae(h,Z){return(0,t.p5)((De,ye,O)=>O.verifySamlUserByToken(h,Z).then(R=>De((0,i.e7)(R.data.data.user,R.data.data.saml_slug))).catch(R=>new p.Z(R)))}function y(){return M.iND.appUserDelete(),(0,t.p5)((h,Z,De)=>De.disableUser())}function z(h="slides",Z="closed"){return(De,ye)=>{const R=_e(ye()).get("onboarding_progress")||(0,c.Map)();return De(Le({onboarding_progress:R.set(h,Z)}))}}function de(h){return(Z,De)=>{var ye;const O=_e(De());let R={};return typeof O.getIn(["onboarding_progress","guided_onboarding"])!="string"&&(R=(ye=O.getIn(["onboarding_progress","guided_onboarding"],(0,c.Map)()))==null?void 0:ye.toJS()),Z(z("guided_onboarding",{...R,...h}))}}function Ce(h){return new l.ZP(h.config.toJS())}function C({provider:h}){return(0,t.p5)((Z,De,ye)=>((0,l.xw)({url:"/authorizing.html",provider:h}),ye.authLink({provider:h}).then(O=>new Promise((R,ie)=>Ce(De()).open({url:O.data.redirect_uri,provider:h},(Ie,Re)=>Ie?ie(Ie):R(Re)))).then(O=>Z(Y({reload:!0}))).catch(O=>((0,l.on)(),Promise.reject(O)))))}function G({provider:h}){return(0,t.p5)((Z,De,ye)=>ye.authUnlink({provider:h}).then(O=>Z(Y({reload:!0}))))}function w(h){return(0,t.p5)((Z,De,ye)=>{const O=De(),R=_e(O),ie={provider:"github",redirect:!0,login:!R||h.signup||h.forceAuth,...h};return ie.amnesia?ye.resetPasswordEmail(ie.email).then(()=>({verify:!0})):new Promise((Ie,Re)=>Ce(O).authenticate(ie,async(Oe,We)=>{var Ve;if(Oe)return Re(Oe);if(We.verify)return Ie(We);if(We.redirect_uri)return Z(fe(We.redirect_uri)),Ie(We);ie.login&&We.user&&(Z({type:B}),(Ve=We==null?void 0:We.user)!=null&&Ve.access_token&&We.user.access_token!=="use-http-auth-token"&&(await(0,l.sV)({access_token:We.user.access_token}),We.user.access_token="use-http-auth-token"),Z(se(We.user,We.new_user)),Z(fe(ie.next))),Z((0,s.fc)(ie.provider,We)),M.iND.appSignupGitProviderCreated({userId:R==null?void 0:R.get("id"),gitProvider:ie.provider}),Ie(We)}))})}function ge(h){Ke(h)&&(0,a.D9)("next",h)}function pe(h){const Z=typeof h=="string"&&h||sessionStorage.getItem("next")||"/";return Ke(Z)?Z:"/"}function fe(h){return h=pe(h),Z=>{Z((0,_.Ee)(h))}}function Ke(h){return h&&(h.startsWith("/sso")||h.startsWith("/auth")||h==="/login/email")?(console.log("next redirect is for an auth path. Ignoring to avoid loops",h),!1):!0}function he(h=null,Z){switch(Z.type){case g:return h?h.set("authError","forbidden"):N().fromJS({authError:"missing"});case f.nk:return h&&h.delete("authError");case W:return N().fromJS(Z.payload);case T:return N().fromJS(Z.payload);case B:return null;case I:return h.set("isFetching",!0);case x:return h.mergeDeep(Z.payload,{isFetching:!1,authError:null});case ee:return h.merge(Z.payload,{isFetching:!1,authError:null});case U:return h.merge({isFetching:!1,error:Z.payload});default:return h}}function K(h=(0,c.fromJS)({}),Z){switch(Z.type){case X:return h.merge((0,c.fromJS)({resetSuccess:Z.payload.success}));default:return h}}function k(h){const{user:Z}=h;return(Z==null?void 0:Z.get("password_errors"))||null}function ue(h){const{userPassword:Z}=h;return(Z==null?void 0:Z.get("resetSuccess"))||!1}function _e(h){const{user:Z}=h;return Z&&Z.get("id")?Z:null}function H(){var h;let Z="",De=!1;if(window.opener===null)return{originAllowedToAuth:!!De,openerOrigin:Z};const O=new URLSearchParams(window.location.search).get("opener-origin")||(0,a.jE)("opener-origin");try{Z=(h=window.opener)==null?void 0:h.origin}catch(ie){console.error(ie)}return!Z&&O&&((0,a.w4)("opener-origin",O,1e3*60*30),Z=decodeURIComponent(O)),Z&&(Z=new URL(Z).origin),De=[window.origin,"https://www.netlify.com","https://docs.netlify.com"].includes(Z),De||(/--docs.netlify.app$/.test(Z)||/--www.netlify.app$/.test(Z))&&(De=!0),{originAllowedToAuth:!!De,openerOrigin:Z}}},64614:(Me,$,e)=>{e.d($,{Ks:()=>_,Uc:()=>X,gg:()=>oe,nY:()=>ee,oF:()=>J,ot:()=>i,xm:()=>x,y_:()=>B});var c=e(90046),N=e.n(c),f=e(18643),m=e(76371),M=e(91800),D=e(941);const P="BILLING_SUCCESS",p="PAYMENT_PROVIDER_TOKEN",S="PAYMENT_PROVIDER_TOKEN_SECURE_DECISION",E="BILLING_SUMMARY_SUCCESS",o="ACCOUNT_SUBSCRIPTIONS_SUCCESS",d="ACCOUNT_INVOICES_SUCCESS",a=(0,f.Z)(P,L=>L),u=(0,f.Z)(p,L=>L),l=(0,f.Z)(S,L=>L),n=(0,f.Z)(E,L=>L),t=(0,f.Z)(o,(L,j)=>({id:L.get("id"),subscriptions:j})),s=(0,f.Z)(d,(L,j)=>({id:L.get("id"),invoices:j}));function i(L){return j=>{j(l(L))}}function _(L){return(j,me)=>{j((0,M.i6)(L)),j(r(L)),j(g(L)),j(I(L))}}function r(L){return(0,D.p5)((j,me,se)=>se.accountBillingSummary(L.get("slug")).then(Te=>j(n(Te.data))))}function g(L){return(0,D.p5)((j,me,se)=>se.accountSubscriptions(L.get("slug")).then(Te=>j(t(L,Te.data))))}function I(L){return(0,D.p5)((j,me,se)=>se.accountInvoices(L.get("slug"),{pending:!0}).then(Te=>j(s(L,Te.data))))}function U(L){return withApi((j,me,se)=>se.updateBilling(L).then(Te=>j(a(Te.data))))}function X(L,j){return(0,D.p5)((me,se,Te)=>{const q=x(se()),b=J(se(),L,j,q);return me(u(null)),Te.paymentProviderToken(b).then(V=>(V.data.sandbox=!!b.sandbox,V.data.enterpriseException=!!b.enterpriseException,V.data.secure=!!b.secure,me(u(V.data)),V.data))})}function W(L,j){return L.base.toString().localeCompare((!!j.base).toString())*-1||(L.site_domain||L.site_name||"").localeCompare(j.site_domain||j.site_name||"")||(L.site_id||"").localeCompare(j.site_id||"")||(L.title||"").localeCompare(j.title||"")}function T(L){return L.base||L.amount?!0:!(L.product_name.toLowerCase()==="bandwidth"||/usage/i.test(L.title)||L.quantity===0&&L.charges.every(j=>j.quantity===0))}function B(L=(0,c.Map)(),j){switch(j.type){case E:return L.set(j.payload.id,(0,c.fromJS)(j.payload));case o:return L.set(`${j.payload.id}-subscriptions`,(0,c.fromJS)(j.payload.subscriptions.filter(T).sort(W)));case d:return L.set(`${j.payload.id}-invoices`,(0,c.fromJS)(j.payload.invoices));case p:return L.set("paymentProviderToken",j.payload);case S:return L.set("paymentProviderTokenSecure",j.payload);default:return L}}function re(L){return L.billing&&L.billing.get("paymentProviderToken")}function x(L){return L.billing&&L.billing.get("paymentProviderTokenSecure")}function ee(L){return L?(L.get("payments_gateway_name")||"").startsWith("zuora")?"zuora":"braintree":"zuora"}function J(L,j,me,se){const Te=ee(j),q=(0,m.qC)(j);return{provider:Te,sandbox:me,secure:se,accountId:j&&j.get("id"),enterpriseException:q}}function ae(L,j){return L.billing.get(j.get("id"))}function F(L,j){return L.billing.get(`${j.get("id")}-subscriptions`)}function Y(L,j){return L.billing.get(`${j.get("id")}-invoices`)}function oe(L,j){const me=ae(L,j);return me&&me.merge({subscriptions:F(L,j),invoices:Y(L,j)})}},64334:(Me,$,e)=>{e.d($,{$T:()=>P,Bt:()=>m,HN:()=>D,Kr:()=>p,xF:()=>M});var c=e(18432),N=e(941);const f=(0,c.P)("buildHooks"),m=(0,c.x)("buildHooks",f);function M(E){return(0,N.p5)((o,d,a)=>a.buildHooks(E.get("id")).then(u=>o(f.buildHooksSuccess(E.get("id"),u.data,u.pagination))))}function D(E,o){return(0,N.p5)((d,a,u)=>u.addBuildHook(E.get("id"),{title:o.get("title"),branch:o.get("branch")}).then(l=>d(M(E))))}function P(E,o){return(0,N.p5)((d,a,u)=>u.removeBuildHook(E.get("id"),o.get("id")).then(l=>d(M(E))))}function p(E,o){const d=o&&E.buildHooks.getIn(["pages",o.get("id"),"ids"]);return d&&d.map(a=>S(E,a))}function S(E,o){return E.buildHooks.getIn(["entities",o])}},71333:(Me,$,e)=>{e.d($,{$1:()=>W,DF:()=>me,Hg:()=>F,MZ:()=>Te,UL:()=>ae,ej:()=>B,fO:()=>Y,pO:()=>j,qJ:()=>re,t9:()=>ee,tb:()=>J,wr:()=>se,x6:()=>x});var c=e(90046),N=e.n(c),f=e(18643),m=e(18432),M=e(98515),D=e(941);const P="BUILD_STATUS_SUCCESS",p="BUILD_STATUS_PER_SITE_SUCCESS",S="BUILDS_PER_DAY_SUCCESS",E="BUILD_QUEUE_BUMP_REQUEST",o="BUILD_QUEUE_BUMP_SUCCESS",d="BUILD_QUEUE_BUMP_FAILURE",a="WS_BUILD_CREATED",u="WS_BUILD_MODIFIED",l="WS_BUILD_DELETED",n=(0,f.Z)(P,(q,b)=>({id:q.get("id"),data:b})),t=(0,f.Z)(p,(q,b)=>({id:q.get("id"),data:b})),s=(0,f.Z)(S,(q,b)=>({id:q.get("id"),data:b})),i=(0,f.Z)(E,q=>({buildId:q})),_=(0,f.Z)(o,q=>({buildId:q})),r=(0,f.Z)(d,(q,b)=>({buildId:q,error:b})),g=(0,f.Z)(a,q=>q),I=(0,f.Z)(u,q=>q),U=(0,f.Z)(l,q=>q),X=(0,m.P)("builds"),W=(0,m.x)("builds",X,{handler:(q,b)=>{const{type:V,payload:ne}=b;switch(V){case P:return q.set(ne.id,(0,c.fromJS)(ne.data));case p:return q.set(`${ne.id}-per-site`,(0,c.fromJS)(ne.data));case S:return q.set(`${ne.id}-per-day`,(0,c.fromJS)(ne.data));case E:{const{buildId:Se}=ne;return q.withMutations(Pe=>{Pe.setIn(["entities",Se,"isPushing"],!0).setIn(["entities",Se,"errorOnQueueBump"],null)})}case o:{const{buildId:Se}=ne;return q.setIn(["entities",Se,"isPushing"],!1)}case d:{const{buildId:Se,error:Pe}=ne;return q.withMutations(Le=>{Le.setIn(["entities",Se,"errorOnQueueBump"],(0,c.fromJS)(Pe)).setIn(["entities",Se,"isPushing"],!1)})}case a:return(0,M.qK)(q,ne);case u:return(0,M.Rt)(q,ne);case l:return(0,M.GM)(q,ne);default:return null}}});function T(q){return q.get("id")}function B(q,b={},V=!1){const ne=T(q);return(0,D.p5)((Se,Pe,Le)=>(V&&Se(X.buildsRequest(ne)),Le.accountBuilds(q.get("slug"),b).then(ve=>Se(X.buildsSuccess(ne,ve.data,ve.pagination)))))}function re(q){return(0,D.p5)((b,V,ne)=>ne.accountBuildStatus(q.get("slug")).then(Se=>b(n(q,Se.data))))}function x(q,b){return(0,D.p5)((V,ne,Se)=>(V(i(b)),Se.accountBuildQueueBump(q.get("slug"),b).then(()=>V(_(b))).catch(Pe=>{throw V(r(b,Pe)),Pe})))}function ee(q,b){return q.builds.get(b.get("id"))}function J(q){return(0,D.p5)((b,V,ne)=>ne.accountBuildStatusPerSite(q.get("slug")).then(Se=>b(t(q,Se.data))))}function ae(q,b){return q.builds.get(`${b.get("id")}-per-site`)}function F(q){return(0,D.p5)((b,V,ne)=>ne.accountBuildsPerDay(q.get("slug")).then(Se=>{b(s(q,Se.data))}))}function Y(q,b){return q.builds.get(`${b.get("id")}-per-day`)}function oe(q,b){const V=q.builds.getIn(["entities",b]);return V&&V.set("build_id",V.get("id"))}function L(q,b){const V=me(q,b);return V&&V.get("isFetching")}function j(q,b){if(L(q,b))return null;const V=q.builds.getIn(["pages",T(b),"ids"]);return V&&V.map(ne=>oe(q,ne))}function me(q,b){return q.builds.getIn(["pages",T(b)])}const se=(q,b)=>V=>{const{page:ne,account_id:Se}=b;if(ne===1){const Pe=T((0,c.fromJS)({id:Se}));V(g(q.set("listKey",Pe)))}},Te=(q,b)=>V=>{const ne=T((0,c.fromJS)({id:b.account_id}));q.get("state")==="deleted"?V(U(q.set("listKey",ne))):V(I(q.set("listKey",ne)))}},64455:(Me,$,e)=>{e.d($,{AB:()=>E,Bm:()=>S,Dj:()=>p,X1:()=>o,rE:()=>d});var c=e(90046),N=e.n(c),f=e(18643),m=e(941),M=e(34571);const D="CERTIFICATE_SUCCESS",P=(0,f.Z)(D,(a,u)=>({siteId:a,certificate:u}));function p(a){return(0,m.p5)((u,l,n)=>{const t=a.get("id");return n.certificate(t).then(s=>u(P(t,s.data)))})}function S(a,u,l){return(0,m.p5)((n,t,s)=>{const i=a.get("id");return u.force_ssl?n((0,M.L3)(a,u)):s.updateSsl(i,u,l).then(({data:_})=>(_&&n(P(i,_)),(!_||l)&&setTimeout(r=>n(p(a)),1*30*1e3),n((0,M.EQ)(a.get("name")))))})}function E(a){const u=a.get("id");return(0,m.p5)((l,n,t)=>t.verifySsl(u).then(s=>(0,c.fromJS)(s.data)))}function o(a=(0,c.Map)(),u){switch(u.type){case D:return a.set(u.payload.siteId,(0,c.fromJS)(u.payload.certificate));default:return a}}function d(a,u){return u.get("ssl")&&a.certificates.get(u.get("id"))}},99647:(Me,$,e)=>{e.d($,{Ji:()=>p,TZ:()=>S,rF:()=>m,vc:()=>M,vv:()=>P});var c=e(90046),N=e.n(c);const f="UPDATE_CONFIG";function m(E){return{type:f,payload:E}}function M(E=N().Map(),o){switch(o.type){case f:return E.merge(o.payload);default:return E}}function D(E){return E.config.get("apiBase")}function P(E){const o=D(E);return o&&o.replace(/\/api\/v\d\/?$/,"")}function p(E){return E.config.get("siteId")}function S(E){return E.config.get("githubAppId")}},11543:(Me,$,e)=>{e.d($,{C0:()=>E,qh:()=>P,t6:()=>S});var c=e(90046),N=e.n(c),f=e(18643),m=e(941);const M="DEPLOY_ACTIVITY_SUCCESS",D=(0,f.Z)(M,o=>o);function P(o,d){var a;return(a=o.deployActivity.getIn(["data"]))==null?void 0:a.toJS()}function p([o,d]){const u=o.data.filter(n=>n.type==="comment").map(n=>n.service_comment_id),l=d.data.comments.filter(({body:n,id:t})=>!!n&&!u.includes(String(t)));return o.data.concat(l.map(n=>({type:"comment",comment:n})))}function S(o){return(0,m.p5)((d,a,u)=>Promise.all([u.deployActivity(o),u.fetchPullRequest(o)]).then(n=>{const t=p(n);return d(D(t))}).catch(n=>new m.Hx(n)))}const E=(o=(0,c.Map)(),d)=>{switch(d.type){case M:return o.set("data",(0,c.fromJS)(d.payload));default:return o}}},88572:(Me,$,e)=>{e.d($,{A:()=>m,bO:()=>M,f$:()=>P});var c=e(18432),N=e(941);const f=(0,c.P)("deployCommitters"),m=(0,c.x)("deployCommitters",f,{key:"deployId"});function M(p,S){var E;return(E=p.deployCommitters.getIn(["entities",S,"data",0]))==null?void 0:E.toJS()}function D(p){return withApi((S,E,o)=>o.deployCommitters(p).then(d=>S(f.deployCommittersSuccess("deployCommitters",[{deployId:p,data:d.data}]))))}function P(p,S){return(0,N.p5)((E,o,d)=>d.inviteCommitter(p,S).then(a=>{E(f.inviteCommittersSuccess(a.data))}).catch(a=>new N.Hx(a)))}},37771:(Me,$,e)=>{e.d($,{Mi:()=>l,RR:()=>u,ox:()=>a,qN:()=>E,rK:()=>o});var c=e(90046),N=e.n(c),f=e(18643),m=e(941),M=(n=>(n.DEPLOY_PLUGIN_RUNS_REQUEST="DEPLOY_PLUGIN_RUNS_REQUEST",n.DEPLOY_PLUGIN_RUNS_SUCCESS="DEPLOY_PLUGIN_RUNS_SUCCESS",n.DEPLOY_PLUGIN_RUNS_FAILURE="DEPLOY_PLUGIN_RUNS_FAILURE",n))(M||{});const D=(0,f.Z)("DEPLOY_PLUGIN_RUNS_REQUEST",n=>n),P=(0,f.Z)("DEPLOY_PLUGIN_RUNS_SUCCESS",(n,t)=>({deployId:n,deployPluginRuns:t})),p=(0,f.Z)("DEPLOY_PLUGIN_RUNS_FAILURE",(n,t)=>({deployId:n,error:t})),S=n=>n.reduce((t,s)=>(t.get(s.state)?t.set(s.state,t.get(s.state).push(s.package)):t.set(s.state,(0,c.List)([s.package]))).set("all",t.get("all").push(s.package)),(0,c.Map)({all:(0,c.List)()}));function E(n=(0,c.Map)(),t){switch(t.type){case"DEPLOY_PLUGIN_RUNS_REQUEST":return n.setIn([t.payload,"isFetching"],!0);case"DEPLOY_PLUGIN_RUNS_SUCCESS":{const{deployId:s,deployPluginRuns:i}=t.payload;return n.withMutations(_=>{i.forEach(r=>{_.setIn([s,"data",r.package],(0,c.fromJS)(r))}),_.setIn([s,"listByState"],S(i)).setIn([s,"isFetching"],!1)})}case"DEPLOY_PLUGIN_RUNS_FAILURE":{const{deployId:s,error:i}=t.payload;return n.setIn([s,"error"],(0,c.fromJS)(i)).setIn([s,"isFetching"],!1)}default:return n}}function o(n){return(0,m.p5)((t,s,i)=>(t(D(n)),i.deployPluginRuns(n).then(_=>t(P(n,_.data))).catch(_=>t(p(n,_)))))}function d(n,t){var s,i;return t&&(i=(s=n.deployPluginRuns.get(t))==null?void 0:s.get("isFetching"))!=null?i:!1}function a(n,t){var s;return t?(s=n.deployPluginRuns.get(t))==null?void 0:s.get("error"):void 0}function u(n,t){var s;return t?(s=n.deployPluginRuns.get(t))==null?void 0:s.get("data"):void 0}function l(n,t){var s;return t?(s=n.deployPluginRuns.get(t))==null?void 0:s.get("listByState"):void 0}},68154:(Me,$,e)=>{e.d($,{$z:()=>S,CJ:()=>E,Ed:()=>o,LS:()=>d,SK:()=>a});var c=e(90046),N=e.n(c),f=e(18643),m=e(941),M=(u=>(u.DEPLOY_SUMMARY_REQUEST="DEPLOY_SUMMARY_REQUEST",u.DEPLOY_SUMMARY_SUCCESS="DEPLOY_SUMMARY_SUCCESS",u.DEPLOY_SUMMARY_FAILURE="DEPLOY_SUMMARY_FAILURE",u))(M||{});const D=(0,f.Z)("DEPLOY_SUMMARY_REQUEST",u=>u),P=(0,f.Z)("DEPLOY_SUMMARY_SUCCESS",(u,l)=>({deployId:u,deploySummary:l})),p=(0,f.Z)("DEPLOY_SUMMARY_FAILURE",(u,l)=>({deployId:u,error:l}));function S(u=(0,c.Map)(),l){switch(l.type){case"DEPLOY_SUMMARY_REQUEST":return u.setIn([l.payload,"isFetching"],!0);case"DEPLOY_SUMMARY_SUCCESS":{const{deployId:n,deploySummary:t}=l.payload;return u.setIn([n,"data"],(0,c.fromJS)(t)).setIn([n,"isFetching"],!1)}case"DEPLOY_SUMMARY_FAILURE":{const{deployId:n,error:t}=l.payload;return u.setIn([n,"error"],(0,c.fromJS)(t)).setIn([n,"isFetching"],!1)}default:return u}}function E(u){return(0,m.p5)((l,n,t)=>(l(D(u)),t.deploySummary(u).then(s=>l(P(u,s.data))).catch(s=>l(p(u,s)))))}function o(u,l){var n,t;return(t=(n=u.deploySummary.get(l))==null?void 0:n.get("isFetching"))!=null?t:!1}function d(u,l){var n;return(n=u.deploySummary.get(l))==null?void 0:n.get("error")}function a(u,l){var n;return(n=u.deploySummary.get(l))==null?void 0:n.get("data")}},84673:(Me,$,e)=>{e.d($,{Bn:()=>Y,E:()=>X,FN:()=>oe,JN:()=>T,Kr:()=>x,LT:()=>F,N2:()=>W,Nw:()=>r,Oh:()=>q,Q7:()=>re,dk:()=>Pe,e5:()=>g,hh:()=>V,il:()=>ee,kR:()=>me,lZ:()=>B,li:()=>L,ly:()=>b,mh:()=>Se,pU:()=>se,rQ:()=>ve,tQ:()=>Te,tk:()=>Le,vQ:()=>j});var c=e(90046),N=e.n(c),f=e(34740),m=e(19271),M=e(18643),D=e(18432),P=e(98515),p=e(941),S=e(34571);const E="SET_BUILD_TIME",o="DELETE_DEPLOY_SUCCESS",d="WS_DEPLOY_CREATED",a="WS_DEPLOY_MODIFIED",u="WS_DEPLOY_DELETED";function l(te){return new Date(te).setMilliseconds(0)}const n=(0,M.Z)(E,(te,le,Ae)=>({id:te.get("id"),start:l(le),end:l(Ae)})),t=(0,M.Z)(o,te=>({deployId:te})),s=(0,M.Z)(d,te=>te),i=(0,M.Z)(a,te=>te),_=(0,M.Z)(u,te=>te),r=(0,D.P)("deploys"),g=(0,D.x)("deploys",r,{handler:(te,le)=>{const{type:Ae,payload:y}=le;switch(Ae){case E:return te.set(y.id,(0,c.fromJS)({build_time:{start:y.start,end:y.end,seconds:(y.end-y.start)/1e3}}));case o:const{deployId:z}=y;return te.withMutations(de=>{de.delete("pages"),de.deleteIn(["entities",z]),de.delete(z)});case d:return(0,P.qK)(te,y);case a:return(0,P.Rt)(te,y);case u:return(0,P.GM)(te,y);default:return null}}}),I={state:"pending_review"};function U(te,le={}){return[te.get("id"),le.filter||"",le.state||"",le.from||"",le.to||"",le.page||1].join("-")}function X(te,le,Ae){return n(te,le,Ae)}function W(te){return(0,p.p5)((le,Ae,y)=>y.deploy(te).then(z=>(le(r.deploySuccess(z.data)),V(Ae(),te))))}function T(te,le={}){return(0,p.p5)((Ae,y,z)=>z.deploys(te.get("id"),le).then(de=>Ae(r.deploysSuccess(U(te,le),de.data,de.pagination))))}function B(te,le={}){const Ae={...le,perPage:100,minimal:!0},y=[];return(0,p.p5)((z,de,Ce)=>{const C=(G,w)=>Ce.deploys(G.get("id"),w).then(ge=>{var pe;return y.push(...ge.data),(pe=ge.pagination)!=null&&pe.next?(w.page=ge.pagination.next,C(G,w)):(delete w.page,z(r.deploysSuccess(U(G,w),y,[])))});return C(te,Ae)})}function re(te){return T(te,I)}function x(te,le={}){return(0,p.p5)((Ae,y,z)=>Promise.all([Ae(T(te,le)),Ae(re(te))]))}function ee(te,le){const Ae=te.get("id");return(0,p.p5)((y,z,de)=>de.triggerDeploy(Ae,le).then(Ce=>{y((0,m.VF)(`/sites/${te.get("name")}/deploys/${Ce.data.deploy_id}`))}))}function J(te,le){const Ae=te.get("id");return withApi((y,z,de)=>de.triggerDeploy(Ae,le))}function ae(te,le,Ae){const y=le.get("id"),z=te.get("name");return(0,p.p5)((de,Ce,C)=>Ae(C,y).then(G=>de(r.deploySuccess(G.data))).then(()=>de((0,S.EQ)(z))))}function F(te,le){return ae(te,le,(Ae,y)=>Ae.publishDeploy(y))}function Y(te,le){return ae(te,le,(Ae,y)=>Ae.lockDeploy(y))}function oe(te,le){return ae(te,le,(Ae,y)=>Ae.unlockDeploy(y))}function L(te,le){return ae(te,le,(Ae,y)=>Ae.cancelDeploy(y))}function j(te,le){const Ae=le==null?void 0:le.get("id");return(0,p.p5)((y,z,de)=>de.deleteDeploy(Ae).then(()=>y(t(Ae))))}function me(te,le,Ae){const y=le.get("id"),z=te.get("name");return(0,p.p5)((de,Ce,C)=>C.retryDeploy(y,Ae).then(()=>f.mW.push(`/sites/${z}/deploys`)))}function se(te){return(0,p.p5)((le,Ae,y)=>y.acceptDeploy(te).then(z=>le(r.deploySuccess(z.data))))}function Te(te){return(0,p.p5)((le,Ae,y)=>y.rejectDeploy(te).then(z=>le(r.deploySuccess(z.data))))}function q(te,le,Ae){const{perPage:y}=Ae,z=te.deploys.getIn(["pages",U(le,Ae),"ids"]),de=z&&z.map(Ce=>V(te,Ce));return de&&y?de.take(y):de}function b(te,le,Ae){return te.deploys.getIn(["pages",U(le,Ae)])}function V(te,le){const Ae=te.deploys.getIn(["entities",le]);return Ae&&Ae.merge(te.deploys.get(le))}function ne(te,le){return q(te,le,{filter:le.getIn(["build_settings","repo_branch"])})}function Se(te,le){return q(te,le,I)}function Pe(te,le){return(ne(te,le)||(0,c.List)()).first()}const Le=(te,le)=>Ae=>{if((le.page||1)===1){const z=U((0,c.fromJS)({id:te.get("site_id")}),le);Ae(s(te.set("listKey",z)))}},ve=(te,le)=>Ae=>{const y=U((0,c.fromJS)({id:te.get("site_id")}),le);te.get("state")==="deleted"?Ae(_(te.set("listKey",y))):Ae(i(te))}},86025:(Me,$,e)=>{e.d($,{TB:()=>o,h5:()=>u,kr:()=>n,m:()=>d,od:()=>s,pZ:()=>a,ul:()=>l});var c=e(18643),N=e(18432),f=e(941);const m="DNS_RECORD_CREATED",M="DNS_RECORD_DELETED",D="DNS_RECORDS_DELETED",P="DNS_RECORDS_CLEAR_PAGES",p=(0,N.P)("dnsRecords"),S=(0,c.Z)(m,(i,_)=>({domain:i,id:_})),E=(0,c.Z)(M,(i,_)=>({domain:i,id:_})),o=(0,c.Z)(M,i=>({domain:i})),d=(0,c.Z)(P);function a(i){return(0,f.p5)((_,r,g)=>g.dnsRecords(i).then(({data:I,pagination:U})=>_(p.dnsRecordsSuccess(i,I,U))))}function u(i,_){return(0,f.p5)((r,g,I)=>I.createDnsRecord(i.get("name"),_).then(({data:U})=>{r(p.dnsRecordSuccess(U)),r(S(i.get("name"),U.id))}))}function l(i,_){return(0,f.p5)((r,g,I)=>I.destroyDnsRecord(i.get("name"),_.get("id")).then(U=>r(E(i.get("name"),_.get("id")))))}const n=(0,N.x)("dnsRecords",p,{handler:(i,_)=>{switch(_.type){case m:return i.updateIn(["pages",_.payload.domain,"ids"],r=>r.push(_.payload.id));case M:return i.updateIn(["pages",_.payload.domain,"ids"],r=>r.filter(g=>g!==_.payload.id)).deleteIn(["entities",_.payload.id]);case D:return i.deleteIn(["pages",_.payload.domain]);case P:return i.delete("pages");default:return null}}});function t(i,_){return i.dnsRecords.getIn(["entities",_])}function s(i,_){const r=i.dnsRecords.getIn(["pages",_,"ids"]);return r&&r.map(g=>t(i,g))}},43800:(Me,$,e)=>{e.d($,{Aw:()=>r,BC:()=>U,Fg:()=>L,Go:()=>F,HJ:()=>X,Hw:()=>q,RY:()=>W,Rr:()=>Te,S4:()=>ee,XP:()=>j,aL:()=>I,dI:()=>se,db:()=>g,gi:()=>x,jx:()=>Y,q:()=>me,ql:()=>re,rG:()=>oe,x8:()=>B});var c=e(90046),N=e.n(c),f=e(18643),m=e(18432),M=e(63851),D=e(95972),P=e(941),p=e(60653),S=e(86025),E=e(34571);function o(b){return b&&b.get("slug")||null}const d="DNS_VERIFIED",a="DNSZONE_DELETED",u="DNSZONES_CLEAR_PAGES",l="DOMAIN_TOGGLE_AUTO_RENEW",n=(0,m.P)("dnsZones"),t=(0,f.Z)(d,(b,V)=>({domain:b,results:V})),s=(0,f.Z)(a,b=>({domain:b})),i=(0,f.Z)(u),_=(0,f.Z)(l);function r(b,V){const ne=o(b);return(0,P.p5)((Se,Pe,Le)=>Le.dnsZones(ne,V).then(ve=>Se(n.dnsZonesSuccess(ne,ve.data,ve.pagination))))}function g(b){const V=o(b),ne=[],Se=async(Pe,Le=1)=>Pe.dnsZones(V,Le).then(ve=>{const{next:te}=ve==null?void 0:ve.pagination;return ve.data&&ne.push(...ve.data),te?Se(Pe,te):ne});return(0,P.p5)((Pe,Le,ve)=>Se(ve).then(te=>Pe(n.dnsZonesSuccess(V,te))))}function I(b){return(0,P.p5)((V,ne,Se)=>Se.dnsZone(b).then(({data:Pe})=>{V(n.dnsZoneSuccess(Pe)),V((0,S.pZ)(b))}).catch(Pe=>Pe.code===404||Pe.code===401?V(n.dnsZoneSuccess({name:b,error:Pe})):Promise.reject(Pe)).then(Pe=>j(ne(),b)))}function U(b,{account:V,site:ne}){return(0,P.p5)((Se,Pe,Le)=>(Se((0,S.m)()),Le.dnsZone(b).then(({data:ve})=>ve.account_id!==(V&&V.get("id"))?Promise.reject(new M.Z("must be unique")):(Se(n.dnsZoneSuccess(ve)),Se((0,S.pZ)(ve.name)),j(Pe(),ve.name))).catch(ve=>{switch(ve.code){case 404:return Se(T(b,{account:V,site:ne}));case 401:return Promise.reject(new M.Z("must be unique"));default:return Promise.reject(ve)}})))}function X(b,{account:V,site:ne}){const Se=ne&&ne.get("id");return(0,P.p5)((Pe,Le,ve)=>ve.buyDomain(b,V.get("id"),Se).then(({data:te})=>(Pe(I(te.domain)),Se&&Pe((0,E.EQ)(ne.get("name"))),{data:te})))}function W(b,{account:V}){return(0,P.p5)((ne,Se,Pe)=>Pe.searchDomain(b,V.get("id")).then(({data:Le})=>Le))}function T(b,{account:V,site:ne}){return(0,P.p5)((Se,Pe,Le)=>Le.createDnsZone(b,V.get("slug"),{site_id:ne&&ne.get("id")}).then(({data:ve})=>(Se(n.dnsZoneSuccess(ve)),Se((0,S.pZ)(ve.name)),Se(i()),j(Pe(),ve.name))))}function B(b,V){return(0,P.p5)((ne,Se,Pe)=>Pe.destroyDnsZone(b.get("id")).then(Le=>{const ve=b.get("name");ne(s(ve)),ne((0,S.TB)(ve))}))}function re(b,V){return(0,P.p5)((ne,Se,Pe)=>{const Le=b.get("name");return Pe.transferDnsZone(Le,{account_id:b.get("account_id"),transfer_account_id:V.get("id"),transfer_user_id:(0,p.HF)(Se()).get("id")}).then(ve=>ne(I(Le)))})}function x(b,V){return(ne,Se)=>ne((0,E.L3)(b,V))}function ee(b,V){const ne=b.get("name"),Se=b.get("account_id");return(0,P.p5)((Pe,Le,ve)=>ve.toggleDomainAutoRenew(ne,Se,V).then(()=>Pe(_({domain:ne,autorenew:V}))))}function J(b){return b.json().then(V=>b.ok?V:Promise.reject(new M.Z(V||{})))}function ae(b){return(0,D.hh)(b).then(V=>{const{subdomain:ne,domain:Se,tld:Pe}=V||{},Le=V?`${Se}.${Pe}`:b,ve=[b];return V&&!ne?ve.push(`www.${Le}`):ne==="www"&&ve.push(Le),{root:Le,subdomain:ne,results:ve.map(le=>({domain:le,result:!1,error:"We couldn\u2019t resolve the domain. Request timed out"}))}})}function F(b,V){return(ne,Se)=>{const Pe=!V&&se(Se(),b);return Pe&&Pe.getIn(["results",0,"result"])?Promise.resolve(Pe):fetch(`/.netlify/functions/verify?domain=${b}`).then(ve=>J(ve)).then(ve=>ne(t(b,ve))).catch(ve=>ae(b).then(te=>ne(t(b,te)))).then(()=>se(Se(),b))}}function Y(b){return(V,ne)=>{const Se=b.get("custom_domain");return Se?V(F(Se)):Promise.resolve()}}const oe=(0,m.x)("dnsZones",n,{key:"name",handler:(b,V)=>{switch(V.type){case d:return b.set(V.payload.domain,(0,c.fromJS)(V.payload.results));case a:return b.deleteIn(["entities",V.payload.domain]).delete("pages");case u:return b.delete("pages");case l:return b.setIn(["entities",V.payload.domain,"domain","auto_renew"],V.payload.autorenew);default:return null}}});function L(b,V){const ne=b.dnsZones.getIn(["pages",o(V),"ids"]);return ne&&ne.map(Se=>j(b,Se))}function j(b,V){const ne=b.dnsZones.getIn(["entities",V]);return ne&&ne.get("id")?ne.set("records",(0,S.od)(b,V)):ne}function me(b,V){return b.dnsZones.getIn(["pages",o(V)])}function se(b,V){return b.dnsZones.get(V)}function Te(b){return(0,P.p5)((V,ne,Se)=>Se.enableDnsZoneIPv6(b.get("id")).then(({data:Pe})=>{V(n.dnsZoneSuccess(Pe)),V((0,S.pZ)(b.get("name")))}))}function q(b,V){return(0,P.p5)((ne,Se,Pe)=>Pe.enableDedicatedDns(b.get("id")).then(({data:Le})=>{ne(n.dnsZoneSuccess(Le))}))}},16702:(Me,$,e)=>{e.d($,{y:()=>m});var c=e(90046),N=e.n(c),f=e(38086);function m(M=(0,c.Map)(),D){switch(D.type){case f.sz:return(0,c.Map)({active:!0});case f.Bs:return(0,c.Map)({active:!1});default:return M}}},38086:(Me,$,e)=>{e.d($,{Bs:()=>o,QS:()=>U,Te:()=>r,Tu:()=>g,Xs:()=>a,ag:()=>X,f$:()=>d,sz:()=>E,ws:()=>I});var c=e(19271),N=e(18643),f=e(91800),m=e(68854),M=e(13287),D=e(941),P=e(60653),p=e(34571),S=e(93716);const E="START_DRAG",o="END_DRAG",d=(0,N.Z)(E),a=(0,N.Z)(o),u=()=>(0,m.le)("drop-token"),l=W=>(0,m.D$)("drop-token",W),n=()=>(0,m.le)("dropSiteName"),t=W=>(0,m.D$)("dropSiteName",W),s=W=>!!(0,P.HF)(W()),i=W=>(T,B)=>{const re=(0,f.uW)(B()),x=(0,M.fd)(re)&&(re==null?void 0:re.get("slug"));return T((0,p.UJ)(x)).then(ee=>{const J=(0,m.le)("nf-drop-force-anon")==="true";return T((0,p.mV)(ee,W,J))})},_=W=>(0,D.p5)((T,B,re)=>re.dropToken().then(x=>x.data.token).then(x=>re.dropFiles((0,p.CJ)(W),x).then(ee=>({token:x,deploy:ee.data}))).then(({token:x,deploy:ee})=>(0,p.Pr)(re,ee,W,x).then(()=>re.waitForSiteDeploy(ee.subdomain)).then(J=>({token:x,site:J.data}))).then(({site:x,token:ee})=>{l(ee),t(x.name),T(p.Nw.siteSuccess(x)),T((0,p.wM)(x.name)),T((0,c.VF)(`/drop/${x.name}`)),r()})),r=()=>{(0,m.e8)("dropDeployId"),(0,m.e8)("dropUploadInterrupted")},g=()=>{(0,m.e8)("dropSiteName"),(0,m.e8)("drop-token"),r()},I=W=>(T,B)=>T(s(B)?i(W):_(W)),U=(W,T=u())=>(0,D.p5)((B,re,x)=>{if(!s(re)){const Y=`/signup?next=${window.location.pathname}&utm_campaign=drop`;return B((0,S.Ee)(Y))}const{name:ee,id:J,claimed:ae}=W.toJS(),F=`/sites/${ee}`;return ae?B((0,c.VF)(F)):x.dropClaim(J,T).then(()=>B((0,p.EQ)(ee))).then(()=>{g(),B((0,c.VF)(F))}).catch(()=>{})}),X=()=>{const W=u(),T=n();if(!(!W||!T))return(0,D.p5)((B,re,x)=>{B((0,p.EQ)(T)).then(()=>{const ee=(0,p.lH)(re(),T,!1),{id:J,claimed:ae}=ee.toJS();if(ae){g();return}return x.dropClaim(J,W).then(()=>B((0,p.EQ)(T))).then(()=>{g()})})})}},25554:(Me,$,e)=>{e.d($,{$7:()=>u,Oi:()=>a,gI:()=>p,m9:()=>d,wQ:()=>o});var c=e(90046),N=e.n(c),f=e(18432),m=e(23979),M=e(941);const D="edgeFunctionLogs",P=(0,f.P)(D),p=(0,f.x)(D,P,{getKey:(l,n)=>`${l.ts}-${l.requestId}-${n}`});function S(l,n={}){return[l,n.cursor||"",n.q||"",n.from||"",n.to||""].filter(Boolean).join("-")}function E(l,n){const t=l.edgeFunctionLogs.getIn(["entities",n]);return t&&t.merge(l.edgeFunctionLogs.get(n))}function o(l,n,t={}){const s=l.edgeFunctionLogs.getIn(["pages",S(n,t),"ids"]);return s&&s.map(i=>E(l,i))}function d(l,n,t){return!!l.edgeFunctionLogs.getIn(["pages",S(n,t),"isFetching"])}function a(l,n,t){return l.edgeFunctionLogs.getIn(["pages",S(n,t),"next"])}function u(l,n){const t={cursor:n.cursor,q:n.q,from:n.from,to:n.to};return(0,m.wi)((s,i,_)=>{const r=S(l,t);return s(P.edgeFunctionLogsRequest(r)),_.historicalEdgeFunctionLogs({site_id:l,from:n.from,to:n.to,next_cursor:n.next_cursor,search:n.q}).then(g=>{const I=i(),U=o(I,l,n)||(0,c.List)(),X=[...U==null?void 0:U.toJS(),...g.data.logs];return s(P.edgeFunctionLogsSuccess(r,X,g.pagination))}).catch(g=>new M.Hx(g))})}},16939:(Me,$,e)=>{e.d($,{Fl:()=>p,O9:()=>P,kZ:()=>S});var c=e(90046),N=e.n(c),f=e(18643),m=e(941);const M="EDGE_FUNCTIONS_SUCCESS",D=(0,f.Z)(M,(E,o)=>({deployId:E,data:o}));function P(E){return(0,m.p5)((o,d,a)=>a.edgeFunctions(E).then(u=>{o(D(E,u.data))}))}function p(E=(0,c.Map)(),o){switch(o.type){case M:{const{deployId:d,data:{edge_functions:a}}=o.payload;return E.setIn(["entities",d],a)}default:return E}}function S(E,o){return E.edgeFunctions.get("entities")?E.edgeFunctions.get("entities").get(o):[]}},61097:(Me,$,e)=>{e.d($,{C7:()=>S,M2:()=>E,Y0:()=>l,_I:()=>u,aw:()=>a,bJ:()=>d,f6:()=>o,jB:()=>p,wB:()=>P,wY:()=>M});var c=e(18432),N=e(941);const f="environmentVariables",m=(0,c.P)(f),M=(0,c.x)(f,m,{key:"key"});function D(n,t){return n.environmentVariables.getIn(["entities",t]).toJS()}function P(n,t){const s=n.environmentVariables.getIn(["pages",t,"ids"]);return s&&s.map(i=>D(n,i)).toJS()}function p(n,t){return n.environmentVariables.getIn(["pages",t,"isFetching"])}function S(n,t){return n.environmentVariables.getIn(["pages",t,"error"])}function E({accountId:n,siteId:t,scope:s,context:i,merge:_}){return(0,N.p5)((r,g,I)=>(r(m.environmentVariablesRequest(t||n)),I.getEnvVars({accountId:n,siteId:t,scope:s,context:i,merge:_}).then(U=>r(m.environmentVariablesSuccess(t||n,U.data,U.pagination))).catch(U=>{Promise.reject(U),r(m.environmentVariablesFailure(t||n,U))})))}function o({accountId:n,siteId:t,envVars:s}){return(0,N.p5)((i,_,r)=>r.createEnvVars({accountId:n,siteId:t,envVars:s}).then(g=>i(E({accountId:n,siteId:t}))).catch(g=>Promise.reject(g)))}function d({accountId:n,siteId:t,oldKey:s,newKey:i,is_secret:_,scopes:r,values:g}){return(0,N.p5)((I,U,X)=>X.updateEnvVar({accountId:n,siteId:t,oldKey:s,newKey:i,is_secret:_,scopes:r,values:g}).then(W=>I(E({accountId:n,siteId:t}))).catch(W=>Promise.reject(W)))}function a({accountId:n,siteId:t,envVars:s}){return(0,N.p5)((i,_,r)=>Promise.all(s.map(g=>r.updateEnvVar({accountId:n,siteId:t,oldKey:g.key,newKey:g.key,is_secret:g.is_secret,scopes:g.scopes,values:g.values}))).then(g=>i(E({accountId:n,siteId:t}))).catch(g=>Promise.reject(g)))}function u({accountId:n,siteId:t,envVars:s}){return(0,N.p5)((i,_,r)=>Promise.all(s.flatMap(g=>g.values.map(({context:I,context_parameter:U,value:X})=>r.setEnvVarValue({accountId:n,siteId:t,key:g.key,context:I,context_parameter:U,value:X})))).then(g=>i(E({accountId:n,siteId:t}))).catch(g=>Promise.reject(g)))}function l({accountId:n,siteId:t,key:s,id:i}){return(0,N.p5)((_,r,g)=>g.deleteEnvVar({accountId:n,siteId:t,key:s,id:i}).then(I=>_(E({accountId:n,siteId:t}))).catch(I=>Promise.reject(I)))}},60405:(Me,$,e)=>{e.d($,{$f:()=>d,Al:()=>o,Co:()=>n,DD:()=>D,DS:()=>l,Hg:()=>M,K3:()=>P,Ki:()=>a,mv:()=>S,u5:()=>u,y6:()=>p});var c=e(941),N=e(18432),f=e(34571);const m=(0,N.P)("accountFirewallRuleSets"),M=(0,N.x)("accountFirewallRuleSets",m,{key:"account_id"});function D(t,s){var i;return s&&(i=t.accountFirewallRuleSets.getIn(["entities",s,"isFetching"]))!=null?i:!0}function P(t,s){if(s)return t.accountFirewallRuleSets.getIn(["entities",s,"data"])}function p(t){return(0,c.p5)((s,i,_)=>(s(m.accountFirewallRuleSetRequest(t)),_.accountFirewallRuleSet(t).then(r=>{s(m.accountFirewallRuleSetSuccess({data:r.data,account_id:t}))}).catch(r=>{(r==null?void 0:r.code)===404&&s(m.accountFirewallRuleSetSuccess({account_id:t,data:void 0}))})))}function S(t,s){return(0,c.p5)((i,_,r)=>r.updateAccountFirewallRuleSet(t,s).then(()=>{i(p(t))}))}const E=(0,N.P)("siteFirewallRuleSets"),o=(0,N.x)("siteFirewallRuleSets",E,{key:"site_id"});function d(t,s){var i;const _=(0,f.lH)(t,s);return _&&(i=t.siteFirewallRuleSets.getIn(["entities",_.get("site_id"),"isFetching"]))!=null?i:!0}function a(t,s){const i=(0,f.lH)(t,s);if(i)return t.siteFirewallRuleSets.getIn(["entities",i.get("site_id"),"data"])}function u(t){return(0,c.p5)((s,i,_)=>{const r=(0,f.lH)(i(),t);if(!r)return;const g=r.get("site_id");return s(E.siteFirewallRuleSetRequest(g)),_.siteFirewallRuleSet(g).then(I=>s(E.siteFirewallRuleSetSuccess({data:I.data,site_id:g}))).catch(I=>{if((I==null?void 0:I.code)===404)return s(E.siteFirewallRuleSetSuccess({data:void 0,site_id:g}))})})}function l(t,s){return(0,c.p5)((i,_,r)=>{const I=(0,f.lH)(_(),t).get("site_id");return r.updateSiteFirewallRuleSet(I,s).then(()=>{i(u(t))})})}function n(t){return(0,c.p5)((s,i,_)=>{const g=(0,f.lH)(i(),t).get("site_id");return _.deleteSiteFirewallRuleSet(g).then(()=>{s(u(t))})})}},38504:(Me,$,e)=>{e.d($,{$d:()=>i,A:()=>E,Hk:()=>D,Jo:()=>l,Rg:()=>t,XL:()=>u,cJ:()=>a,cY:()=>m,dI:()=>d,jn:()=>P,jy:()=>n,kk:()=>s,zH:()=>o});var c=e(18432),N=e(941);const f=(0,c.P)("forms"),m=(0,c.x)("forms",f),M=(0,c.P)("submissions"),D=(0,c.x)("submissions",M);function P(r){const g=r.get("id");return(0,N.p5)((I,U,X)=>X.siteForms(g).then(W=>I(f.formsSuccess(g,W.data,W.pagination))))}function p(r,g){return withApi((I,U,X)=>X.siteForm(g).then(W=>I(f.formSuccess(W.data))))}function S(r,g={}){return g.formId?g.formId:`site-${r.get("id")}`}function E(r,g){const I=r.get("id");return(0,N.p5)((U,X,W)=>(U(P(r)),W.formSubmissions(I,g).then(T=>U(M.submissionsSuccess(S(r,g),T.data,T.pagination))).catch(T=>U(M.submissionsFailure(S(r,g),T.error)))))}function o(r,g,I){const U=r.get("id");return(0,N.p5)((X,W,T)=>Promise.all(g.map(B=>T.deleteFormSubmission(U,B))).then(B=>X(E(r,I))))}function d(r,g){const I=r.get("id");return(0,N.p5)((U,X,W)=>W.deleteForm(I,g))}function a(r,g,I){const U=r.get("id");return(0,N.p5)((X,W,T)=>Promise.all(g.map(B=>T.markSubmissionAsHam(U,B))).then(B=>{X(E(r,I))}))}function u(r,g,I){const U=r.get("id");return(0,N.p5)((X,W,T)=>Promise.all(g.map(B=>T.markSubmissionAsSpam(U,B))).then(B=>{X(E(r,I))}))}function l(r,g){const I=r.forms.getIn(["pages",g.get("id"),"ids"]);return I&&I.map(U=>r.forms.getIn(["entities",U]))}function n(r,g){return r.forms.getIn(["entities",g])}function t(r,g,I){const U=r.submissions.getIn(["pages",S(g,I),"ids"]);return U&&U.map(X=>r.submissions.getIn(["entities",X]))}function s(r,g,I){return r.submissions.getIn(["pages",S(g,I),"error"])}function i(r,g,I){return r.submissions.getIn(["pages",S(g,I)])}function _(r,g){return r.submissions.getIn(["entities",g])}},62021:(Me,$,e)=>{e.d($,{X4:()=>u,ZF:()=>a,lf:()=>d,rm:()=>o,tZ:()=>p});var c=e(90046),N=e.n(c),f=e(18432),m=e(23979),M=e(941);const D="functionLogs",P=(0,f.P)(D),p=(0,f.x)(D,P,{getKey:(l,n)=>`${l.ts}-${l.requestId}-${n}`});function S(l,n,t={}){return[l,n,t.branch||"",t.cursor||"",t.q||"",t.from||"",t.to||""].filter(Boolean).join("-")}function E(l,n){const t=l.functionLogs.getIn(["entities",n]);return t&&t.merge(l.functionLogs.get(n))}function o(l,n,t,s={}){const i=l.functionLogs.getIn(["pages",S(n,t,s),"ids"]);return i&&i.map(_=>E(l,_))}function d(l,n,t,s){return!!l.functionLogs.getIn(["pages",S(n,t,s),"isFetching"])}function a(l,n,t,s){return l.functionLogs.getIn(["pages",S(n,t,s),"next"])}function u(l,n,t){const s={branch:t.branch,cursor:t.cursor,q:t.q,from:t.from,to:t.to};return(0,m.wi)((i,_,r)=>{const g=S(l,n,s);return i(P.functionLogsRequest(g)),r.historicalFunctionLogs({site_id:l,name:n,branch:t.branch,from:t.from,to:t.to,next_cursor:t.next_cursor,search:t.q}).then(I=>{const U=_(),X=o(U,l,n,t)||(0,c.List)(),W=[...X==null?void 0:X.toJS(),...I.data.logs];return i(P.functionLogsSuccess(g,W,I.pagination))}).catch(I=>new M.Hx(I))})}},96666:(Me,$,e)=>{e.d($,{Bc:()=>o,Ph:()=>p,ob:()=>d,wk:()=>S,x0:()=>E});var c=e(90046),N=e.n(c),f=e(18643),m=e(941);const M="FUNCTIONS_SUCCESS",D=(0,c.fromJS)({id:"empty",functions:[]}),P=(0,f.Z)(M,(a,u,l)=>({siteId:a,scope:u,data:l}));function p(a,u){const l=a.get("id");return(0,m.p5)((n,t,s)=>s.functions(l,u).then(i=>{n(P(l,u,i.data))}))}function S(a=(0,c.Map)(),u){switch(u.type){case M:{const{siteId:l,scope:n="default",data:t}=u.payload,s=t&&t.id?(0,c.fromJS)(t):D;return a.setIn(["entities",s.get("id")],s).setIn(["pages",l,n],s.get("id"))}default:return a}}function E(a,u,l){l=l||"default";const n=a.functions.getIn(["pages",u.get("id"),l]);return n&&a.functions.getIn(["entities",n])}function o(a,u,l){const n=E(a,u,l);return n&&n.get("functions").map(t=>t.set("c",t.get("c")||n.get("created_at")))}function d(a,u,l,n){const t=o(a,u,l);return t&&t.find(s=>s.get("n")===n)}},65628:(Me,$,e)=>{e.d($,{$_:()=>n,Cl:()=>u,Fq:()=>t,Gu:()=>g,HN:()=>U,Kd:()=>s,L4:()=>_,Lb:()=>X,YR:()=>i,fc:()=>a,oI:()=>r,qq:()=>I,z8:()=>W});var c=e(90046),N=e.n(c),f=e(18643),m=e(88317),M=e(25169),D=e(91800),P=e(60653);const p="GIT_NO_PROVIDER",S="GIT_SET_PROVIDER",E="GIT_SET_SEARCH_TERM",o="GIT_SET_USER",d=(0,f.Z)(p),a=(0,f.Z)(S,(T,B)=>({provider:T,credentials:B})),u=(0,f.Z)(E,T=>T),l=(0,f.Z)(o,T=>T);function n(T){return(B,re)=>{const x=(0,M.Ev)(re());return x?T(B,re,x):B(d())}}function t(T,B){let re=!1;return T==="github-proxied"&&(T=m.Lz.github,re=!0),(x,ee)=>{const J=ee().git,ae=J&&T===J.get("provider")?(0,M.Wx)(T,J.get("accessToken"),J.get("apiEndpoint")):(0,M.Wx)(T);return ae?(re&&(ae.root="/.netlify/functions/git"),B(x,ee,ae)):x(d())}}function s(){return n((T,B,re)=>re.user().then(x=>(T(l(x.data)),W(B()))))}function i(T){return(B,re)=>B((0,P.YR)(T)).then(()=>B(s()))}function _(T=(0,c.Map)(),B){switch(B.type){case S:const re={provider:B.payload.provider,accessToken:B.payload.credentials.token};return B.payload.credentials.refresh_token&&(re.refreshAccessToken=B.payload.credentials.refresh_token),B.payload.credentials.api_endpoint&&(re.apiEndpoint=B.payload.credentials.api_endpoint),(0,c.fromJS)(re);case E:return T.set("search",B.payload);case o:return T.set("user",(0,c.fromJS)(B.payload));default:return T}}function r(T){return T.git.get("provider")}function g(T){return T.git.get("accessToken")}function I(T){return T.git.get("apiEndpoint")}function U(T){return T.git.get("provider")!=="bitbucket_self_hosted"?void 0:(0,D.uW)(T).getIn(["bitbucket_self_hosted_config","instance_url"])}function X(T){return T.git.get("search")}function W(T){return T.git.get("user")}},72253:(Me,$,e)=>{e.d($,{Ht:()=>M,YX:()=>D,hi:()=>m,wc:()=>P});var c=e(18432),N=e(65628);const f=(0,c.P)("gitOrganizations");function m(){return(0,N.$_)((p,S,E)=>{p(f.gitOrganizationsRequest(E.provider));const d=S().git.getIn(["user","login"]);E.organizations({userLogin:d}).then(a=>p(f.gitOrganizationsSuccess(E.provider,a.data,a.pagination)),a=>p(f.gitOrganizationsFailure(E.provider,a)))})}const M=(0,c.x)("gitOrganizations",f,{key:"full_name"});function D(p){const S=(0,N.oI)(p),E=p.gitOrganizations.getIn(["pages",S,"ids"]);return E&&E.map(o=>P(p,o))}function P(p,S){return p.gitOrganizations.getIn(["entities",S])}},62326:(Me,$,e)=>{e.d($,{Z:()=>M});const c=new Map,N=1e3*60*5;function f(D){return"jwt"in D&&D.expiration-N<performance.now()}const m=async({accountId:D})=>{const P=`/access-control/bb-api/api/v1/accounts/${D}/jwt`,p=await fetch(P,{headers:{"Content-type":"application/json"},credentials:"include"});if(p.status===200)return await p.json();throw new Error(`Non-200 status when exchanging API token for short-lived JWT: ${p.status}`)};function M({accountId:D}){const P=c.get(D);if(P&&!f(P))return Promise.resolve(P);const p=m({accountId:D}).then(S=>{const E=S.jwt,o=E.split(".")[1].replace(/_/g,"/").replace(/-/g,"+"),d=JSON.parse(atob(o)),a=d.exp-d.iat,u=performance.now()+a*1e3;return c.set(D,{jwt:E,expiration:u}),{jwt:E,expiration:u}}).catch(S=>{throw c.delete(D),S});return c.set(D,p),p}},18432:(Me,$,e)=>{e.d($,{P:()=>M,x:()=>D});var c=e(90046),N=e.n(c),f=e(17412),m=e(18643);function M(P){const p=(0,f.C5)(P),S=p.toUpperCase(),E=P.toUpperCase(),o={REQUEST:`${S}_REQUEST`,SUCCESS:`${S}_SUCCESS`,FAILURE:`${S}_FAILURE`},d={REQUEST:`${E}_REQUEST`,SUCCESS:`${E}_SUCCESS`,FAILURE:`${E}_FAILURE`},a=(0,m.Z)(o.REQUEST,W=>W),u=(0,m.Z)(o.SUCCESS,W=>W),l=(0,m.Z)(o.FAILURE,(W,T)=>({id:W,error:T})),n=(0,m.Z)(d.REQUEST,W=>W),t=(0,m.Z)(d.SUCCESS,(W,T,B)=>({list:W,entities:T,pages:B})),s=(0,m.Z)(d.FAILURE,(W,T)=>({list:W,error:T})),i=`${p}Request`,_=`${p}Success`,r=`${p}Failure`,g=`${P}Request`,I=`${P}Success`,U=`${P}Failure`;return{[S]:o,[E]:d,[i]:a,[_]:u,[r]:l,[g]:n,[I]:t,[U]:s}}function D(P,p,S={}){const E=P,o=(0,f.C5)(P),d=E.toUpperCase(),a=o.toUpperCase();return(u=(0,c.Map)({entities:(0,c.Map)(),pages:(0,c.Map)()}),l)=>{const n=S.handler&&S.handler(u,l);if(n)return n;const t=S.key||"id",s=S.getKey||(i=>i[t]);switch(l.type){case p[a].REQUEST:return u.setIn(["entities",l.payload,"isFetching"],!0);case p[a].SUCCESS:{const i=s(l.payload).toString(),_=u.getIn(["entities",i])||(0,c.Map)();return u.setIn(["entities",i],_.merge(l.payload,{isFetching:!1}))}case p[a].FAILURE:return u.withMutations(i=>{i.setIn(["entities",l.payload.id,"error"],(0,c.fromJS)(l.payload.error)).setIn(["entities",l.payload.id,"isFetching"],!1)});case p[d].REQUEST:return u.setIn(["pages",l.payload,"isFetching"],!0);case p[d].SUCCESS:{const{list:i,entities:_,pages:r}=l.payload;return u.withMutations(g=>{_.forEach((I,U)=>g.setIn(["entities",s(I,U).toString()],(0,c.fromJS)(I).set("isFetching",!1))),g.setIn(["pages",i],(0,c.Map)({...r,ids:(0,c.List)(_.map((I,U)=>s(I,U).toString()))}))})}case p[d].FAILURE:return u.setIn(["pages",l.payload.list,"error"],(0,c.fromJS)(l.payload.error));default:return u}}}},86981:(Me,$,e)=>{e.d($,{$_:()=>E,Bi:()=>p,Eq:()=>o,PT:()=>d,e_:()=>u,ny:()=>S,o6:()=>l,v9:()=>P});var c=e(90046),N=e.n(c),f=e(18432),m=e(941);const M=(0,f.P)("hooks"),D="HOOK_TYPES";function P(t){return(0,m.p5)((s,i,_)=>(s(M.hooksRequest(t.get("id"))),_.hooks(t.get("id")).then(r=>s(M.hooksSuccess(t.get("id"),r.data,r.pagination)),r=>s(M.hooksFailure(t.get("id"),r.message)))))}function p(t,s){const i={site_id:t.get("id"),event:s.event,type:s.type,data:s.data,form_id:s.form_id};return(0,m.p5)((_,r,g)=>g.addHook(i).then(I=>{_(P(t))}))}function S(t,s,i){const _=s.get("id");return(0,m.p5)((r,g,I)=>I.updateHook(_,i).then(U=>U.data.disabled?I.enableHook(_):Promise.resolve(U)).then(()=>r(P(t))))}function E(t,s){return(0,m.p5)((i,_,r)=>r.deleteHook(s.get("id")).then(g=>i(P(t))))}function o(t){return(0,m.p5)((s,i,_)=>_.hookTypes(t.get("id")).then(r=>s({type:D,payload:{siteId:t.get("id"),types:r.data}})))}const d=(0,f.x)("hooks",M,{handler:(t,s)=>{switch(s.type){case D:return t.setIn(["types",s.payload.siteId],(0,c.fromJS)(s.payload.types));default:return null}}});function a(t,s){return t.hooks.getIn(["entities",s])}function u(t,s){const i=t.hooks.getIn(["pages",s.get("id"),"ids"]);return i&&i.map(_=>a(t,_))}function l(t,s){return t.hooks.getIn(["types",s.get("id")])}function n(t,s,i){const _=l(t,s);return _&&_.find(r=>r.get("name")===i)}},44195:(Me,$,e)=>{e.d($,{$O:()=>B,EI:()=>U,Ey:()=>J,FJ:()=>W,PO:()=>_,XD:()=>I,bU:()=>re,cG:()=>ae,dU:()=>X,dk:()=>i,eO:()=>s,jZ:()=>t,mK:()=>T,mt:()=>x,qD:()=>l,r6:()=>g,yR:()=>n});var c=e(90046),N=e.n(c),f=e(19271),m=e(18643),M=e(18432),D=e(77962),P=e(941),p=e(34571);const S="IDENTITY_CREATED",E="IDENTITY_SUCCESS",o=(0,M.P)("identityUsers"),d=(0,m.Z)(S,(F,Y)=>({siteId:F,data:Y})),a=(0,m.Z)(E,(F,Y)=>({siteId:F,data:Y})),u=(F,{filter:Y})=>`${F}${Y?`-${Y}`:""}`,l=(0,M.x)("identityUsers",o);function n(F=(0,c.Map)(),Y){switch(Y.type){case S:case E:return F.set(Y.payload.siteId,(0,c.fromJS)(Y.payload.data));default:return F}}function t(F,Y){return F.identity.get(Y.get("id"))}function s(F,Y){return F.identityUsers.getIn(["entities",Y])}function i(F,Y,oe){const L=F.identityUsers.getIn(["pages",u(Y.get("id"),oe),"ids"]);return L&&L.map(j=>s(F,j))}function _(F,Y,oe){return F.identityUsers.getIn(["pages",u(Y.get("id"),oe)])}function r(F,Y,oe){const L=t(oe(),F);return L?Promise.resolve(L):Y(g(F)).then(()=>t(oe(),F))}function g(F){const Y=F.get("id"),oe=F.get("identity_instance_id");return(0,P.p5)((L,j,me)=>oe?me.identity(Y,oe).then(se=>L(a(Y,se.data))):Promise.resolve())}function I(F,Y={}){const oe=F.get("id");return(0,P.p5)((L,j,me)=>me.createIdentity(oe,Y).then(se=>L(d(oe,se.data))).then(()=>L((0,p.EQ)(F.get("name")))).then(se=>L((0,p.ZO)(se))))}function U(F,Y){const oe=F.get("id"),L=F.get("identity_instance_id");return(0,P.p5)((j,me,se)=>L?se.updateIdentity(oe,L,Y).then(()=>j(g(F))):Promise.reject({code:404}))}function X(F){const Y=F.get("id"),oe=F.get("identity_instance_id");return(0,P.p5)((L,j,me)=>oe?me.deleteIdentity(Y,oe).then(()=>L((0,p.EQ)(F.get("name")))):Promise.resolve())}function W(F,Y={}){const oe=F.get("id"),L=F.get("identity_instance_id");return(0,P.p5)((j,me,se)=>L?se.identityUsers(oe,L,Y).then(Te=>j(o.identityUsersSuccess(u(oe,Y),Te.data,Te.pagination))).catch(Te=>Te.code===404?j(o.identityUsersSuccess(u(oe,Y),[],{})):Promise.reject(Te)):Promise.resolve())}function T(F,Y){const oe=F.get("id"),L=F.get("identity_instance_id");return(0,P.p5)((j,me,se)=>L?r(F,j,me).then(()=>se.identityUser(oe,L,Y).then(Te=>j(o.identityUserSuccess(Te.data)))):Promise.reject({code:404}))}function B(F,Y){const oe=F.get("id"),L=F.get("identity_instance_id");return(0,P.p5)((j,me,se)=>se.createIdentityUser(oe,L,Y).then(Te=>j(W(F))))}function re(F,Y,oe){const L=F.get("id"),j=F.get("identity_instance_id"),me=Y.get("id");return(0,P.p5)((se,Te,q)=>(se(ee(F,oe)),q.updateIdentityUser(L,j,me,oe).then(()=>se(T(F,me)))))}function x(F,Y){const oe=F.get("id"),L=F.get("identity_instance_id"),j=Y.get("id");return(0,P.p5)((me,se,Te)=>Te.deleteIdentityUser(oe,L,j).then(()=>me(W(F))).then(()=>me((0,f.VF)((0,D.DD)(F,"identity")))))}function ee(F,Y){const oe=Y&&Y.app_metadata&&Y.app_metadata.roles;return(0,P.p5)((L,j,me)=>oe&&oe.length?r(F,L,j).then(se=>{if(!se)return;const Te=(0,c.Set)(se.getIn(["external_attributes","roles"])),q=Te.merge(oe);q.size>Te.size&&L(U(F,{external_attributes:{roles:q}}))}):Promise.resolve())}function J(F,Y){const oe=F.get("id"),L=F.get("identity_instance_id"),j=Y.get("id");return(0,P.p5)((me,se,Te)=>Te.sendIdentityRecovery(oe,L,j))}function ae(F,Y){const oe=F.get("id"),L=F.get("identity_instance_id");return(0,P.p5)((j,me,se)=>se.sendIdentityInvites(oe,L,{invites:Y}).then(()=>j(W(F))))}},95063:(Me,$,e)=>{e.d($,{Hi:()=>D,Y5:()=>p,bo:()=>E,iK:()=>S});var c=e(18432),N=e(941);const f=(0,c.P)("identityAudits"),m=({siteId:o,searchTerm:d}={})=>`${o}${d?`-${d}`:""}`,M=o=>o.map(d=>(d&&d.payload&&d.payload.log_type&&(d.payload.log_type=`gotrue-${d.payload.log_type}`),d)),D=(0,c.x)("identityAudits",f);function P(o,d){return o.identityAudit.getIn(["entities",d])}function p(o,d){const a=o.identityAudit.getIn(["pages",m(d),"ids"]);return a&&a.map(u=>P(o,u))}function S(o,d){return o.identityAudit.getIn(["pages",m(d)])}function E(o){return(0,N.p5)((d,a,u)=>o.identityId&&o.isValidKey?u.identityAudit(o).then(l=>d(f.identityAuditsSuccess(m(o),M(l.data),l.pagination))).catch(l=>l.code===404?d(f.identityAuditsSuccess(m(o),[],{})):Promise.reject(l)):Promise.resolve())}},13440:(Me,$,e)=>{e.d($,{V2:()=>M,Yx:()=>D,rI:()=>p,uX:()=>S});var c=e(18432),N=e(941);const f=(0,c.P)("largeMediaAssets"),m=(E,{filter:o})=>`${E}${o?`-${o}`:""}`,M=(0,c.x)("largeMediaAssets",f);function D(E,o){const d=E.get("id"),a=E.get("use_lm");return(0,N.p5)((u,l,n)=>a?n.largeMediaAssets(d,o).then(t=>u(f.largeMediaAssetsSuccess(m(d,o),t.data,t.pagination))):Promise.resolve())}function P(E,o){return E.largeMediaAssets.getIn(["entities",o])}function p(E,o,d){const a=E.largeMediaAssets.getIn(["pages",m(o.get("id"),d),"ids"]);return a&&a.map(u=>P(E,u))}function S(E,o,d){return E.largeMediaAssets.getIn(["pages",m(o.get("id"),d)])}},65524:(Me,$,e)=>{e.d($,{GO:()=>p,Lf:()=>M,SK:()=>S,V4:()=>d,X5:()=>E,b_:()=>D,cU:()=>P,vR:()=>o});var c=e(18432),N=e(941);const f="logDrains",m=(0,c.P)(f),M=(0,c.x)(f,m);function D(a,u){var l,n;const[t]=((l=a.logDrains.getIn(["pages",u,"ids"]))==null?void 0:l.toJS())||[];return(n=a.logDrains.getIn(["entities",t]))==null?void 0:n.toJS()}function P(a,u){return a.logDrains.getIn(["pages",u,"isFetching"])}function p(a){return(0,N.p5)((u,l,n)=>(u(m.logDrainsRequest(a)),n.logDrains(a).then(t=>{(t.data||[]).forEach(s=>{const{url:i,integration_name:_}=s.service_config;i&&new URL(i).host.endsWith(".sumologic.com")&&(s.destination="sumologic"),_&&(s.destination=_)}),u(m.logDrainsSuccess(a,t.data))})))}function S(a,u={}){return(0,N.p5)((l,n,t)=>t.createLogDrain(a,u).then(s=>{l(m.logDrainsSuccess(a,[s.data]))}))}function E(a,u,l){return(0,N.p5)((n,t,s)=>s.verifyLogDrain(a,u,l).then(()=>{const i=t(),r={...D(i,a),verified:!0};n(m.logDrainsSuccess(a,[r]))}))}function o(a,u,l={}){return(0,N.p5)((n,t,s)=>s.updateLogDrain(a,u,l).then(i=>{n(m.logDrainsSuccess(a,[i.data]))}))}function d(a,u){return(0,N.p5)((l,n,t)=>t.deleteLogDrain(a,u).then(()=>{l(m.logDrainsSuccess(a,[]))}))}},32293:(Me,$,e)=>{e.d($,{Ol:()=>S,Tq:()=>E,ad:()=>d,el:()=>D});var c=e(19271),N=e(18432),f=e(91800),m=e(941);const M=(0,N.P)("members");function D(a){const u=a.get("id");return(0,m.p5)((l,n,t)=>(l(M.membersRequest(u)),t.members(u).then(s=>l(M.membersSuccess(u,s.data,s.pagination)))))}function P(a,u){return withApi((l,n,t)=>(l(M.membersRequest(a.get("id"))),Promise.all(u.map(s=>t.inviteMember(a.get("id"),s))).then(s=>l(D(a)),s=>l(D(a)))))}function p(a,u){return withApi((l,n,t)=>(l(M.membersRequest(a.get("id"))),t.removeMember(a.get("id"),u.get("id")).then(s=>l(D(a)))))}function S(a){return(0,m.p5)((u,l,n)=>n.acceptInvite(a).then(t=>{t.data.site_id?u((0,c.VF)(`/sites/${t.data.name}`)):u((0,f.vP)()).then(()=>u((0,c.VF)(`/teams/${t.data.slug}`)))}))}const E=(0,N.x)("members",M);function o(a,u){return a.members.getIn(["entities",u])}function d(a,u){const l=a.members.getIn(["pages",u.get("id"),"ids"]);return l&&l.map(n=>o(a,n))}},98990:(Me,$,e)=>{e.d($,{Af:()=>S,B_:()=>E,Fd:()=>o,NK:()=>a,Vy:()=>u,WU:()=>l,jJ:()=>p,sv:()=>d});var c=e(90046),N=e.n(c),f=e(941),m=e(60653);const M="MULTIFACTOR_AUTH_SETUP",D="MULTIFACTOR_AUTH_ENABLE",P="MULTIFACTOR_AUTH_DISABLE";function p(n=(0,c.fromJS)({}),t){switch(t.type){case M:return n.merge((0,c.fromJS)({setup:t.payload}));case D:return n.merge((0,c.fromJS)({isEnabled:!0,recoveryCodes:t.payload}));case P:return n.merge((0,c.fromJS)({isEnabled:!1,recoveryCodes:null}));default:return n}}function S(){return(0,f.p5)(async(n,t,s)=>{const{data:i}=await s.setupMultiFactorAuth();n({type:M,payload:i})})}function E({otp:n,token:t}){return(0,f.p5)(async(s,i,_)=>{const{data:r}=await _.enableMultiFactorAuth({otp:n,token:t});s({type:D,payload:r.backup_codes})})}function o({otp:n}){return(0,f.p5)(async(t,s,i)=>{const{data:_}=await i.disableMultiFactorAuth({otp:n});t({type:P,payload:_}),t((0,m.$D)({reload:!0}))})}function d({otp:n,token:t}){return(0,f.p5)(async(s,i,_)=>{const{data:r}=await _.verifyLogin({otp:n,token:t});window.location.href=r.redirect_path})}function a(n){const{multiFactorAuth:t}=n;return(t==null?void 0:t.get("setup"))||null}function u(n){const{user:t,multiFactorAuth:s}=n;return!!(s!=null&&s.get("isEnabled"))||!!(t!=null&&t.get("mfa_enabled"))||!1}function l(n){const{multiFactorAuth:t}=n;return t==null?void 0:t.get("recoveryCodes")}},5774:(Me,$,e)=>{e.d($,{A7:()=>d,N9:()=>n,P$:()=>l,_6:()=>u,oA:()=>o,y9:()=>a});var c=e(90046),N=e.n(c),f=e(18643),m=e(7442),M=e(63851),D=e(26527),P=e(60653);const p="NOTIFICATIONS_SUCCESS",S=(0,f.Z)(p,t=>t);function E(t,s){const i=t.getIn(["onboarding_progress","notifications_read_at"]);return new Date(i)<new Date(s)}function o(){return(t,s)=>{fetch("/.netlify/builders/notifications").then(i=>{if(!i.ok)throw new Error(`Error fetching notifications - ${i.status} - ${i.statusText}`);return i.json().catch(_=>{throw new Error(`Error parsing notifications JSON - ${i.status}`)})}).then(i=>{t(S(i))}).catch(i=>{throw new M.Z(i.message||i)})}}function d(t){return(s,i)=>{const{accounts:_,user:r}=i(),g=t&&t.getIn([0,"updated_at"]);m.iND.appNotificationButtonClicked({accountSlug:_.get("selected"),flagged:E(r,g),notificationNames:t&&t.map(I=>(0,D.lV)(I==null?void 0:I.get("title"))).toJS()}),s((0,P.fq)("notifications_read_at",g))}}function a(t){return(s,i)=>{const{accounts:_}=i();m.iND.appNotificationItemClicked({accountSlug:_.get("selected"),notificationName:(0,D.lV)(t.get("title"))})}}function u(t){return t.notifications.get("data")}function l(t){const s=(0,P.HF)(t);return s&&s.getIn(["onboarding_progress","notifications_read_at"])}const n=(t=(0,c.Map)(),s)=>{switch(s.type){case p:return t.set("data",(0,c.fromJS)(s.payload));default:return t}}},32712:(Me,$,e)=>{e.d($,{$6:()=>Ke,AN:()=>te,Ak:()=>de,Av:()=>b,Ek:()=>L,FV:()=>G,Hh:()=>se,Hp:()=>Le,IK:()=>W,Ly:()=>ae,O1:()=>ve,Ov:()=>me,Ox:()=>fe,P6:()=>Se,Pk:()=>le,Q:()=>y,Q2:()=>V,RF:()=>C,Tz:()=>Ae,Ul:()=>B,W2:()=>pe,Wu:()=>J,XQ:()=>ne,Xj:()=>T,Y3:()=>he,_b:()=>x,c3:()=>X,cr:()=>z,dm:()=>U,g8:()=>w,h1:()=>Y,j6:()=>oe,ji:()=>Ce,k:()=>g,lI:()=>ge,mT:()=>Pe,me:()=>j,mf:()=>_,nU:()=>I,p_:()=>Te,u2:()=>ee,vI:()=>re,v_:()=>F,yK:()=>r,yL:()=>q});var c=e(5780),N=e.n(c),f=e(90046),m=e.n(f),M=e(19271),D=e(18432),P=e(63851),p=e(91800),S=e(941),E=e(52968),o=e(93716);const d=(0,D.P)("organizations"),a=(0,D.P)("organizationAccounts"),u=(0,D.P)("organizationInvoices"),l=(0,D.P)("organizationClientToken"),n=(0,D.P)("organizationReceipts"),t=(0,D.P)("organizationSaml"),s=(0,D.P)("organizationScims"),i=(0,D.P)("organizationScimMappings"),_=(0,D.x)("organizations",d,{key:"slug"}),r=(0,D.x)("organizationAccounts",a),g=(0,D.x)("organizationInvoices",u),I=(0,D.x)("organizationReceipts",n,{key:"transaction_id"}),U=(0,D.x)("organizationSaml",t,{key:"list"}),X=(0,D.x)("organizationScim",s),W=(0,D.x)("organizationScimMappings",i);function T(K){return(0,S.p5)((k,ue,_e)=>(k(d.organizationRequest(K)),_e.organization(K).then(H=>k(d.organizationSuccess(H.data))).catch(H=>k(d.organizationFailure(K,H)))))}function B(K){return(0,S.p5)((k,ue,_e)=>(k(a.organizationAccountsRequest(K)),_e.organizationAccounts(K).then(H=>{k(a.organizationAccountsSuccess(K,H.data))}).catch(H=>k(a.organizationAccountsFailure(K,H)))))}function re(K){return(0,S.p5)((k,ue,_e)=>(k(u.organizationInvoicesRequest(K)),_e.organizationInvoices(K).then(H=>k(u.organizationInvoicesSuccess(K,H.data))).catch(H=>k(u.organizationInvoicesFailure(K,H)))))}function x(K){return(0,S.p5)((k,ue,_e)=>(k(n.organizationReceiptsRequest(K)),_e.organizationReceipts(K).then(H=>k(n.organizationReceiptsSuccess(K,H.data))).catch(H=>k(n.organizationReceiptsFailure(K,H)))))}function ee(K){return(0,S.p5)((k,ue,_e)=>(k(l.organizationClientTokenRequest(K)),_e.organizationClientToken(K).then(H=>(H.data.organization_id=K,k(l.organizationClientTokenSuccess(K,H.data)),H.data)).catch(H=>k(l.organizationClientTokenFailure(K,H)))))}function J(){return(0,S.p5)((K,k,ue)=>(K(d.organizationsRequest("organizations")),ue.organizations().then(_e=>K(d.organizationsSuccess("organizations",_e.data,_e.pagination)),_e=>K(d.organizationsFailure("organizations",_e)))))}function ae(K){return(0,S.p5)((k,ue,_e)=>_e.organizationSamlConnection(K).then(H=>(k(t.organizationSamlSuccess(K,H.data)),H.data)))}function F(K){return(0,S.p5)((k,ue,_e)=>(k(s.organizationScimRequest(K)),_e.organizationScimConnection(K).then(H=>{const h=H.data.status||"inactive";return k(s.organizationScimSuccess({id:K,...H.data,status:h}))})))}function Y(K){return(0,S.p5)((k,ue,_e)=>(k(i.organizationScimMappingRequest(K)),_e.organizationScimMappings(K).then(H=>k(i.organizationScimMappingSuccess({id:K,groups:H.data})))))}function oe(K){return(0,S.p5)((k,ue,_e)=>_e.organizationSamlDashboard(K).then(({data:H})=>H.workos_portal_url))}function L(K){return(0,S.p5)((k,ue,_e)=>_e.organizationScimDashboard(K).then(({data:H})=>H.workos_portal_url))}function j(K,k){return(0,S.p5)((ue,_e,H)=>H.organizationScimStatus(K,k).then(()=>{ue(F(K))}))}function me(K){return(0,S.p5)((k,ue,_e)=>_e.organizationSamlDeleteConnection(K).then(()=>{k(ae(K))}))}function se(K){const k=K.organizations.getIn(["pages","organizations","ids"]);return k==null?void 0:k.map(ue=>Pe(K,ue))}function Te(K){return K.organizations.getIn(["pages","organizations","isFetching"])}function q(K,k){return K.organizations.getIn(["entities",k,"isFetching"])}function b(K,k){var ue;return(ue=K.organizationSaml)==null?void 0:ue.getIn(["entities",k,"entities"])}function V(K,k){var ue;return k?(ue=K.organizationScim)==null?void 0:ue.getIn(["entities",k]):(0,f.fromJS)({scim_configured:!1})}function ne(K,k){var ue;return k?(ue=K.organizationScimMappings)==null?void 0:ue.getIn(["entities",k]):(0,f.fromJS)({groups:[]})}function Se(K,k){return K.organizations.getIn(["entities",k,"error"])}function Pe(K,k){var ue,_e;let H=(ue=K.organizations)==null?void 0:ue.getIn(["entities",k]);if(H!=null&&H.get("error"))return null;if(H){const h=H.get("id");H=H.merge({accounts:(_e=(0,p.L3)(K))==null?void 0:_e.filter(Z=>Z.get("organization_id")===h)})}return H}function Le(K,k){return se(K).find(_e=>_e.get("id")===k)}function ve(K,k){var ue;const _e=(ue=K.organizationAccounts)==null?void 0:ue.getIn(["pages",k]),H=_e==null?void 0:_e.get("ids");return!H||!(H!=null&&H.size)?(0,f.List)():H&&H.map(h=>K.organizationAccounts.getIn(["entities",h]))}function te(K,k){return K.organizationAccounts.getIn(["pages",k,"isFetching"])}function le(K,k){var ue;const _e=(ue=K.organizationInvoices)==null?void 0:ue.getIn(["pages",k]),H=_e==null?void 0:_e.get("ids");if(!(!H||!(H!=null&&H.size)))return H&&H.map(h=>{var Z;return(Z=K.organizationInvoices)==null?void 0:Z.getIn(["entities",h])})}function Ae(K,k){var ue;return(ue=K.organizationInvoices)==null?void 0:ue.getIn(["pages",k,"isFetching"])}function y(K,k){var ue;const _e=(ue=K.organizationReceipts)==null?void 0:ue.getIn(["pages",k]),H=_e==null?void 0:_e.get("ids");return!H||!(H!=null&&H.size)?null:H&&H.map(h=>{var Z;return(Z=K.organizationReceipts)==null?void 0:Z.getIn(["entities",h])})}function z(K,k){var ue;return(ue=K.organizationReceipts)==null?void 0:ue.getIn(["pages",k,"isFetching"])}function de(K,k){const ue=ve(K,k);return ue==null?void 0:ue.reduce((H,h)=>(H.bandwidth.value+=h.getIn(["bandwidth_usage","used"])||0,H.bandwidth.limit+=h.getIn(["bandwidth_usage","included"])||0,H.buildMinutes.value+=h.getIn(["build_status","minutes","current"])||0,H.buildMinutes.limit+=h.getIn(["build_status","minutes","included_minutes_with_packs"])||0,H.concurrentBuilds.value+=h.getIn(["build_status","active"])||0,H.concurrentBuilds.limit+=h.get("included_concurrent_builds")||0,H.members+=h.get("used_seats")||0,H),{bandwidth:{value:0,limit:0},buildMinutes:{value:0,limit:0},concurrentBuilds:{value:0,limit:0},members:0})}function Ce(K,k){const ue=K.get("id"),_e=K.get("slug");return(0,S.p5)((H,h,Z)=>Z.organizationCreateAccount(ue,k).then(()=>{H(B(ue)),H((0,M.VF)(`/organizations/${_e}/overview`))}))}function C(K,k){const ue=K.get("id");return(0,S.p5)((_e,H,h)=>h.organizationScimAddMapping(ue,k).then(()=>{_e(Y(ue))}))}function G(K,k){const ue=K.get("id"),_e=K.get("slug");return(0,S.p5)((H,h,Z)=>Z.updateOrganization(ue,k).then(({data:De})=>{const{logo:ye}=k;ye!==void 0?Z.updateOrganizationLogo(ue,ye).catch(R=>new P.Z(R)):Z.deleteOrganizationLogo(ue).catch(R=>new P.Z(R)),H(d.organizationSuccess(De));const{slug:O}=De;O!==_e&&H(T(O)).then(()=>{H((0,o.Ee)(document.location.pathname.replace(`/organizations/${_e}/`,`/organizations/${O}/`))),H(J())})}))}function w(K,k){const ue=K.get("id");return(0,S.p5)((_e,H,h)=>h.updateOrganizationPaymentMethod(ue,k.toJS()).then(({data:Z})=>(_e(E.Nw.paymentMethodSuccess(Z)),_e((0,E.kC)(Z.id)),(0,f.fromJS)(Z)),Z=>(N().notify(Z,De=>{De.context="organizations \uFE65 updateOrganizationPaymentMethod"}),Promise.reject(Z))))}function ge(K,k){const ue=K.get("id");return(0,S.p5)((_e,H,h)=>h.organizationScimUpdateMapping(ue,k).then(()=>{_e(Y(ue))}))}function pe(K){return(0,S.p5)((k,ue,_e)=>_e.deleteOrganizationLogo(K.get("id")).then(()=>{k(T(K.get("slug")))}).catch(H=>new P.Z(H)))}function fe(K,k){const ue=K.get("id");return(0,S.p5)((_e,H,h)=>h.organizationScimDeleteMapping(ue,k).then(()=>{_e(Y(ue))}))}function Ke(K){const k=K.get("id");return(0,S.p5)((ue,_e,H)=>H.organizationScimDeleteConnection(k).then(()=>{ue(F(k))}))}function he(K){const k=K.get("id");return(0,S.p5)((ue,_e,H)=>H.organizationScimDeleteConnectionKeepingUsers(k).then(()=>{ue(F(k))}))}},52968:(Me,$,e)=>{e.d($,{$9:()=>n,BX:()=>l,DY:()=>t,Nw:()=>S,X_:()=>E,kC:()=>a,nS:()=>u});var c=e(5780),N=e.n(c),f=e(90046),m=e.n(f),M=e(18432),D=e(91800),P=e(941),p=e(64614);const S=(0,M.P)("paymentMethods"),E=(0,M.x)("paymentMethods",S);function o(i){return(0,p.nY)(i)==="zuora"&&i?i.get("id"):"user"}function d(i){return(0,P.p5)((_,r,g)=>{const I=o(i),U=(0,p.oF)(r(),i);return _(S.paymentMethodsRequest(I)),g.paymentMethods(U).then(X=>_(S.paymentMethodsSuccess(I,X.data,X.pagination)))})}function a(i){return(0,P.p5)((_,r,g)=>i?g.paymentMethod(i).then(I=>_(S.paymentMethodSuccess(I.data))):Promise.resolve())}function u(i){return i!=null&&i.getIn(["user_capabilities","billing","r"])?a(i==null?void 0:i.get("payment_method_id")):(0,P.p5)(()=>Promise.resolve())}function l(i,_){return(0,P.p5)((r,g,I)=>I.savePaymentMethod(i.toJS()).then(U=>(r(S.paymentMethodSuccess(U.data)),r(d(_)),r((0,D.vP)()),(0,f.fromJS)(U.data)),U=>(N().notify(U,X=>{X.context="paymentMethods \uFE65 savePaymentMethod"}),Promise.reject(U))))}function n(i,_){return(0,P.p5)((r,g,I)=>I.removePaymentMethod(i).then(()=>{r(d(_)),r((0,D.vP)())}))}function t(i,_){const r=_&&_.get("payment_method_id");return i.paymentMethods.getIn(["entities",r])}function s(i,_){return i.paymentMethods.getIn(["entities",_])}},71791:(Me,$,e)=>{e.d($,{E8:()=>g,GV:()=>o,Gr:()=>u,QK:()=>t,WF:()=>_,bl:()=>n,f6:()=>i,iQ:()=>r});var c=e(90046),N=e.n(c),f=e(18643),m=e(18432),M=e(63851),D=e(941),P=e(34571);const p="list-v2",S={NODE_ENV:"production",VERSION_ID:"64e0c30899c6e100082abc5f",SITE_ID:"5f9562c1-be9c-4898-bc6a-5b40de4e1450",CONTEXT:"production",SIFT_BEACON_KEY:"0593578a91",DISABLE_DATADOG_RUM:!1,DATADOG_RUM_APP_ID:"abb8711a-ca04-44e2-bbd6-df0e07a7f3f8",DATADOG_RUM_CLIENT_TOKEN:"pubd771a23f8cb1e4f45f24b5fd37e11a96",DATADOG_RUM_APP_NAME:"netlify-react-ui",DEVCYCLE_CLIENT_SDK_KEY:"dvc_client_7b35e45b_dd67_444b_b114_46804faa770d_ab0f202",MOCK_API:void 0,REACT_APP_QUIET:void 0,REACT_APP_VERSION_ID:"64e0c30899c6e100082abc5f",APP_ENV:"prod",NETLIFY_API_BASE:void 0,NETLIFY_GRAPHQL_API_BASE:void 0,ACTION_CABLE_URL:"wss://cablecar.services.netlify.com/cable",BUILD_UTC_TIME:1692451720274,SIGNUP_FORM_REDESIGN_PERCENTAGE:100,STRIPE_IDENTITY_VERIFICATION_PUBLIC_KEY:"pk_live_51LpyGQG2IwkHjCivgYP2UkRPU6g8i2vCYfOjXZzPmMU80Krk4h4iSM264No13KYb0ggw6H5HnBBcPYX11AQhTKpy00PDtz409I",NOTRANSLATE_DEBUG:!1}.PLUGINS_URL_OVERRIDE||`https://${p}--netlify-plugins.netlify.app/plugins.json`,E="DEACTIVATED",o="PLUGIN_INSTALL",d=(0,f.Z)(o,(W,T,B)=>({pluginName:W,siteName:T,status:B})),a=(0,m.P)("plugins"),u=(0,m.x)("plugins",a,{key:"package"}),l=W=>{var T;const B=(T=W.compatibility)==null?void 0:T.filter(re=>!re.featureFlag);return{...W,compatibility:B!=null&&B.length?B:null}},n=()=>W=>(W(a.pluginsRequest("plugins")),fetch(S).then(T=>{if(!T.ok){const{status:B,statusText:re}=T;throw new M.Z({status:B,statusText:re,message:"Error fetching plugins"})}return T.json()}).then(T=>{const B=T.map(l);return W(a.pluginsSuccess("plugins",B))}).catch(T=>W(a.pluginsFailure("plugins",T))));function t(W,T,B,re=!0){const x=B||[];x.push({package:T});const ee={plugins:x};return(0,D.p5)((J,ae,F)=>F.updateSite(W.get("id"),ee).then(Y=>{J(d(T,W.get("name"),"success")),J(P.Nw.siteSuccess(Y.data))}).catch(Y=>(J(d(T,W.get("name"),"failure")),Promise.reject(new M.Z(Y)))))}const s=W=>W.get("status")!==E;function i(W){const T=W.plugins.get("entities");return T==null?void 0:T.filter(s)}function _(W){return W.plugins.getIn(["pages","plugins","isFetching"])}function r(W){return W.plugins.getIn(["pages","plugins","error"])}function g(W,T){return W.plugins.get("entities").find(B=>B&&B.get("package")===T&&B.get("status")!==E)}const I=W=>T=>{const B=W.get(T.get("package"));return(B==null?void 0:B.merge(T))||T},U=(W,T)=>(W==null?void 0:W.get("name"))>(T==null?void 0:T.get("name"))?1:-1,X=(W,T)=>{const B=W.plugins.get("entities");return(T==null?void 0:T.map(I(B)).sort(U))||List()}},43256:(Me,$,e)=>{e.d($,{B$:()=>te,Ce:()=>W,GY:()=>b,I0:()=>V,Pk:()=>I,Qg:()=>ee,Wo:()=>le,Wq:()=>l,en:()=>Le,oV:()=>Te,pd:()=>g,vD:()=>x,vb:()=>q,yW:()=>ve});var c=e(5780),N=e.n(c),f=e(18228),m=e(90046),M=e.n(m),D=e(15409),P=e.n(D),p=e(18643),S=e(18432),E=e(63851),o=e(22616),d=e(83360),a=e(65628);const u="REPO_LINK_REQUEST",l="REPO_LINK_SUCCESS",n="REPO_LINK_FAILURE",t="REPO_CREATE_FS",s="REPO_ADD_WORKSPACES",i="REPO_NO_FS",_="REPO_MANUAL_CONFIG",r=(0,S.P)("repos"),g=(0,p.Z)(u,C=>C),I=(0,p.Z)(l,C=>C),U=(0,p.Z)(n,(C,G)=>({full_name:C,error:G})),X=(0,p.Z)(t,(C,G)=>({fs:C,full_name:G})),W=(0,p.Z)(_,(C,G)=>({full_name:C,manual:G})),T=(0,p.Z)(s,(C,G)=>({workspaces:C,full_name:G})),B=(0,p.Z)(i),re=25;function x({organization:C,hideGitUser:G,page:w,per_page:ge=re,installationId:pe}){return(0,a.$_)((fe,Ke,he)=>{if(G&&!C)return Promise.resolve();const K=Ke(),k=(0,a.z8)(K),ue=(0,a.Lb)(K),_e=ue?he.searchRepos:he.repos;return fe(r.reposRequest(C)),_e.call(he,{search:ue,organization:C,page:w,per_page:ge,installationId:pe,gitUser:k}).then(H=>fe(r.reposSuccess(C,H.data,H.pagination))).catch(H=>{if(he&&"checkErrorForInvalidToken"in he){const h=he.checkErrorForInvalidToken(H);if(h)throw new E.Z(h)}})})}function ee(C,G){const w=C.get("api_id"),ge=C.get("full_name"),pe=C.get("organization_name");return(0,a.$_)((fe,Ke,he)=>he.branches({api_id:w,organization_name:pe,page:G}).then(({data:K,pagination:k})=>{fe(r.repoSuccess({full_name:ge,branches:C.get("branches").push(...K),branchPagination:k}))}))}const J=async({fs:C,repoFiles:G,baseDir:w})=>{const pe=G.filter(fe=>(fe=fe.replace(w,""),o.yl.includes(fe))).map(async fe=>{const Ke=await C.readFile(fe);return[fe,Ke]});return Promise.allSettled(pe).then(fe=>fe.reduce((Ke,he)=>{if(he.status==="rejected")return Ke;const[K,k]=he.value;return{...Ke,[K.replace(w,"")]:k}},{}))},ae=async(C,G)=>{try{return(await C.readDir(G)).map(ge=>C.join(G,ge))}catch{return[]}},F=C=>C?C.at(-1)==="/"?C:`${C}/`:"";function Y(C,G){return G.map(w=>{var ge,pe,fe,Ke,he;const K=(fe=(pe=(ge=C.frameworks)==null?void 0:ge.get(w))==null?void 0:pe[0])==null?void 0:fe.toJSON(),k={path:w,name:(he=(Ke=C.workspace)==null?void 0:Ke.getPackage(w))==null?void 0:he.name};return K&&(k.framework={id:K.id,logo:K.logo}),k})}async function oe(C,G){const w=C.join(G,"netlify.toml");try{return await C.readFile(w),w}catch{return null}}const L=["@netlify/plugin-nextjs"],j=(C=[],G=[])=>G.reduce((w,ge)=>C.includes(ge)&&!L.includes(ge)?w:[...w,{package:ge}],[]);async function me({fs:C,dispatch:G,getState:w,configFilePath:ge,packagePath:pe,baseDir:fe,cloningRepo:Ke=!1,flags:he={}}){var K;if(y(w(),C.details.full_name))return;const _e=(((K=z(w(),C.details.full_name))==null?void 0:K.toJS())||{}).package_path!==pe,H=new f.IK(C,_e?"":fe||"","/").setNodeVersion("18.0.0");H.events.on("detectWorkspaces",h=>{h&&G(T(Y(H,(h==null?void 0:h.packages.map(Z=>Z.path))||[]),C.details.full_name))}),H.events.on("detectSettings",async h=>{var Z,De,ye,O,R;const ie=h.map(({packagePath:We})=>We).filter(Boolean),Ie=pe||((Z=h[0])==null?void 0:Z.packagePath);if(Ie!=null&&Ie.length){h=h.filter(Ve=>Ve.packagePath===Ie);const We=await oe(C,Ie);ge=We!=null?We:ge}const Re=await(0,f.t0)(H,ge),Oe=P()(h[0],Re);G(T(Y(H,[...new Set(ie)]),C.details.full_name)),G(r.repoSuccess({full_name:C.details.full_name,...he.project_druddigon_ui&&{configFilePath:ge},settings:{package_path:Oe==null?void 0:Oe.packagePath,cmd:Oe==null?void 0:Oe.buildCommand,dir:(De=Oe.baseDirectory)!=null&&De.length&&((ye=Oe.dist)!=null&&ye.length)?C.relative(Oe.baseDirectory,Oe.dist):Oe==null?void 0:Oe.dist,base:_e?Oe.baseDirectory:fe!=null?fe:Oe==null?void 0:Oe.baseDirectory,plugins:j(Oe.plugins_from_config_file,Oe.plugins_recommended),plugins_installed:Oe.plugins_from_config_file,plugins_recommended:Oe.plugins_recommended,functions_dir:Oe.functionsDir,framework:(O=Oe.framework)==null?void 0:O.id,frameworkName:(R=Oe.framework)==null?void 0:R.name,template:Oe.template}}))}),await H.getBuildSettings()}const se=async({fs:C,baseDir:G,configFilePath:w,cloningRepo:ge=!1})=>{try{const pe=w!=null&&w.length&&w.endsWith("netlify.toml")?w.replace(/\/?netlify.toml$/,""):G,fe=await ae(C,pe),Ke=await J({fs:C,repoFiles:fe,baseDir:F(pe)}),{settings:he,warning:K}=await(0,o.ZP)(fe,Ke,ge);return{settings:he,warning:K}}catch(pe){return N().notify(pe,fe=>{var Ke;fe.context="heuristicsForRepoSettings",fe.addMetadata("repo",{name:C.details.full_name,branch:C.details.branch,provider:(Ke=C.git)==null?void 0:Ke.provider}),fe.severity="info"}),{settings:{}}}};function Te(C){const G=C.get("api_id"),w=C.get("full_name"),ge=C.get("default_branch"),pe=C.get("organization_name");return(0,a.$_)(async(fe,Ke,he)=>{const{data:K,pagination:k}=await he.branches({api_id:G,organization_name:pe}).catch(_e=>{N().notify(_e,H=>{H.context="prepareRepo",H.addMetadata("repo",{name:w,branch:ge,provider:he.provider}),H.severity="info"}),fe(r.repoFailure(w,new E.Z(`We couldn\u2019t access the repository ${w}. This could be because the repository is empty or disabled.`)))}),ue=new d.R(he,{organization_name:pe,api_id:G,full_name:w,branch:ge});fe(X(ue,w)),fe(r.repoSuccess({full_name:w,branches:K,branchPagination:k}))})}function q(C,G={}){return ne(C,async(w,ge,pe)=>{const fe=pe.details.full_name;try{if(G!=null&&G.project_rhyhorn_ui)await me({fs:pe,getState:ge,dispatch:w,flags:G});else{const Ke=await se({fs:pe,baseDir:""});w(r.repoSuccess({full_name:fe,...Ke}))}}catch(Ke){Ke instanceof Error&&N().notify(Ke,he=>{he.context="prepareRepo",he.addMetadata("repo",{name:pe,branch:pe.details.branch,provider:pe.git.provider}),he.severity="info"}),w(r.repoFailure(fe,new E.Z(`We couldn\u2019t access the repository ${fe}. This could be because the repository is empty or disabled.`)))}})}function b(C,G,w={}){return(G?pe=>(0,a.Fq)(G,pe):a.$_)((pe,fe,Ke)=>(pe(r.repoRequest(C)),Ke.repo(C).then(({data:he})=>{const K=new d.R(Ke,{organization_name:he.organization_name,api_id:he.api_id,full_name:C,branch:he.default_branch});return se({fs:K,baseDir:"",cloningRepo:!0}).then(k=>pe(r.repoSuccess({...he,...k})))}).catch(he=>{const K=new E.Z(he);throw pe(r.repoFailure(C,K)),K})))}function V(C,G,w={}){return ne(C,async(ge,pe,fe)=>{var Ke;const he=fe.details.full_name;return fe.details.branch!==G&&(ge(r.repoSuccess({full_name:he,settings:{},workspaces:void 0,configFilePath:void 0})),fe.changeBranch(G)),(Ke=w.flags)!=null&&Ke.project_rhyhorn_ui?me({fs:fe,dispatch:ge,getState:pe,configFilePath:w.configFilePath,baseDir:w.baseDir,packagePath:w.packagePath,flags:w.flags}):se({fs:fe,configFilePath:w.configFilePath,baseDir:w.baseDir||""}).then(K=>ge(r.repoSuccess({full_name:he,...K}))).catch(K=>ge(r.repoFailure(he,new E.Z(`We couldn\u2019t access the branch ${G} on repository ${he}. This could be because some files have format errors.`))))})}function ne(C,G){return async(w,ge)=>{const pe=Ae(ge(),C.get("full_name"));return pe?G(w,ge,pe):w(B())}}function Se(C=[],G=[]){const w=new Map(C.reduce((ge,pe)=>ge.set(pe.path,pe),new Map));for(const ge of G)w.has(ge.path)?w.set(ge.path,P()(w.get("w.path"),ge)):w.set(ge.path,ge);return[...w.values()]}function Pe(C,G){switch(G.type){case u:return C.set("linking",!0).setIn(["entities",G.payload,"linking"],!0);case n:return C.set("linking_error",G.payload.error).setIn(["entities",G.payload.api_id,"link_error"],r.payload.error);case l:return C.set("linking",null).setIn(["entities",G.payload,"linking"],null);case t:return C.setIn(["entities",G.payload.full_name,"fs"],G.payload.fs);case s:return C.updateIn(["entities",G.payload.full_name,"workspaces"],ge=>(0,m.fromJS)(Se(ge==null?void 0:ge.toJS(),G.payload.workspaces)));case _:let w=C;return G.payload.manual&&(w=w.setIn(["entities",G.payload.full_name,"settings"],(0,m.fromJS)({base:"",cmd:"",package_path:"",dir:""}))),w.setIn(["entities",G.payload.full_name,"manual"],G.payload.manual);default:return null}}const Le=(0,S.x)("repos",r,{key:"full_name",handler:Pe});function ve(C,G){const w=C.repos.getIn(["pages",G,"ids"]);return w&&w.map(ge=>le(C,ge))}function te(C,G){return C.repos.getIn(["pages",G])}function le(C,G){return C.repos.getIn(["entities",G])}function Ae(C,G){return le(C,G).get("fs")}function y(C,G){const w=le(C,G);return(w==null?void 0:w.get("manual"))||!1}function z(C,G){const w=le(C,G);return(w==null?void 0:w.get("settings"))||(0,m.fromJS)({})}function de(C,G){return le(C,G).get("workspaces")}function Ce(C,G){return le(C,G).get("isFetching")}},87430:(Me,$,e)=>{e.d($,{SE:()=>S,XK:()=>p,Zz:()=>E,e7:()=>l,jW:()=>a,rB:()=>P});var c=e(68854),N=e(40917),f=e(91800),m=e(941),M=e(60653),D=e(93716);const P="next";function p({account:n,url:t,data:s}){const i=n.get("slug");return(0,m.p5)((_,r,g)=>g.updateSamlConfig(i,t,s).then(I=>_((0,f.Mx)(i))))}function S(n){const t=n.get("slug");return(0,m.p5)((s,i,_)=>_.deleteSamlConfig(t).then(r=>s((0,f.Mx)(t))))}function E(n,t){return(0,m.p5)((s,i,_)=>_.getSamlStartUrl(n).then(r=>{const g=new URL(r.data.sp_start_url);g.searchParams.append("redirect",window.location.origin),g.searchParams.append("tracking_session_id",t),document.location=g.href}))}function o({user:n,slug:t}){return(0,m.p5)((s,i,_)=>_.user().then(r=>{n={...r.data,...n};const g=t?`/teams/${t}`:"/";s({type:M.Wb}),s((0,M.pH)(n)),s((0,D.Ee)(g))}))}function d({user:n,slug:t,redirect:s}){return(0,m.p5)((i,_,r)=>r.user().then(g=>{n={...g.data,...n},i({type:M.Wb}),i((0,M.pH)(n)),i((0,D.Ee)(s))}))}function a({token:n,slug:t}){return async(s,i)=>{window.location.hash="";const _={access_token:n};await(0,N.sV)({access_token:_.access_token});const r=(0,c.St)(P);(0,c.lD)(P),r&&(0,M.Bh)(r)?s(d({user:_,slug:t,redirect:r})):s(o({user:_,slug:t}))}}function u({user:n,saml_slug:t}){return(0,m.p5)((s,i,_)=>_.user().then(r=>{n={...r.data,...n};const g=t?`/teams/${t}`:"/";s({type:M.Wb}),s((0,M.pH)(n)),s((0,D.Ee)(g))}))}function l({access_token:n,saml_slug:t}){return async(s,i)=>{window.location.hash="";const _={access_token:n};await(0,N.sV)({access_token:_.access_token}),s((0,M.pH)(_)),s(u({user:_,saml_slug:t}))}}},67321:(Me,$,e)=>{e.d($,{$b:()=>D,wT:()=>P});var c=e(63851),N=e(91800),f=e(941),m=e(34571);const M=(p,S)=>{const E=[],o={instance_url:{gitlab_self_hosted:"There is a problem with your instance URL; please review it.",github_enterprise:"There is a problem with your instance URL; please review it."},app_id:{github_enterprise:"Your app ID and/or private key are incorrect; please review them."},pem_file:{github_enterprise:"Your app ID and/or private key are incorrect; please review them."},client_id:{gitlab_self_hosted:"Your app ID is incorrect; please review it.",github_enterprise:"Your client ID is incorrect; please review it."},client_secret:{gitlab_self_hosted:"Your secret is incorrect; please review it.",github_enterprise:"Your client secret is incorrect; please review it."},webhook_secret:{github_enterprise:"Your webhook secret is incorrect; please review it."}};for(const d of Object.keys(p))o[d]&&E.push(o[d][S]);return E.length?E.length===1?`**Connection failed.** ${E[0]}`:`**Connection failed:** 

* `+E.join(`
* `):p},D=(p,S,E)=>{const o=p.get("id"),d=p.get("slug");return(0,f.p5)((a,u,l)=>l.updateSelfHostedGitConfig(o,S,E).then(({data:n})=>{a((0,N.Mx)(d)),a((0,m.KZ)({accountSlug:d}))}).catch(n=>{const t=M(n,E);throw new c.Z(t)}))},P=(p,S)=>{const E=p.get("id"),o=p.get("slug");return(0,f.p5)((d,a,u)=>u.deleteSelfHostedGitConfig(E,S).then(({data:l})=>{d((0,N.Mx)(o)),d((0,m.KZ)({accountSlug:o}))}).catch(l=>{throw new c.Z(l)}))}},57240:(Me,$,e)=>{e.d($,{G6:()=>a,M2:()=>o,Pg:()=>l,RA:()=>i,k3:()=>t,k4:()=>u,uZ:()=>S,wo:()=>n});var c=e(18432),N=e(40917),f=e(941),m=e(60653),M=e(99647),D=e(44195),P=e(34571);const p=(0,c.P)("services"),S=(0,c.x)("services",p);function E(_,r){return _.services.getIn(["entities",r])}function o(_,r){const g=_.services.getIn(["pages",r.get("id"),"ids"]);return g&&g.map(I=>E(_,I))}function d(_){return _.get("service_path").replace("/.netlify/","")}function a(_,r,g={}){return(0,f.p5)((I,U,X)=>X.createService(_.get("id"),r,g).then(W=>p.serviceSuccess(W.data)).then(()=>I(u(_))))}function u(_){const r=_.get("id");return(0,f.p5)((g,I,U)=>U.services(r).then(X=>g(p.servicesSuccess(r,X.data))))}function l(_,r,g){return(0,f.p5)((I,U,X)=>X.updateService(_.get("id"),d(r),r.get("id"),{config:g}).then(()=>I(u(_))))}function n(_,r){return(0,f.p5)((g,I,U)=>U.deleteService(_.get("id"),d(r),r.get("id")).then(()=>g(u(_))))}function t(_,r){return(0,f.vd)((g,I,U,X)=>{switch(r){case"cms":return Promise.all([g((0,D.XD)(_,{disable_signup:!0})),g(a(_,"git",{[X.provider]:{access_token:X.token,repo:_.getIn(["build_settings","repo_url"]).replace(/^https:\/\/[^/]+\//,"")}}))]).then(W=>g(s(_)));case"fauna":return g(a(_,"fauna",{}));case"nimbella":return g(a(_,"nimbella",{}));default:return Promise.resolve()}})}function s(_){return(r,g)=>{const I=g(),U=(0,m.HF)(I),X={email:U.get("email"),data:{full_name:U.get("full_name")}};return _=(0,P.lH)(I,_.get("name")),r((0,D.cG)(_,[X]))}}function i(_,r){return(0,f.p5)((g,I,U)=>{const X=I(),W=(0,M.Ji)(X),T=(0,M.vv)(X),B=new N.ZP({site_id:W,base_url:T});return new Promise((re,x)=>B.authenticate({provider:_,scope:r},(ee,J)=>{ee?x(ee):re(J.token)}))})}},34571:(Me,$,e)=>{e.d($,{$2:()=>k,CJ:()=>Qe,CX:()=>ue,Cu:()=>Z,EQ:()=>ge,Er:()=>ke,G$:()=>st,GQ:()=>mt,Go:()=>q,IS:()=>ye,KZ:()=>ie,L3:()=>Re,LR:()=>ae,LZ:()=>J,Mo:()=>fe,Nw:()=>se,OH:()=>_e,OK:()=>yt,Pr:()=>ot,UJ:()=>dt,UQ:()=>De,Un:()=>ht,VI:()=>le,WV:()=>Ke,ZO:()=>H,Z_:()=>Oe,aO:()=>pe,c7:()=>h,cP:()=>Ot,eZ:()=>F,f:()=>ee,gG:()=>Mt,hK:()=>Ct,lH:()=>et,mV:()=>lt,mY:()=>pt,mh:()=>Dt,n:()=>vt,rC:()=>St,tI:()=>ft,tc:()=>It,u:()=>At,wM:()=>O,xb:()=>We});var c=e(90046),N=e.n(c),f=e(54969),m=e.n(f),M=e(19271),D=e(18643),P=e(18432),p=e(19349),S=e(63851),E=e(68854),o=e(88317),d=e(95972),a=e(68187),u=e(941),l=e(60653),n=e(84673),t=e(86025),s=e(38086),i=e(65628),_=e(43256),r=e(57240),g=e(93716);const I="BRANCHES_SUCCESS",U="DEPLOY_KEY_SUCCESS",X="DNS_ZONE_SUCCESS",W="ALL_DNS_ZONES_SUCCESS",T="SITE_CREATED",B="SITES_CLEAR_PAGES",re="SNIPPETS_REQUEST",x="SNIPPETS_SUCCESS",ee="DEPLOY_DONE",J="DEPLOY_ERROR",ae="DIRECT_DEPLOY_LANDING",F="DIRECT_DEPLOY_SUCCESS",Y="SUBSCRIPTION_CANCELED",oe="USAGE_RECORDS_SUCCESS",L="USAGE_RECORD_SUCCESS",j="APP_INSTALL_SUCCESS",me="DNS_CONFIG_CHECKED",se=(0,P.P)("sites"),Te=(0,D.Z)(T,A=>A),q=(0,D.Z)(B),b=(0,D.Z)(re,A=>A),V=(0,D.Z)(x,(A,v)=>({name:A,snippets:v})),ne=(0,D.Z)(I,(A,v)=>({name:A,branches:v})),Se=(0,D.Z)(X,(A,v)=>({name:A,dnsZone:v})),Pe=(0,D.Z)(W,(A,v)=>({name:A,dnsZones:v})),Le=(0,D.Z)(U,(A,v)=>({name:A,deployKey:v})),ve=(0,D.Z)(ee),te=(0,D.Z)(J,A=>A),le=(0,D.Z)(ae,()=>{}),Ae=(0,D.Z)(F,A=>A),y=(0,D.Z)(Y,A=>A),z=(0,D.Z)(oe,(A,v)=>({name:A,records:v})),de=(0,D.Z)(L,(A,v)=>({name:A,record:v})),Ce=(0,D.Z)(j,(A,v)=>({name:A,installationId:v})),C=(0,D.Z)(me,(A,v)=>({name:A,dnsVerified:v})),G=5,w=(0,c.Map)({isFetching:!0});function ge(A){return(0,u.p5)((v,Q,ce)=>(v(se.siteRequest(A)),ce.site(A).then(Ee=>v(se.siteSuccess(Ee.data))).catch(Ee=>v(se.siteFailure(A,Ee))).then(Ee=>et(Q(),A))))}function pe(A,v){return(Q,ce)=>fetch(`/.netlify/functions/verify?domain=${v}`).then(Ee=>Ee.json().then(Ue=>{if(!Ee.ok)throw new S.Z(Ue.error||"Error fetching DNS config");return Ue})).then(Ee=>{const Ue={glo:"global",global:"global",packet:"packet",pkt:"packet",reg:"regular",regular:"regular"},Be=Ee.results.map(Fe=>Fe.cdnTier),ze=A.getIn(["capabilities","cdn_tier"]);ze==="custom"?Q(C(A.get("name"),"custom")):Be.every(Fe=>["global","regular","packet"].includes(Fe))&&(Be.every(Fe=>Fe===Ue[ze]||Fe==="packet")?Q(C(A.get("name"),"success")):Q(C(A.get("name"),"failed")))}).catch(Ee=>console.error("Error while checkDNSconfig:",Ee))}function fe(A){return(0,u.p5)((v,Q,ce)=>ce.siteById(A).then(Ee=>v(se.siteSuccess(Ee.data))).catch(Ee=>{v(se.siteFailure(A,Ee))}))}function Ke(A){return(0,u.p5)((v,Q,ce)=>ce.branches(A.get("id")).then(Ee=>(v(ne(A.get("name"),Ee.data)),gt(Q(),A.get("name")))).catch(Ee=>Ee&&Ee.code===401?(v(ne(A.get("name"),[])),gt(Q(),A.get("name"))):Promise.reject(Ee)))}const he=({customApexDomain:A,customSubdomain:v,allDnsZones:Q})=>{const ce=(v==null?void 0:v.split("."))||[],Ee=[];return ce.forEach((Ue,Be)=>{if(Be===ce.length-1)Ee.push(`${Ue}.${A}`);else{const ze=ce.slice(Be+1);Ee.push(`${Ue}.${ze.join(".")}.${A}`)}}),Ee.push(A),K(Ee,Q)};function K(A,v){if(A.length===0||v.length===0)return;const Q=v.find(ce=>ce.name===A[0]);return Q||(A.shift(),K(A,v))}function k(A,v){var Q;const ce=A.get("custom_domain"),Ee=((Q=A.get("domain_aliases"))==null?void 0:Q.toJS())||[],Ue=A.get("deploy_preview_custom_domain"),Be=A.get("branch_deploy_custom_domain"),ze=[ce,Ue,Be,...Ee].filter(Ne=>!!Ne),Fe=v&&v.get("slug")||null;return(0,u.p5)((Ne,Ge,Je)=>Je.dnsZones(Fe).then(({data:it})=>{const we={};ze.forEach(async He=>{await(0,d.hh)(He).then(xe=>{const $e=he({customApexDomain:`${xe==null?void 0:xe.domain}.${xe==null?void 0:xe.tld}`,customSubdomain:xe==null?void 0:xe.subdomain,allDnsZones:it});$e?(we[He]=$e,Ne((0,t.pZ)($e.name))):we[He]={error:"DNS zone not found",name:He}}),Ne(Pe(A.get("name"),we))})}))}function ue(A,v){const Q=v.get("dns_zone");return Q==null?void 0:Q.set("records",(0,t.od)(A,Q.get("name")))}function _e(A,v){const Q=v.get("dns_zones");if(!Q)return(0,c.fromJS)({});const ce=Q.toJS();return Object.keys(ce).forEach(Ee=>{ce[Ee].records=(0,t.od)(A,ce[Ee].name)}),(0,c.fromJS)(ce)}function H(A){return(0,u.p5)((v,Q,ce)=>ce.siteUsage(A.get("id")).then(Ee=>v(z(A.get("name"),Ee.data))))}function h(A,{id:v,plan:Q}){return(0,u.p5)((ce,Ee,Ue)=>Ue.changeAddonPlan(v,Q,A.get("id")).then(Be=>ce(de(A.get("name"),Be.data))))}function Z(A){return(0,u.p5)((v,Q,ce)=>ce.siteSnippets(A.get("id")).then(Ee=>v(V(A.get("name"),Ee.data))))}function De(A,v){return(0,u.p5)((Q,ce,Ee)=>Ee.siteSnippetRemove(A.get("id"),v.get("id")).then(Ue=>Q(Z(A))))}function ye(A,v){return(0,u.p5)((Q,ce,Ee)=>Ee.siteSnippetAdd(A.get("id"),v).then(Ue=>Q(Z(A))))}function O(A){return(0,u.p5)((v,Q,ce)=>{const Ee=et(Q(),A);if(!Ee||Ee.get("screenshot_fetching")||Ee.get("isFetching"))return;v(se.siteSuccess({name:A,screenshot_fetching:!0}));let Ue=0;const Be=()=>(Ue++,new Promise((ze,Fe)=>{ce.site(A).then(Ne=>{Ne.data.screenshot_url?ze(v(se.siteSuccess(Ne.data))):Ue<=5&&setTimeout(Be,1e3)})}));return Be()})}function R(A={}){return`sites-${A.accountSlug}${A.searchTerm?`-${A.searchTerm}`:""}`}function ie(A){const v=R(A);return(0,u.p5)((Q,ce,Ee)=>(Q(se.sitesRequest(v)),Ee.sites(A).then(Ue=>Q(se.sitesSuccess(v,Ue.data,Ue.pagination)))))}async function Ie(A,v={},Q){if(Object.keys(v).length>0){try{await Q.createEnvVars({accountId:A.account_slug,siteId:A.id,envVars:(0,p.EJ)(v)})}catch{}return A}return A}function Re(A,v){const Q=A.get("name");return(0,u.p5)((ce,Ee,Ue)=>Ue.updateSite(A.get("id"),v).then(Be=>{if(ce(q()),ce(se.siteSuccess(Be.data)),Be.data.name!==Q){const ze=window.location.pathname.replace(`/sites/${Q}/`,`/sites/${Be.data.name}/`);ce((0,g.Ee)(ze))}return et(Ee(),Q)}).catch(Be=>{var ze,Fe;if((ze=Be.errors)!=null&&ze.branch_deploy_custom_domain||(Fe=Be.errors)!=null&&Fe.deploy_preview_custom_domain){const Ne=(0,a.TQ)(Be.errors);if(Ne)throw new S.Z(Ne)}throw typeof Be.errors=="string"?new S.Z({message:Be.errors}):Be}))}function Oe(A){return(0,u.p5)((v,Q,ce)=>ce.unlinkSiteRepository(A).then(Ee=>(v(q()),v(se.siteSuccess(Ee.data)))))}function We(A){return(0,u.p5)((v,Q,ce)=>ce.deleteSite(A.get("id")).then(Ee=>{v(q()),v((0,M.VF)("/"))}))}function Ve(A){return(0,u.p5)((v,Q,ce)=>(0,i.$_)((Ee,Ue,Be)=>A(v,Q,ce,Be))(v,Q))}const qe=A=>{var v;const Q=(v=A.getIn(["settings","plugins"]))==null?void 0:v.toJS();return Q!=null&&Q.length?Q:[]},Xe=A=>!(o.Lz[A]===o.Lz.azure_devops||o.Lz[A]===o.Lz.gitlab||o.Lz[A]===o.Lz.gitlab_self_hosted);function ke(A,v,Q,ce=""){const Ee=v.get("api_id"),Ue=v.get("full_name"),Be=v.get("full_name_encoded"),ze=v.get("private"),Fe=v.get("installation_id"),Ne=v.get("owner_type"),Ge=Q.account_slug,Je=v.get("project_id"),it=v.get("organization_name");return Ve((we,He,xe,$e)=>{const Ye=$e.provider===o.Lz.github_app?o.Lz.github:$e.provider,be=He().git,je=o.Lz[Ye]===o.Lz.azure_devops,at=o.Lz[Ye]===o.Lz.gitlab||o.Lz[Ye]===o.Lz.gitlab_self_hosted,ut=o.Lz[Ye]===o.Lz.bitbucket||o.Lz[Ye]===o.Lz.bitbucket_self_hosted,ct=Xe(Ye),tt={provider:Ye,installation_id:Fe,id:v.get("id"),owner_type:Ne,repo:Be||Ue,private:ze,...Q};je&&(tt.azure_refresh_token=be.get("refreshAccessToken")),at&&(tt.gitlab_refresh_token=be.get("refreshAccessToken")),ut&&(tt.bitbucket_refresh_token=be.get("refreshAccessToken")),delete tt.account_slug;const{env:Tt}=tt;delete tt.env;const Ut=A?Ze=>xe.updateSite(A.get("id"),Ze):Ze=>xe.createSite({account_slug:Ge,...Ze,created_via:ce});return we((0,_.pd)(Ue)),(Fe||je?Promise.resolve():xe.createDeployKey().then(Ze=>$e.addDeployKey(Ee,Ze.data,!0,v.get("organization_name"))).catch(Ze=>{var nt;const Et=(nt=$e==null?void 0:$e.checkErrorForInvalidToken)==null?void 0:nt.call($e,Ze);throw Et?new S.Z(Et):new S.Z("We couldn\u2019t set up continuous deployment for this repository. This typically happens when you don\u2019t have admin rights to the repository.")})).then(Ze=>Ut({repo:{...tt,deploy_key_id:Ze&&Ze.id},...ct&&{default_hooks_data:Fe?{}:{access_token:$e.token}},plugins:qe(v)})).then(Ze=>$e.addWebhook({api_id:Ee,site:Ze.data,organization_name:it,project_id:Je})).then(async Ze=>await Ie(Ze,Tt,xe)).then(Ze=>xe.deploys(Ze.id,{page:1,per_page:1}).then(nt=>(we((0,l.fq)()),we((0,_.Pk)(Ue)),we(q()),we(se.siteSuccess(Ze)),we(n.Nw.deploysSuccess(Ze.id,nt.data,[])),{site:Ze,deploy:nt.data[0]})))})}function Qe(A){const v={};return A.forEach(Q=>{v[Q.path]=Q.sha}),v}function rt(A){const v={};return A.forEach(Q=>{v[Q]=!0}),v}function ot(A,v,Q,ce){const Ee=rt(v.required),Ue=m()(G);return Promise.all(Q.map(Be=>Ee[Be.sha]&&Ue(()=>A.uploadFile(v.deploy_id||v.id,Be.path,Be.content,ce))).filter(Boolean))}function lt(A,v,Q=!1){const ce=A.get("id"),Ee=A.get("name"),Ue=Qe(v);return(0,u.p5)((Be,ze,Fe)=>Fe.createDeploy(ce,{files:Ue}).then(Ne=>{const Ge=Ne.data;return Be(n.Nw.deploysSuccess(ce,[Ge])),(0,E.D$)("dropSiteName",Ee),(0,E.D$)("dropDeployId",Ge==null?void 0:Ge.id),Ge}).then(Ne=>ot(Fe,Ne,v).then(()=>Fe.waitForDeploy(Ne.id)).then(Ge=>Ge.data)).then(Ne=>Fe.site(Ee).then(Ge=>{Be(q()),Be(se.siteSuccess(Ge.data)),Be(n.Nw.deploysSuccess(ce,[Ne]))}).then(Ge=>{if(Q)Be(O(A.get("name"))),Be((0,M.VF)(`/drop/${A.get("name")}`));else{let Je=`/sites/${Ee}`;Ne!=null&&Ne.id&&(Je+=`/deploys/${Ne==null?void 0:Ne.id}`),Be((0,M.VF)(Je)),(0,s.Te)()}return Ge})))}function dt(A,v=""){return(0,u.p5)((Q,ce,Ee)=>Ee.createSite({account_slug:A,created_via:v}).then(({data:Ue})=>(Q(se.siteSuccess(Ue)),et(ce(),Ue.name))))}function st(){return(0,u.p5)((A,v,Q)=>Q.createDeployKey().then(ce=>ce.data).catch(ce=>{throw new S.Z("Error generating a new deploy key.",ce)}))}function St(A,v){return(0,u.p5)((Q,ce,Ee)=>Ee.getDeployKey(A).then(Ue=>Q(Le(v.get("name"),Ue.data))).catch(Ue=>{throw new S.Z("Error getting the deploy key.",Ue)}))}function pt(A,v){const Q=v.get("name");return A.sites.getIn(["entities",Q]).get("deploy_key")||null}function ft(A,v,Q,ce,Ee=!1,Ue=""){const Be=v.get("default_branch"),ze={path:v.get("full_name"),slug:v.get("full_name").replace(/\//,"-"),authorized_url:`https://${v.get("provider")}.com/${v.get("full_name")}`,branch:Be},Fe=v.get("settings").toJS(),{env:Ne}=Fe;delete Fe.env;const Ge={name:Q,private:Ee};return Ve((Je,it,we,He)=>{Je((0,_.pd)(Q));const xe=Xe(He.provider);return we.createTemplate(ze).then($e=>$e.data).then($e=>He.createRepo(Ge).then(Ye=>we.createDeployKey().then(be=>be.data).then(be=>He.addDeployKey(Ye.full_name,be,!1,v.get("organization_name"))).then(be=>we.createSite({account_slug:A,no_initial_build:!0,template_id:$e.id,repo:{provider:He.provider,branch:Be,id:Ye.id,repo:Ye.full_name,deploy_key_id:be.id,...Fe,private:Ye.private},...xe&&{default_hooks_data:{access_token:He.token}},plugins:qe(v),created_via:Ue}).then(je=>je.data)).then(be=>He.addWebhook({api_id:Ye.api_id,site:be,organization_name:v.get("organization_name")})).then(async be=>await Ie(be,Ne,we)).then(be=>Pt(be,v.getIn(["settings","template","incoming-hooks"])||[],we)).then(be=>Je((0,r.k3)((0,c.fromJS)(be),ce)).then(je=>be)).then(be=>we.triggerDeploy(be.id,!1,$e.id).then(je=>({site:be,build:je}))).then(({site:be,build:je})=>{var at,ut;Je((0,_.Pk)(Ye.full_name)),Je(Ae(be)),Je(ge(be.name));let ct=`/sites/${be.name}`;(at=je==null?void 0:je.data)!=null&&at.deploy_id&&(ct+=`/deploys/${(ut=je==null?void 0:je.data)==null?void 0:ut.deploy_id}`),Je((0,g.Ee)(ct))})))})}function mt(A,v){return(0,u.p5)((Q,ce,Ee)=>(Q(se.siteRequest(A.get("name"))),Ee.transferSite(A.get("id"),v.get("id")).then(Ue=>(Q(q()),Q(se.siteSuccess(Ue.data))))))}function Pt(A,v,Q){return v.map(ce=>Q.addBuildHook(A.id,{title:ce})),A}function Dt(A,v){return(Q,ce)=>Q(Ce(A.get("name"),v))}const It=(0,P.x)("sites",se,{key:"name",handler:(A,v)=>{switch(v.type){case B:return A.delete("pages");case re:return A.setIn(["entities",v.payload,"snippets","isFetching"],!0);case x:return A.setIn(["entities",v.payload.name,"snippets"],(0,c.fromJS)(v.payload.snippets));case I:return A.setIn(["entities",v.payload.name,"branches"],(0,c.fromJS)(v.payload.branches));case U:return A.setIn(["entities",v.payload.name,"deploy_key"],v.payload.deployKey.public_key);case X:return A.setIn(["entities",v.payload.name,"dns_zone"],(0,c.fromJS)(v.payload.dnsZone));case W:return A.setIn(["entities",v.payload.name,"dns_zones"],(0,c.fromJS)(v.payload.dnsZones));case Y:return A.deleteIn(["entities",v.payload.getIn(["site","name"]),"paid_individual_site_subscription"]);case oe:return A.setIn(["entities",v.payload.name,"plans"],(0,c.fromJS)(v.payload.records).reduce((Q,ce)=>Q.set(ce.get("type"),ce),(0,c.Map)()));case L:return A.updateIn(["entities",v.payload.name],Q=>Q.setIn(["plans",v.payload.record.type],(0,c.fromJS)(v.payload.record)));case me:return A.updateIn(["entities",v.payload.name],Q=>Q.set("dnsVerified",v.payload.dnsVerified));case j:return A.setIn(["entities",v.payload.name,"build_settings","installation_id"],v.payload.installationId);default:return null}}});function Ot(A){return(0,u.ac)(A).sites}function et(A,v,Q=!1){const ce=A.sites.getIn(["entities",v]);return ce?ce&&ce.get&&ce.get("id")?ce:Q?ce.get&&ce||w.set("name",v):null:null}function Mt(A,v){return A.sites.get("entities").find(Q=>Q.get("id")===v)}function _t(A,v){const Q=Number(v.page)||1,ce=A.sites.getIn(["pages",R(v)]),Ee=(ce==null?void 0:ce.get("current"))||1;return!(ce!=null&&ce.get("isFetching"))&&Ee===Q?ce:null}function At(A,v){const Q=_t(A,v);return Q==null?void 0:Q.get("ids").map(ce=>et(A,ce))}function vt(A,v={}){var Q;return(Q=A.sites)==null?void 0:Q.getIn(["pages",R(v),"isFetching"])}function yt(A,v={}){return _t(A,v)}function Rt(A,v){return v&&v.get("branches")}function gt(A,v){var Q;return(Q=et(A,v))==null?void 0:Q.get("branches")}function ht(A,v){const Q=Rt(A,v),ce=v.getIn(["build_settings","repo_branch"]),Ee=Q&&Q.map(Ue=>Ue.get("name")).filter(Ue=>Ue!==ce);return Ee&&Ee.unshift(ce)}function Lt(A){return A.sites.get("search")}const Ct=A=>v=>v(se.siteSuccess(A))},88677:(Me,$,e)=>{e.d($,{B2:()=>t,Sw:()=>U,XU:()=>T,Z:()=>W,_d:()=>re,as:()=>r,eA:()=>X,iS:()=>I,il:()=>g,oB:()=>B,oN:()=>i,sQ:()=>_,vy:()=>n,z4:()=>s});var c=e(90046),N=e.n(c),f=e(18643),m=e(63851),M=e(941);const D="SLACK_WORKSPACE_LOADING",P="SLACK_WORKSPACE_SUCCESS",p="SLACK_SUBSCRIPTIONS_LOADING",S="SLACK_SUBSCRIPTIONS_SUCCESS",E="SLACK_CHANNELS_SUCCESS",o=(0,f.Z)(D,x=>({loading:x})),d=(0,f.Z)(P,(x,ee)=>({accountId:x,data:ee})),a=(0,f.Z)(p,x=>({loading:x})),u=(0,f.Z)(S,(x,ee)=>({accountId:x,data:ee})),l=(0,f.Z)(E,(x,ee)=>({accountId:x,data:ee}));function n(x=(0,c.Map)(),ee){switch(ee.type){case D:{const{loading:J}=ee.payload;return x.setIn(["entities","loading"],J)}case P:{const{accountId:J,data:ae}=ee.payload;return x.setIn(["entities",J],(0,c.fromJS)(ae.workspace))}default:return x}}function t(x=(0,c.Map)(),ee){switch(ee.type){case p:{const{loading:J}=ee.payload;return x.setIn(["entities","loading"],J)}case S:{const{accountId:J,data:ae}=ee.payload;return x.setIn(["entities",J],(0,c.fromJS)(ae))}default:return x}}function s(x=(0,c.Map)(),ee){switch(ee.type){case E:{const{accountId:J,data:ae}=ee.payload;return x.setIn(["entities",J],(0,c.fromJS)(ae))}default:return x}}function i(x){return(0,M.p5)((ee,J,ae)=>(ee(o(!0)),ae.slackWorkspace(x).then(F=>{ee(d(x,F.data))}).catch(F=>(ee(d(x,{workspace:void 0})),new m.Z(F))).finally(()=>ee(o(!1)))))}function _(x){return(0,M.p5)((ee,J,ae)=>ae.deleteSlackWorkspace(x).then(()=>ee(i(x))))}function r(x,ee){return(0,M.p5)((J,ae,F)=>{const Y=[],oe=async(L,j)=>{const me=await F.slackChannels(x,{cursor:L,limit:j});Y.push(...me.data.channels);const{next_cursor:se}=me.data.response_metadata;se?await oe(se,(ee==null?void 0:ee.limit)||1e3):J(l(x,Y))};oe("",(ee==null?void 0:ee.limit)||1e3)})}function g(x){return(0,M.p5)((ee,J,ae)=>(ee(a(!0)),ae.slackSubscriptions(x).then(F=>{ee(u(x,F.data))}).finally(()=>ee(a(!1)))))}function I(x,ee){return(0,M.p5)((J,ae,F)=>{const Y=ee.id?"editSlackSubscription":"createSlackSubscription";return F[Y](x,ee).then(()=>J(g(x)))})}function U(x,ee){return(0,M.p5)((J,ae,F)=>F.deleteSlackSubscription(x,ee).then(()=>J(g(x))))}const X=x=>x.slackWorkspace.getIn(["entities","loading"]),W=(x,ee)=>ee&&x.slackWorkspace.getIn(["entities",ee]),T=x=>x.slackSubscriptions.getIn(["entities","loading"]),B=(x,ee)=>ee&&x.slackSubscriptions.getIn(["entities",ee]),re=(x,ee)=>ee&&x.slackChannels.getIn(["entities",ee])},28051:(Me,$,e)=>{e.d($,{Vt:()=>M});var c=e(18432),N=e(941),f=e(34571);const m=(0,c.P)("subscriptions"),M=(0,c.x)("subscriptions",m);function D(d){return withApi((a,u,l)=>(a(m.subscriptionsRequest("subscriptions")),l.newSubscription(d).then(n=>a(m.subscriptionSuccess(n.data)))))}function P(d){return withApi((a,u,l)=>(a(m.subscriptionsRequest("subscriptions")),l.cancelSubscription(d.get("id")).then(()=>a(subscriptionCanceled(d)))))}function p(d,a){return withApi((u,l,n)=>{u(m.subscriptionsRequest("subscriptions"));const t={payment_method_id:a};return n.updateSubscription(d,t).then(s=>u(m.subscriptionSuccess(s.data)))})}function S(d){return withApi((a,u,l)=>(a(m.subscriptionsRequest("subscriptions")),l.getSubscriptions(d).then(n=>a(m.subscriptionsSuccess(d,n.data)),n=>a(m.subscriptionsFailure(d,n.message)))))}function E(d,a){const u=d.subscriptions.getIn(["entities"]);return u&&u.find(l=>o(l)&&l.get("type")==="site"&&l.get("site_id")===a)}function o(d){return d.get("state")==="active"||d.get("state")==="past_due"||d.get("zuora_migrated")&&!d.get("zuora_canceled")}},670:(Me,$,e)=>{e.d($,{IP:()=>m,K$:()=>P,XT:()=>E,iH:()=>D});var c=e(18432),N=e(941);const f=(0,c.P)("teamAudits"),m=(0,c.x)("teamAudits",f);function M(o,d){return o.teamAudit.getIn(["entities",d])}function D(o,d){const a=o.teamAudit.getIn(["pages",S(d),"ids"]);return a&&a.map(u=>M(o,u))}function P(o,d){return o.teamAudit.getIn(["pages",S(d)])}function p(o,d){return o.teamAudit.getIn(["pages",S(d),"current"])}function S(o={}){return`${o.accountSlug}${o.search?`-${o.search}`:""}`}function E(o={}){return(0,N.p5)((d,a,u)=>u.teamAudit(o).then(l=>{d(f.teamAuditsSuccess(S(o),l.data,l.pagination))}))}},38751:(Me,$,e)=>{e.d($,{GO:()=>f,IK:()=>N,Kq:()=>P,L9:()=>M,qX:()=>m});var c=e(18643);const N="TRACK",f="IDENTIFY",m="PAGE",M=(0,c.Z)(N,p=>p),D=(0,c.Z)(f,p=>p),P=(0,c.Z)(m,()=>({}))},45988:(Me,$,e)=>{e.d($,{Dk:()=>a,Fz:()=>E,VO:()=>s,af:()=>n,m6:()=>t,rU:()=>p,vj:()=>l});var c=e(90046),N=e.n(c),f=e(18643),m=e(18432),M=e(941);const D="TRAFFICSPLIT_TOGGLE",P=(0,m.P)("trafficSplits"),p=(0,m.x)("trafficSplits",P,{handler:(i,_)=>{switch(_.type){case"TRAFFICSPLIT_SUCCESS":return i.setIn(["entities",_.payload.id],(0,c.fromJS)(_.payload));case D:return i.setIn(["entities",_.payload.splitId,"active"],_.payload.active);default:return null}}});function S(i,_){return i.trafficSplits.getIn(["entities",_])}function E(i,_){const r=i.trafficSplits.getIn(["pages",d(_),"ids"]);return r&&r.map(g=>S(i,g))}const o=(0,f.Z)("TRAFFICSPLIT_TOGGLE",(i,_)=>({splitId:i,active:_}));function d(i){return i&&i.get("id")}function a(i){const _=d(i);return(0,M.p5)((r,g,I)=>I.trafficSplits(_).then(U=>r(P.trafficSplitsSuccess(_,U.data))))}function u(i,_){const r=d(i);return withApi((g,I,U)=>U.trafficSplit(r,_).then(X=>g(P.trafficSplitSuccess(X.data))))}function l(i,_){const r=d(i);return(0,M.p5)((g,I,U)=>U.createTrafficSplit(r,_).then(X=>{g(P.trafficSplitSuccess(X.data)),g(a(i))}))}function n(i,_,r){const g=d(i);return(0,M.p5)((I,U,X)=>X.updateTrafficSplit(g,_,r).then(W=>{I(P.trafficSplitSuccess(W.data))}))}function t(i,_){return(0,M.p5)((r,g,I)=>I.startTrafficSplit(d(i),_).then(U=>{r(o(_,!0)),r(a(i))}))}function s(i,_){return(0,M.p5)((r,g,I)=>I.stopTrafficSplit(d(i),_).then(U=>{r(o(_,!1)),r(a(i))}))}},79954:(Me,$,e)=>{e.d($,{f:()=>c});var c=(N=>(N.all="all",N.nonProduction="non_production",N))(c||{})},93716:(Me,$,e)=>{e.d($,{Ee:()=>u,FY:()=>_,Gh:()=>T,Ic:()=>X,Jh:()=>i,K4:()=>r,Qf:()=>g,TW:()=>U,X_:()=>I,_P:()=>l,jS:()=>s,qC:()=>t,ui:()=>a});var c=e(90046),N=e.n(c),f=e(19271),m=e(941),M=e(34571),D=e(38751);const P="SET_A11Y_MESSAGE",p="SET_LOADING",S="SET_ROUTE_PATH",E="SET_DISPLAY_GUIDED_ONBOARDING",o="SHOW_FIRST_DEPLOY_MODAL",d="SITES_NAV_LIST_SUCCESS",a=(B=(0,c.Map)(),re)=>{switch(re.type){case P:return B.setIn(["ui","a11yMessage"],re.message);case p:return B.setIn(["ui","loading"],re.loading);case S:return B.setIn(["ui","routePath"],re.routePath);case E:return B.setIn(["ui","displayGuidedOnboarding"],re.displayGuidedOnboarding);case o:const{show:x}=re,ee=re.data||B.getIn(["ui","firstDeployModal","data"]);return B.setIn(["ui","firstDeployModal"],{show:x,data:ee});case d:return B.setIn(["ui","sitesNavList",re.accountSlug],re.data);default:return B}},u=B=>re=>{re((0,f.gx)(B)),re((0,D.Kq)())},l=({ui:B})=>B.getIn(["ui","a11yMessage"]),n=({ui:B})=>B.getIn(["ui","loading"]),t=({ui:B})=>B.getIn(["ui","routePath"]),s=({ui:B})=>B.getIn(["ui","displayGuidedOnboarding"]);function i({ui:B},re){return B.getIn(["ui","sitesNavList",re])||(0,c.fromJS)([])}const _=B=>({type:P,message:B}),r=B=>({type:p,loading:B}),g=B=>({type:S,routePath:B}),I=B=>({type:E,displayGuidedOnboarding:B}),U=B=>({type:o,show:!0,data:B}),X=()=>({type:o,show:!1}),W=({data:B,accountSlug:re})=>({type:d,data:B,accountSlug:re});function T(B,re){return(0,m.p5)((x,ee,J)=>{const ae=ee(),F=i(ae,B),Y=(0,M.lH)(ae,re,!1);if(!F||F.isEmpty()||Y&&!F.find(oe=>(oe==null?void 0:oe.get("name"))===(Y==null?void 0:Y.get("name"))))return J.sites({accountSlug:B}).then(oe=>x(W({data:(0,c.fromJS)(oe.data),accountSlug:B}))).catch(()=>x(W((0,c.fromJS)([]))))})}},36083:(Me,$,e)=>{e.d($,{q6:()=>D});var c=e(90046),N=e.n(c),f=e(18643);const m="UPLOAD_LOG",M=(0,f.Z)(m,(p,S)=>({deploy_id:p,log:S,ts:new Date().getTime()}));function D(p=(0,c.Map)(),S){switch(S.type){case m:{const{deploy_id:E,ts:o,log:d}=S.payload,a=p.get(E)||(0,c.List)();return p.setIn([E],a.push((0,c.Map)({ts:o,log:d})))}default:return p}}function P(p,S){return p.uploads.get(S)}},12648:(Me,$,e)=>{e.d($,{Pn:()=>s,aV:()=>_,bF:()=>t,ot:()=>i});var c=e(90046),N=e(18643),f=e(7857),m=e(35037);const M="USER_ANALYTICS_METRIC_SUCCESS",D="USER_ANALYTICS_METRIC_FETCHING_DONE",P="USER_ANALYTICS_METRIC_FETCHING_STARTED",p={resolution:"hour",days:7};let S=7;const E=(0,N.Z)(M,(r,g,I,{data:U})=>({metric:r,siteId:g.get("id"),period:I,data:U})),o=(0,N.Z)(D,(r,g)=>({metric:r,siteId:g.get("id")})),d=(0,N.Z)(P,(r,g)=>({metric:r,siteId:g.get("id")}));let a;function u(r){return(g,I)=>{const{config:U}=I();return a=a||new m.ZP(U),r(g,I,a)}}function l(r="day",g=30){const I=new Date;return{from:(0,f.b7)((0,f.YD)(I,g)).getTime(),to:I.getTime(),resolution:r}}function n(r="day",g=7){return{period:l(r,g),periodByRange:l("range",g)}}function t(r,g,{resolution:I,days:U}=p,X=""){const{period:W}=n(I,U);return S=U,u((T,B,re)=>Promise.all([T(d(g,r)),re.realUserMetric(r.get("id"),g,X,W).then(x=>T(E(g,r,W,x)))]).then(()=>T(o(g,r))))}function s(r,g,I){return r.realUserMetrics.get(`${g.get("id")}-${I}`)&&r.realUserMetrics.get(`${g.get("id")}-${I}`).toJS()}function i(){return S}const _=(r=(0,c.Map)(),g)=>{switch(g.type){case P:return r.setIn([`${g.payload.siteId}-${g.payload.metric}`,"isFetching"],!0);case M:return r.set(`${g.payload.siteId}-${g.payload.metric}`,(0,c.fromJS)({data:g.payload.data,timePeriod:{from:g.payload.period.from,to:g.payload.period.to},status:"current"}));case D:return r.setIn([`${g.payload.siteId}-${g.payload.metric}`,"isFetching"],!1);default:return r}}}}]);})();

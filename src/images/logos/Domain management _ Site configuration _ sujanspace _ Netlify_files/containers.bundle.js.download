"use strict";(()=>{(self.webpackChunk=self.webpackChunk||[]).push([[2244],{75467:(G,B,t)=>{t.d(B,{Z:()=>P});var e=t(24246),O=t(27378),p=t(80715),l=t(23979),f=t(64614),M=t(84673),m=t(52968),s=t(12648),u=t(34571),i=t(7311);const o=n=>Math.floor(new Date().getTime()/1e3)-60*60*24*n,r=n=>{const{setIsLoadingApp:S}=(0,i.bn)(),_=n.site.get("analytics_instance_id");(0,O.useEffect)(()=>{n.onLoad(n),S(!1)},[_]);const E=n.component||n.children;return(0,e.jsx)(E,{...n})};function a(n,S){let{site:_,account:E}=S;return{paymentMethod:(0,m.DY)(n,E),paymentProvider:(0,f.nY)(E),pageviews:(0,l.PO)(n,_),uniqueVisitors:(0,l.lW)(n,_),topLocations:(0,l.Z$)(n,_),topSources:(0,l.nV)(n,_),topPages:(0,l.gg)(n,_),bandwidthUsed:(0,l.Tf)(n,_),notFound:(0,l.p_)(n,_),summary:(0,l.mq)(n,_),realUserMetrics:{enabled:_.get("rum_enabled")||!1,filterSelected:(0,s.ot)(),FCP:(0,s.Pn)(n,_,"FCP"),LCP:(0,s.Pn)(n,_,"LCP"),FID:(0,s.Pn)(n,_,"FID"),INP:(0,s.Pn)(n,_,"INP"),CLS:(0,s.Pn)(n,_,"CLS")},filterSelected:(0,l._$)()}}function c(n,S){let{account:_,site:E,hasCharts:y,apiVersion:g}=S;return{onEnable:v=>n((0,l.Dc)(v)),onEnableRUM:v=>{n((0,u.L3)(v,{rum_enabled:!0})).then(()=>{n((0,s.bF)(v,"FCP")),n((0,s.bF)(v,"LCP")),n((0,s.bF)(v,"FID")),n((0,s.bF)(v,"INP")),n((0,s.bF)(v,"CLS"))})},onDisableRUM:v=>{n((0,u.L3)(v,{rum_enabled:!1}))},onLoad:()=>{y&&E.get("analytics_instance_id")?(n((0,l.Te)(E)),n((0,l.Pc)(E)),n((0,l.mE)(E)),n((0,l.bc)(E)),n((0,l.Ww)(E)),n((0,l.Wo)(E)),n((0,l.XF)(E))):n((0,m.nS)(_)),y&&E.get("rum_enabled")&&(n((0,s.bF)(E,"FCP")),n((0,s.bF)(E,"LCP")),n((0,s.bF)(E,"FID")),n((0,s.bF)(E,"INP")),n((0,s.bF)(E,"CLS")),n((0,M.lZ)(E,{filter:E.getIn(["build_settings","repo_branch"]),state:"ready",from:o(7)})))},onPaymentProviderTokenUsed:v=>n((0,f.Uc)(_,v)),onSavePaymentMethod:v=>n((0,m.BX)(v,_)),onUpdateFilter:(v,L)=>{let{resolution:h,days:W,minusOffsetDays:I}=L;n((0,l.Te)(v,{resolution:h,days:W,minusOffsetDays:I})),n((0,l.Pc)(v,{resolution:h,days:W,minusOffsetDays:I})),n((0,l.Wo)(v,{resolution:h,days:W,minusOffsetDays:I})),n((0,l.Ww)(v,{resolution:h,days:W,minusOffsetDays:I})),n((0,l.bc)(v,{resolution:h,days:W,minusOffsetDays:I})),n((0,l.XF)(v,{resolution:h,days:W,minusOffsetDays:I})),n((0,l.mE)(v,{resolution:h,days:W,minusOffsetDays:I}))},onUpdateRUMFilter:(v,L,h)=>{let{resolution:W,days:I,minusOffsetDays:R}=L;n((0,s.bF)(v,"FCP",{resolution:"hour",days:I},h)),n((0,s.bF)(v,"FID",{resolution:"hour",days:I},h)),n((0,s.bF)(v,"LCP",{resolution:"hour",days:I},h)),n((0,s.bF)(v,"INP",{resolution:"hour",days:I},h)),n((0,s.bF)(v,"CLS",{resolution:"hour",days:I},h)),n((0,M.lZ)(v,{filter:v.getIn(["build_settings","repo_branch"]),state:"ready",from:o(I)}))},onDelete:()=>n((0,l.Ji)(E))}}const P=(0,p.$j)(a,c)(r)},84633:(G,B,t)=>{t.d(B,{Z:()=>eo,Q:()=>Qn});var e=t(24246),O=t(62935),p=t(63636),l=t(60042),f=t.n(l),M=t(83299),m=t(90046),s=t(27378),u=t(80715),i=t(34740),o=t(45106),r=t(31425),a=t(91800),c=t(941),P=t(60653),n=t(64614),S=t(84673),_=t(38086),E=t(5774),y=t(32712),g=t(34571),v=t(38751),L=t(93716),h=t(7442),W=t(22716),I=t(32322),R=t(54187),C=t(2909),K=t(99365),d=t(64276),U=t(70977),F=t(4711),N=t(76273),x=t(9633),Z=t(64419),k=t(46998),$=t(58041),q=t(38978),st=t(71032),V=t(66520);const b=D=>{const[A,T]=(0,s.useState)(""),z=J=>{let{a11yMessage:nt}=J;nt&&(setTimeout(()=>{T(nt)},50),setTimeout(()=>{T("")},500))};return(0,s.useEffect)(()=>{z(D)},[D]),(0,e.jsx)("div",{role:"status","aria-live":"polite","aria-atomic":"true",className:"tw-sr-only",children:A})};function et(D){return{a11yMessage:(0,L._P)(D)}}const ct=(0,u.$j)(et,{setLoading:L.K4,setA11yMessage:L.FY})(b);var lt=t(1576),tt=t(77962),at=t(6433);function rt(D){let{account:A,router:T}=D;var z,J;const{deployPath:nt,firstDeployModal:Q,site:ut}=(0,u.v9)(Dt=>{var w,Ot;const dt=Dt.ui.getIn(["ui","firstDeployModal"]),ot=(0,g.gG)(Dt,(w=dt==null?void 0:dt.data)==null?void 0:w.site_id);return{deployPath:(0,tt.DD)(ot,"deploys",(Ot=dt==null?void 0:dt.data)==null?void 0:Ot.id),firstDeployModal:dt,site:ot==null?void 0:ot.toJS()}}),it=((z=Q==null?void 0:Q.data)==null?void 0:z.state)==="ready",_t=(0,u.I0)(),Lt=Dt=>{Dt!==at.Ct.onSubmit&&h.iND.appFirstDeployModalInteraction({modalInteraction:"dismissed"}),_t((0,L.Ic)())},Ut=window.location.pathname===nt,Wt=()=>{h.iND.appFirstDeployModalInteraction({modalInteraction:"primaryCtaClicked"}),!Ut&&nt?T.push(nt):T.push((0,tt.l_)(A))},Tt=Q==null?void 0:Q.show,Nt=(J=Q==null?void 0:Q.data)==null?void 0:J.site_id;return(0,s.useEffect)(()=>{Tt&&h.iND.appFirstDeployModalDisplayed({site_id:Nt,pageUrlPath:window.location.pathname,success:it})},[Tt,Nt,it]),Tt?(0,e.jsx)(lt.Z,{site:ut,onHide:Lt,onSave:Wt,isOnDeployPage:Ut,success:it}):null}const X=rt;var Y=t(24986),pt=t(61543),vt=t(66632),wt=t(60147),kt=t(4446),bt=t(7311),H=t(90867),mt=t(28739),zt=t(1081),It=t(45180),yn=t(41726),Bn=t(16957),Wn=t(8989),Kn=t(26563),Rt=t(17320),xn=t(72746),dn=t(54034),qt=t(83303),Fn=t(46408),Pt=t(68854),jn=t(12419),tn=t(54856),gn=t(13287),nn=t(53562),Nn=t(55492),En=t(74225),Zn=t(75518),$n=t(57742),vn=t(87230),wn=t(48651),zn=t(77528),Hn=t(36361);function Vn({isMobileNavOpen:D,setIsMobileNavOpen:A,event:T,secondaryNav:z,mobileNavButton:J}){var nt;const{key:Q,shiftKey:ut,target:it}=T;if(!D||Q!=="Tab"&&Q!=="Escape")return;const _t=(nt=z==null?void 0:z.querySelectorAll("a, button"))!=null?nt:[],Lt=_t[_t.length-1];(Q==="Escape"||!ut&&it===Lt||ut&&it===J)&&(A(!1),it!==J&&(T.preventDefault(),J==null||J.focus()))}const Pn="isNavCollapsed";function Xn(D){localStorage.setItem(Pn,`${D}`)}function Gn(){return localStorage.getItem(Pn)==="true"||!1}const bn=10*60*1e3;let Ht="",_n="",Vt;const Jn=()=>!0;function Qn(D){let A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:window.location.pathname;const{account:T,site:z,params:J}=D,nt=(0,tt.fR)(A,J),Q=qt.EO.getIn(nt.slice(0,2));return((Q==null?void 0:Q.get("isVisible"))||Jn)({account:T,site:z})}function Yn(D){var A;return(A=D[D.length-1])==null?void 0:A.back}function kn(D){let{routes:A,location:T,params:z,navigation:J}=D;const{pathname:nt,search:Q}=T,ut=(0,tt.fR)(nt,z)[1],it=Yn(A)&&(J==null?void 0:J.get(ut));return it&&[Rt.Z6.TEAM_PLUGINS].some(_t=>(0,tt.LX)(_t,it.get("path")))?it:it&&it.set("path",`/${(0,tt.Kn)(nt).slice(0,-1).join("/")}${Q}`)}function on(){if(!(0,Pt.St)("tracking_session_id")){const D=(0,r.Z)();(0,Pt.D9)("tracking_session_id",D)}}function fn(){(0,Pt.St)("tracking_session_id")&&(0,Pt.lD)("tracking_session_id")}function qn(D){Ht=window._sift=window._sift||[],Ht.push(["_setAccount",V.default.siftBeaconKey]),Ht.push(["_setSessionId",D]),Ht.push(["_setUserId",""]),Ht.push(["_trackPageview"]);const A=document.createElement("script");A.src="https://cdn.sift.com/s.js",document.body.prepend(A)}const to=D=>{const{isAuthViewReady:A,account:T,accounts:z,api:J,children:nt,excludeAppNav:Q=!1,excludeSecondaryNav:ut=!1,loadNotifications:it,loadSitesNavList:_t,onDragEnter:Lt,onDragLeave:Ut,onDragOver:Wt,onDrop:Tt,onLoad:Nt,redirect:Dt,user:w,userId:Ot,params:dt,routePath:ot,onChangeRoutePath:Kt,showGuidedOnboarding:gt,currentProviderSecureDecision:Jt,onCancelDeploy:Zt,site:xt,sitesNavList:en,location:$t}=D,{isLoadingApp:Xt}=(0,bt.bn)(),[Ft,ht]=(0,s.useState)(!0),[sn,jt]=(0,s.useState)(!1),[Qt,an]=(0,s.useState)(null),[rn,Gt]=(0,s.useState)(null),[mn,so]=(0,s.useState)(Jt),[Dn,On]=(0,s.useState)(!1),[ao,Mn]=(0,s.useState)(!1),[ro,pn]=(0,s.useState)(!1),Ln=T?Number(T.getIn(["support_level"])):0,io=w?w.get("email"):null,lo=T?T.getIn(["support_priority"]):0,ln=T==null?void 0:T.get("slug"),Tn=(0,Wn.Z)(Ot),cn=(0,Nn.I0)(),{themePreference:co,setThemePreference:uo}=(0,mt.Fg)(),[St,hn]=(0,s.useState)(Gn());(0,Bn.K)({targetKey:"\\",modifiers:{metaKey:!0}},()=>hn(j=>!j)),(0,s.useEffect)(()=>{Xn(St)},[St]);const[ft,Yt]=(0,s.useState)(!1),An=(0,s.useRef)(null),Cn=(0,s.useRef)(null),In=j=>Vn({isMobileNavOpen:ft,setIsMobileNavOpen:Yt,event:j,secondaryNav:Cn.current,mobileNavButton:An.current}),go=(0,It.P)("project_golduck_ui"),Eo=(0,It.P)("project_trumbeak_ui"),vo=()=>{sn||(jt(!0),Nt({siteName:dt.name}).then(j=>{jt(!1),!j&&ht(!1)}).catch(j=>{jt(!1),an(j),ht(!1)}).finally(()=>{requestIdleCallback(()=>{Array.isArray(window._asyncScriptsWaitingLoad)&&(window._asyncScriptsWaitingLoad.map(j=>j()),window._asyncScriptsWaitingLoad=[])},{timeout:2e3})}))},Rn=()=>{const j=window.location.hash;j&&j!==rn&&Gt((0,qt.dP)(j)&&j)},Po=()=>{window.addEventListener("hashchange",Rn,!1),document.addEventListener("dragenter",Lt,!1),document.addEventListener("dragleave",Ut,!1),document.addEventListener("dragover",Wt,!1),document.addEventListener("drop",Tt,!1)},_o=()=>{window.removeEventListener("hashchange",Rn),document.removeEventListener("dragenter",Lt),document.removeEventListener("dragleave",Ut),document.removeEventListener("dragover",Wt),document.removeEventListener("drop",Tt)};(0,yn.Z)(()=>{it(D)},bn),(0,s.useEffect)(()=>{Tn!==Ot&&vo()},[Ot,Tn]),(0,s.useEffect)(()=>{_n!==ot&&(_n=ot,Vt=(0,nn.ao)({routePath:ot}),Vt.whenDataFullyLoaded({timeout:15e3,whenDFLCallback:j=>{let{viewDFLTimedOut:Et}=j;Vt.markDataFullyLoaded({viewDFLTimedOut:Et})}})),!Ft&&!Xt&&Vt&&Vt.markInitialRender()},[Ft,Xt,ot]),(0,s.useEffect)(()=>{!T||!w||((0,nn.AC)({id:w.get("id")||"",email:w.get("email"),accountId:T.get("id"),plan:T.get("type_slug")}),(0,nn._z)("buildUTCTime",1692451720274))},[T,w]);const un=xt==null?void 0:xt.get("name");(0,s.useEffect)(()=>{!ln||!un||_t(ln,un)},[ln,un,_t]),(0,s.useEffect)(()=>{w&&!A&&ht(!0),A&&(ht(!1),tn.Z.setContext("sites",[],async(j,Et)=>{const{data:Mt}=await J.sites({searchTerm:j,page:Et});return Mt.map(yt=>(0,xn.rm)(yt))}))},[w,A,J]),(0,s.useEffect)(()=>{$t.search.includes("request_hp_edge=true")?Mn(!0):$t.search.includes("request_background_functions=true")&&pn(!0)},[$t.search]),(0,s.useEffect)(()=>{var j;w!=null&&w.get("id")&&(T!=null&&T.get("slug"))&&tn.Z.launch({accountSlug:(j=T.get("slug"))!=null?j:"",dispatch:cn,setThemePreference:uo,themePreference:co,user:w})},[w==null?void 0:w.get("id"),T==null?void 0:T.get("slug")]),(0,s.useEffect)(()=>(Po(),on(),qn((0,Pt.St)("tracking_session_id")),(0,Pt.St)("team_upgrade_flow")||(0,Pt.D9)("team_upgrade_flow",JSON.stringify({})),()=>{_o(),fn()}),[]),(0,s.useEffect)(()=>{if(Dt)return i.mW.replace(Dt)},[Dt]),(0,s.useEffect)(()=>{const j=i.mW.listen(()=>{Yt(!1)}),Et=(0,zt.X)("lg",Mt=>{Mt&&Yt(!1)});return()=>{Et(),j()}},[]),(0,s.useEffect)(()=>i.mW.listenBefore(Et=>{let{pathname:Mt,search:yt,hash:At}=Et,Bt=Mt||"";if(Bt.length>1&&Bt.endsWith("/")&&(Bt=Bt.slice(0,-1)),Rt.mS.includes(Bt)||Rt.Vi.some(Ct=>Ct(Bt))){ht(!0);const Ct=new URL(Mt,window.location.origin);Ct.search=yt,Ct.hash=At,console.log("direct navigation to a token managing route. triggering full page nav",Ct.toString()),window.location.href===Ct.toString()?window.location.reload():(window.location.href=Ct.toString(),setTimeout(()=>{window.location.reload()},50))}}),[]),(0,s.useEffect)(()=>{Kt(ot),(0,Pt.D9)("routePath",ot)},[Kt,ot]),(0,s.useEffect)(()=>{A&&mn&&D.setPaymentProviderSecureDecisionState(!0)},[A,mn]),(0,s.useEffect)(()=>{const j=(0,Pt.le)("drop-token"),Et=(0,Pt.le)("dropUploadInterrupted"),Mt=(0,Pt.le)("dropDeployId"),yt=(0,Pt.le)("dropSiteName");Et&&Mt?(Zt(yt,Mt),(0,_.Tu)()):A&&j&&yt&&cn((0,_.ag)())},[Zt,A,cn]);const Un=D.router;(0,s.useEffect)(()=>{var j;window!=null&&window.drift&&(0,Fn.z$)(T)&&((j=window==null?void 0:window.drift)==null||j.load(dn.k))},[T,window.drift]),(0,s.useEffect)(()=>{window.drift&&Un.location.search.includes("supportChat=true")&&window.drift.on("ready",j=>{j.startInteraction({interactionId:dn.x})})},[Un,window.drift]);const fo=()=>{const j=ot===Rt.Z6.TEAM_OVERVIEW,Et=ot===Rt.Z6.DROP_BASE||ot.startsWith(Rt.Z6.DROP_DETAIL),Mt=gt&&j,yt="before:tw-bg-gray-lighter dark:before:tw-bg-gray-darkest before:tw-h-[660px] md:before:tw-h-[560px] lg:before:tw-h-[460px]",At=ot===Rt.Z6.USER_LABS,Bt=f()("dark:hover:tw-text-white focus:tw-text-teal-darkest hover:tw-bg-teal-lightest hover:tw-text-teal-darkest tw-flex tw-flex-nowrap tw-items-center tw-justify-center tw-w-full lg:tw-w-auto lg:tw-px-[12px]",At?"dark:tw-text-white":"dark:tw-text-gray-light",At?"dark:tw-bg-gray-dark":"dark:tw-bg-transparent",At?"tw-bg-gray-lighter":"tw-bg-transparent",At?"tw-text-black":"tw-text-gray-darker",At?"tw-font-bold":"!tw-font-medium"),Ct="tw-mt-[calc(calc(50vh)-40px)] tw-ml-[-12px] tw-relative",Sn=w?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{className:"tw-flex tw-flex-1 tw-justify-center",children:(0,e.jsxs)(Zn.Z,{level:"tertiary",to:Rt.Z6.USER_LABS,onClick:()=>{h.iND.appPrimaryNavLabsClicked({currentPage:ot,accountId:(T==null?void 0:T.get("id"))||"",accountType:(T==null?void 0:T.get("type_name"))||""})},className:Bt,children:[(0,e.jsx)(vn.f,{className:"tw-shrink-0 tw-mr-[12px]"+(At?" tw-hidden":""),focusable:"false",name:"nav-labs"}),(0,e.jsx)(vn.f,{className:"tw-shrink-0 tw-mr-[12px]"+(At?"":" tw-hidden"),focusable:"false",name:"nav-labs-active"}),(0,e.jsx)("span",{className:"layout-toggleable-bold-text","data-text-content":"Labs",children:"Labs"})]})}),(0,e.jsx)("div",{className:"tw-flex tw-flex-1 tw-justify-center",children:(0,e.jsx)(wn.Z,{items:D.notifications,lastReadAt:D.lastNotificationReadAt,onRead:D.onReadNotifications,onClick:D.onClickNotification,align:"right"})}),(0,e.jsx)("div",{className:"tw-flex tw-flex-1 tw-justify-center",children:(0,e.jsx)($.Z,{account:T,align:"right",level:Ln,onClickUpgrade:()=>On(!0),supportPriority:lo,userEmail:io})}),Dn&&(0,e.jsx)(q.Z,{supportLevel:Ln,show:Dn,onHide:()=>On(!1),user:w,account:T,accounts:z})]}):(0,e.jsx)(d.V,{});return A&&Jt!==!0&&go&&setTimeout(()=>Promise.resolve(so(!0))),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(ct,{}),(0,e.jsx)(kt.Z,{account:T,user:w}),(0,e.jsx)(wt.Z,{}),(0,e.jsx)(Y.Z,{account:T,user:w}),(0,e.jsx)(pt.Z,{channel:"UserChannel",listener:jn.Qm}),Eo?(0,e.jsx)(H.Z,{account:T,user:w}):null,(0,e.jsxs)("div",{"data-no-secondary-nav":Q||ut?"true":void 0,className:"app tw-relative tw-h-full tw-w-full"+(Et?" page-drop__wrapper":""),children:[(0,e.jsx)(F.Z,{}),!Q&&(0,e.jsx)(C.Z,{user:w,isDrop:Et,isMobileNavOpen:ut?!1:ft,notifications:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(Z.Z,{account:T,accounts:z}),(0,e.jsx)(k.Z,{account:T})]}),mobileMenu:!w||ut?null:(0,e.jsx)(U.S,{ref:An,isSecondaryNavOpen:ft,onClick:()=>Yt(mo=>!mo),onKeyDown:In}),appSwitcher:(0,e.jsx)(En.Z,{organization:D.organization,organizations:D.organizations,account:T,accounts:D.accounts,site:xt,sites:en,isDrop:Et,user:w}),actions:Sn,logo:(0,e.jsx)(En.g,{isDrop:Et,isPublic:xt==null?void 0:xt.get("public"),account:T}),commandPalette:w&&(0,e.jsx)(K.Z,{onClick:()=>{h.iND.appPrimaryNavCommandPaletteClicked({currentPage:ot,variant:"fauxinputty"}),tn.Z.open()}}),userDropdown:(0,e.jsx)(N.Z,{user:w,onLogout:D.onLogout,className:"tw-h-[36px] tw-w-[36px]"})}),(0,e.jsxs)("div",{className:"tw-relative tw-flex tw-min-h-full",children:[!Q&&!ut&&(0,e.jsx)("div",{className:f()('tw-min-w-0 [[data-page="not-found"]_&]:tw-hidden',ft?"tw-w-full":"lg:tw--mt-[var(--headerHeight)]",!St&&"lg:tw-w-[360px]"),children:(0,e.jsxs)("div",{className:"tw-sticky tw-inset-x-0 tw-top-0 lg:tw-min-h-screen "+(ft?"tw-min-h-full":"tw-hidden tw-pt-[var(--headerHeight)] lg:tw-flex"),children:[(0,e.jsx)("div",{className:f()("secondary-nav-container tw-sticky tw-top-0 tw-bottom-0 tw-border-gray-light dark:tw-border-gray-dark lg:tw-border-r lg:tw-border-r-solid",ft?"tw-h-full":"lg:tw-h-[calc(100vh-var(--headerHeight))] lg:tw-overflow-y-auto",ft?"tw-w-full":St?" tw-w-[58px]":"tw-w-[360px]"),children:(0,e.jsxs)("div",{className:"tw-columns tw-flex tw-h-full tw-w-full tw-flex-col tw-break-words tw-p-1"+(ft?"":" tw-overflow-x-hidden"),children:[(0,e.jsx)(U.a,{collapsedView:St,ref:Cn,className:"tw-pb-1",actions:Sn,navigation:D.navigation,router:D.router,backTo:D.backTo,routePath:ot,account:T,onKeyDown:ft?In:void 0}),(0,e.jsx)("div",{className:"transition-appearance tw-sticky tw-bottom-3 tw-left-0 tw-mt-auto tw-hidden tw-whitespace-nowrap tw-bg-bgApp tw-px-2 lg:tw-block"+(St?" tw-opacity-0":""),children:!ft&&!St&&(0,e.jsx)(st.Y,{account:T})})]})}),!ft&&(0,e.jsx)("div",{className:Ct,children:(0,e.jsx)(Hn.Z,{onToggle:hn,isCollapsed:St})})]})}),(0,e.jsx)("div",{className:"tw-w-full"+(ft?" tw-hidden":""),children:(0,e.jsxs)("div",{className:"tw-relative tw-mx-auto tw-grid tw-min-h-full tw-grid-cols-1",children:[(0,e.jsxs)("main",{id:"main",className:f()("app-main",Mt&&yt),tabIndex:-1,children:[(0,e.jsx)($n.Z,{}),(0,e.jsx)(x.Z,{account:T}),Qt?(0,e.jsx)(Kn.Z,{error:Qt}):nt]}),!Q&&(0,e.jsx)(R.Z,{})]})})]})]}),(0,e.jsx)(X,{router:D.router,account:T}),T&&z&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(I.Z,{show:ao,currentAccount:T,hideTaskModal:()=>Mn(!1)}),(0,e.jsx)(W.Z,{show:ro,account:T,accounts:z,onHide:()=>pn(!1)})]})]})};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(zn.Z,{show:(Xt||Ft)&&!A}),!Ft&&!Dt&&(0,e.jsx)(vt.Z,{isAuthViewReady:A,children:fo()})]})},no=(D,A)=>{let{params:T,routes:z,location:J,children:nt}=A;var Q,ut,it,_t,Lt,Ut,Wt,Tt;const{name:Nt,account_slug:Dt,organization_slug:w}=T,Ot=(0,g.lH)(D,Nt),dt=(0,P.HF)(D),ot=(0,a.L3)(D),Kt=Dt||Ot&&Ot.get("account_slug"),gt=Kt&&(0,a.bk)(D,Kt)||(0,a.uW)(D),Jt=(0,L.Jh)(D,Kt);!T.account_slug&&(gt!=null&&gt.get("slug"))&&!T.name&&(T.account_slug=gt.get("slug"));const Zt=w?null:(0,y.Hh)(D),xt=gt==null?void 0:gt.get("organization_id"),en=w?(0,y.mT)(D,w):Zt==null?void 0:Zt.find(Gt=>Gt.get("id")===xt),$t=(0,qt.Ti)({pathname:J.pathname,params:T,account:gt,site:Ot}),Xt=z.map(Gt=>Gt.path).filter(Boolean).pop();let Ft=(ut=(Q=[...z])==null?void 0:Q.pop())==null?void 0:ut.excludeAppNav,ht=(_t=(it=[...z])==null?void 0:it.pop())==null?void 0:_t.excludeSecondaryNav;if(!((Lt=nt==null?void 0:nt.props)!=null&&Lt.route))throw new Error("Children of <App> must be a route");(0,gn.VF)(gt)&&(ht=!0),(0,gn.kL)(gt)&&(ht=!0),(Tt=(Wt=(Ut=nt==null?void 0:nt.props)==null?void 0:Ut.route)==null?void 0:Wt.component)!=null&&Tt.excludeAppNav&&!(dt!=null&&dt.get("id"))&&(Ft=!0);const sn=!!dt&&!!gt,jt=J.pathname==="/"&&gt&&(0,tt.l_)(gt),Qt=jt&&J.search?`${jt}${J.search}`:jt,an=(0,L.jS)(D),rn=(0,n.xm)(D);return{isAuthViewReady:sn,user:dt,site:Ot,sitesNavList:Jt,params:T,account:gt,accounts:ot,api:(0,c.ac)(D),organization:en,organizations:Zt,navigation:$t,redirect:Qt,backTo:kn({routes:z,location:J,params:T,navigation:$t}),userId:dt&&dt.get("id")||null,notifications:(0,E._6)(D),lastNotificationReadAt:(0,E.P$)(D),excludeAppNav:Ft,excludeSecondaryNav:ht,routePath:Xt,showGuidedOnboarding:an,currentProviderSecureDecision:rn}},oo=D=>({setA11yMessage:function(){return D((0,L.FY)(...arguments))},onLoad:A=>{let{siteName:T}=A;return D((0,P.$D)()).then(z=>(T&&D((0,g.EQ)(T)),z&&(D((0,y.Wu)()),D((0,a.vP)()),D((0,E.oA)()),on()),z)).catch(z=>z.code===401?D((0,P.Ov)(window.location.pathname)):Promise.reject(z))},loadNotifications:A=>{let{user:T}=A;return T&&D((0,E.oA)())},loadSitesNavList:(A,T)=>D((0,L.Gh)(A,T)),onReadNotifications:A=>D((0,E.A7)(A)),onClickNotification:A=>D((0,E.y9)(A)),onLogout:A=>{D((0,P.TX)(A)),fn(),on()},onDragEnter:A=>{D((0,_.f$)())},onDragLeave:A=>{(A.clientX<=0||A.clientY<=0||A.clientX>window.innerWidth||A.clientY>window.innerHeight)&&D((0,_.Xs)())},onDragOver:A=>{A.preventDefault()},onDrop:A=>{A.preventDefault(),D((0,_.Xs)())},trackUpgrade:(A,T)=>{D((0,v.L9)({event:A,...T}))},onCancelDeploy:(A,T)=>{D((0,S.li)((0,m.Map)({name:A}),(0,m.Map)({id:T})))},onChangeRoutePath:A=>{D((0,L.Qf)(A))},setPaymentProviderSecureDecisionState:A=>D((0,n.ot)(A))}),eo=(0,p.oS)({sdkKey:"dvc_client_7b35e45b_dd67_444b_b114_46804faa770d_ab0f202",options:{apiProxyURL:"https://featureflags.netlify.com",deferInitialization:!0}})((0,o.qC)((0,u.$j)(no,oo))(to))},9251:(G,B,t)=>{t.d(B,{Z:()=>K});var e=t(24246),O=t(90046),p=t(27378),l=t(80715),f=t(941),M=t(84673),m=t(44601),s=t(81722),u=t(97736),i=t(16608),o=t(32587),r=t(55492);const a=d=>{const U=[/Failed during stage/i,/Failing build/i,/Build exited unexpectedly/i,/Build exceeded (maximum allowed runtime|memory limits)/i,/The function "[^"]+" is larger than the \d+\w{2} limit/i];for(const F of U)if(F.test(d))return"fail"};function c(d){return{log:"Deploy skipped",ts:d.get("created_at")}}function P(d){return{log:"[WARNING] We are experiencing internal issues storing deploy logs. Some log lines may be missing.",ts:d.get("created_at")}}function n(d){return{log:"Deploy request is pending review",ts:d.get("created_at")}}function S(d){return{log:"Deploy request was rejected",ts:d.get("updated_at")}}function _(){return{log:"[ERROR] Deploy logs are currently unavailable. We are working on resolving the issue.",ts:new Date}}function E(d){return{log:d.get("state")==="new"?"Queueing build":"There is no log for this deploy",ts:new Date().toString()}}function y(d){return d&&!!d.get("skipped")}function g(d){return d&&!!d.get("skipped_log")}function v(d){return d&&d.get("state")==="pending_review"}function L(d){return d&&d.get("state")==="ready"}function h(d){return d&&d.get("state")==="rejected"}function W(d){return d&&d.get("state")==="error"}function I(d){const U=(0,u.f3)(d),F=d.log||d.msg||"",N=/(Failed during stage 'building site': Build script returned non-zero|Command failed with) exit code:? ([\d]+)/i;if(F.match(N)){const[,,x]=F.match(N);return`${U} (https://ntl.fyi/exit-code-${x})`}return U}function R(d){const{deploy:U,children:F,overview:N,onLoadDeployPluginRuns:x}=d,[Z,k]=(0,p.useState)((0,s.fl)(U==null?void 0:U.get("state"))),[$,q]=(0,p.useState)(null),st=(0,p.useRef)(!1),V=(0,p.useRef)(null),b=(0,p.useRef)(null),et=(0,p.useRef)(null),ct=(0,p.useRef)(null),lt=U==null?void 0:U.get("id"),tt=U?v(U):!1,at=U?W(U):!1,rt=(0,r.I0)();(0,p.useEffect)(()=>{L(U)&&k(!0)},[U]),(0,p.useEffect)(()=>{if(!(!lt||N))return pt(U),()=>{st.current=!0,Y()}},[lt,tt,N]);const X=H=>{if(!H)return;if(y(H))return vt(c(H));if(h(H))return vt(S(H));if(v(H))return vt(n(H));g(H)&&vt(P(H),!1);const mt={type:"socketeer",siteId:H.get("site_id"),deployId:H.get("id"),resource:o.Z.BUILD};if(V.current=(0,i.u)(mt),!V.current)return vt(E(H));V.current.listen(wt,kt),b.current=setInterval(bt,1e3)},Y=()=>{b.current&&clearInterval(b.current),V.current&&V.current.close()},pt=H=>{Y(),X(H)},vt=function(H){let mt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;st.current||(et.current=(et.current||(0,O.List)()).push(H),mt&&bt())},wt=function(){let H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:E(U);const mt=H.log,zt=H.ts||H.time;if(H.section){const It=a(mt);vt({...H,...It&&{status:It}},!1)}else vt(H,!1);if(/onSuccess complete/.test(mt)||/In "onSuccess" event in "@netlify\/plugin-lighthouse"/.test(mt))x==null||x(U==null?void 0:U.get("id"));else if(/Fetching cached dependencies/.test(mt))ct.current=zt;else if(/Starting post processing/.test(mt)){const It=ct.current;It&&zt&&rt((0,M.E)(U,It,zt))}},kt=H=>{vt(_()),Y()},bt=()=>{!st.current&&q(et.current)};return F?(0,p.cloneElement)(F,{...d,log:$}):(0,e.jsx)(m.Z,{...d,log:$,streaming:!Z,formatLogEntry:at?I:u.f3,deployIsDone:Z})}function C(d,U){let{deploy:F,site:N,overview:x}=U;return{deploy:x?(0,M.dk)(d,N):F,fetchLog:function(){return(0,f.ac)(d).deployLog(...arguments)}}}const K=(0,l.$j)(C)(R)},43346:(G,B,t)=>{t.d(B,{Z:()=>m});var e=t(24246),O=t(80715),p=t(34571),l=t(80642);const f=s=>{let{dragging:u,uploading:i,intro:o,image:r,site:a,accountSlug:c,dispatch:P,trackEvent:n,scrollIntoView:S=!0,createdVia:_=""}=s;const E=y=>(n&&n(),(a?()=>Promise.resolve(a):()=>P((0,p.UJ)(c,_)))().then(v=>P((0,p.mV)(v,y))));return(0,e.jsx)(l.Z,{scrollIntoView:S,onUpload:E,dragging:u,uploading:i,image:r,intro:o})};function M(s,u){return{dragging:s.dragging&&s.dragging.get("active"),uploading:!!s.uploadState}}const m=(0,O.$j)(M)(f)},87061:(G,B,t)=>{t.d(B,{Z:()=>M});var e=t(24246),O=t(27378),p=t(17079),l=t(7311);const M=m=>{const{site:s}=m,{setIsLoadingApp:u}=(0,l.bn)();return(0,O.useEffect)(()=>{u(!1)},[u]),(0,e.jsx)(p.Z,{...m,usesEdgeFunctions:s.get("use_edge_functions")})}},35074:(G,B,t)=>{t.d(B,{Z:()=>u});var e=t(24246),O=t(27378),p=t(80715),l=t(57240),f=t(43543);const M=i=>((0,O.useEffect)(()=>{i.onLoad(i)},[]),(0,e.jsx)(f.Z,{...i})),m=(i,o)=>{let{site:r}=o;return{services:(0,l.M2)(i,r)}},s=i=>({onLoad:o=>{let{site:r}=o;return i((0,l.k4)(r))}}),u=(0,p.$j)(m,s)(M)},84467:(G,B,t)=>{t.d(B,{Z:()=>I});var e=t(24246),O=t(90046),p=t.n(O),l=t(19783),f=t.n(l),M=t(27378),m=t(62021),s=t(96666),u=t(7442),i=t(10295),o=t(3926),r=t(32365),a=t(97736),c=t(16608),P=t(32587),n=t(55492),S=t(34567);function _(R){const C=R==null?void 0:R.get("level");return C!=="WARN"&&C!=="ERROR"?"":"tw-border tw-border-r-0 tw-border-l-0 tw-border-solid "+(C==="WARN"?"tw-border-gold-darker tw-bg-gold-darkest":"tw-border-red-darker tw-bg-red-darkest")}const E=200,y="md:tw-mt-0 tw-ml-0 tw-mt-0 tw-mb-2 tw-w-full xl:tw-mb-0 xl:tw-basis-1 xl:tw-grow xl:tw-mr-0",g=()=>i.Z.getInitialDateRange(),v=R=>{const[C,K]=(0,M.useState)((0,O.List)()),d=(0,M.useRef)((0,O.List)()),U=(0,M.useRef)(null),{dateTimeRange:F,streaming:N}=R,x=(0,M.useCallback)(f()(()=>{K(d.current)},E,{leading:!0}),[]);return(0,M.useEffect)(()=>{var Z;const k=()=>{var q,st;if(U.current)return;const{site:V,func:b,user:et,log_type:ct}=R,lt=V.get("id"),tt=b.get("n"),at=(0,o.XF)(b).replace(/\./g,"-"),rt=`/functions/${lt}/${at}/${tt}/log`;U.current=(0,c.u)({type:ct||"socketeer",resource:P.Z.FUNCTION,functionId:b.get("oid")||b.get("id"),siteId:lt,apiToken:et.get("access_token"),awsAccountId:b.get("a"),path:rt,fromDatetime:(q=F.from)==null?void 0:q.toISOString(),toDatetime:(st=F.to)==null?void 0:st.toISOString()}),U.current.listen(X=>{X&&(d.current=(0,O.fromJS)([...d.current,X]),x())},X=>{d.current=(0,O.fromJS)([...d.current,{ts:new Date,log:"[ERROR] Function logs are currently unavailable. We are working on resolving the issue."}]),x()})},$=()=>{U.current&&(U.current.close(),U.current=null)};if((Z=d.current)!=null&&Z.size&&(d.current=(0,O.List)(),K(d.current)),!N){$();return}return k(),()=>{$()}},[N,F.to,F.from]),{logs:C,streaming:R.streaming,source:"stream"}},L=R=>{let{site:C,scope:K,filtersValue:d,func:U,dateTimeRange:F,streaming:N,...x}=R;var Z,k;const $=C==null?void 0:C.get("id"),q=U==null?void 0:U.get("n"),st=(0,n.I0)(),V=(Z=F.from)==null?void 0:Z.getTime(),b=(k=F.to)==null?void 0:k.getTime(),et=(0,n.v9)(Y=>{const pt=(0,s.x0)(Y,C,K);return pt==null?void 0:pt.get("branch")}),ct=(0,n.v9)(Y=>(0,m.ZF)(Y,$,q,{branch:et,q:d.term,from:V,to:b})||null),lt=(0,n.v9)(Y=>(0,m.rm)(Y,$,q,{branch:et,q:d.term,from:V,to:b})||(0,O.List)()),tt=(0,n.v9)(Y=>(0,m.lf)(Y,$,q,{branch:et,q:d.term,from:V,to:b})),at=(0,M.useRef)(new Set),rt=!!(lt!=null&&lt.size)&&!ct,X=async()=>{const Y=`${ct||"initial"}-${d.term}-${V}-${b}-${et}`;at.current.has(Y)||(at.current.add(Y),await st((0,m.X4)($,q,{from:new Date(V).getTime(),to:new Date(b).getTime(),q:d.term,next_cursor:ct,branch:et})))};return(0,M.useEffect)(()=>{N||X()},[N,d.term,V,b]),{logs:lt,lastPage:rt,fetchMoreLogs:X,streaming:!1,fetching:tt,source:"page"}},h=R=>{const C=v(R),K=L(R);return!R.streaming?K:C},I=R=>{const[C,K]=(0,M.useState)({term:""}),[d,U]=(0,M.useState)(g()),[F,N]=(0,M.useState)(!0),x=R.account.get("id")||"",{fetching:Z,streaming:k,logs:$,lastPage:q,fetchMoreLogs:st,source:V}=h({...R,streaming:F,dateTimeRange:d,filtersValue:C}),b=(0,M.useMemo)(()=>a.E1,[]),et=(0,M.useMemo)(()=>a.Zh,[]);(0,M.useEffect)(()=>{K(X=>({...X,dateTimeRange:d}))},[d]);const ct=X=>{K(Y=>({...Y,term:X}))},lt=(X,Y)=>{const vt=(X==null?void 0:X.get("type"))==="report"&&(X==null?void 0:X.get("level"))==="INFO"?X.set("level",""):X;return["log","requestId","level"].map(wt=>vt==null?void 0:vt.get(wt)).filter(Boolean).join(" ").toLowerCase().includes(Y.term.toLowerCase())},tt=X=>{let{range:Y,id:pt}=X;N(pt==="Real-time"),U(Y)},at=V==="stream"||V==="page"&&Z?"Waiting for logs":"No results found for query",rt="lambda";return(0,e.jsx)(r.Z,{datepicker:(0,e.jsx)(i.Z,{account:R.account,isUnsupportedBackgroundFunction:(0,o.Oj)(R.func),onChange:tt,functionsType:rt}),log:$.isEmpty()?null:$,fetching:Z,streaming:k,fixedHeight:!0,noWrap:!0,emptyLogMessage:at,title:"Function log",formatLogEntry:b,getLogLineClasses:_,scrollPause:!0,filters:C,lastPage:q,filterFn:V==="stream"?lt:null,loadMoreLogs:st,search:(0,e.jsx)("div",{className:y,children:(0,e.jsx)(S.Z,{placeholder:"Filter by request ID, message, log level",value:C.term,onSearch:ct,onFocus:()=>u.iND.appFunctionLogsTextFilterFocused({accountId:x,functionsType:rt})})}),source:V,formatForClipboard:et,onCopyToClipboard:()=>u.iND.appFunctionLogsCopyClicked({accountId:x,functionsType:rt}),onPlayPause:()=>u.iND.appFunctionLogsPauseClicked({accountId:x,functionsType:rt}),onScrollToBottom:()=>u.iND.appFunctionLogsScrollBottomClicked({accountId:x,functionsType:rt}),onScrollToTop:()=>u.iND.appFunctionLogsScrollTopClicked({accountId:x,functionsType:rt})})}},60173:(G,B,t)=>{t.d(B,{Z:()=>_});var e=t(24246),O=t(27378),p=t(80715),l=t(34740),f=t(91800),M=t(65628),m=t(71791),s=t(43256),u=t(34571),i=t(50683),o=t(45180),r=t(88317);const a={[r.Lz.github_enterprise]:!0,[r.Lz.gitlab_self_hosted]:!0,[r.Lz.bitbucket_self_hosted]:!0},c=E=>{let{repo:y,onPrepareRepo:g,onMissingData:v,onError:L,loadMoreBranches:h,site:W,account:I,accounts:R,onSubmit:C,onApplyHeuristics:K,provider:d,outset:U,nameKey:F,template:N,trackChangeClick:x,form:Z=i.Z,availablePlugins:k,availablePluginsError:$,availablePluginsFetching:q,onLoadPlugins:st,skipPrepare:V=!1,gitUser:b,user:et,route:ct}=E;const lt=(0,o.V)(),tt=Z,at=y==null?void 0:y.getIn(["branchPagination","next"]),rt=y==null?void 0:y.get("error"),X=y==null?void 0:y.get("id");return(0,O.useEffect)(()=>{!q&&!$&&!(k!=null&&k.size)&&st()},[k,$,q]),(0,O.useEffect)(()=>{if(!y){v("repo");return}V||g(y,lt)},[X]),(0,O.useEffect)(()=>{rt&&(L(rt),v("repo"))},[rt]),(0,O.useEffect)(()=>{d!==r.Lz.bitbucket&&at&&h(y,at)},[d,at]),y?(0,e.jsx)(tt,{site:W,account:I,accounts:R,repo:y,onSubmit:C,outset:U,onApplyHeuristics:K,accountSpecificGitProvider:a[d],provider:d,nameKey:F,template:N,trackChangeClick:x,availablePlugins:k,availablePluginsError:$,gitUser:b,user:et,route:ct}):null};function P(E,y){const{organization:g,name:v}=y.params,{repoFromURL:L}=y,h=y.params.repo||y.repo,W=g||"",I=W?`${W}/${h}`:h,R=(0,u.lH)(E,v),C=!R&&(0,f.L3)(E),K=C&&(0,f.uW)(E),d=decodeURIComponent(I),U=(0,m.f6)(E),F=(0,m.iQ)(E),N=(0,m.WF)(E);return{repo:(L==null?void 0:L.mergeDeep((0,s.Wo)(E,d)))||(0,s.Wo)(E,d),provider:(0,M.oI)(E),gitUser:(0,M.z8)(E),site:R,accounts:C,account:K,availablePlugins:U,availablePluginsError:F,availablePluginsFetching:N,user:E.user}}function n(E,y){const{site:g,provider:v,onError:L,onSubmit:h}=y;return{onLoadPlugins:()=>E((0,m.bl)()),onPrepareRepo:(W,I)=>{var R;return(R=E((0,s.oV)(W)))==null?void 0:R.then(()=>{E((0,s.vb)(W,I))})},loadMoreBranches:(W,I)=>E((0,s.Qg)(W,I)),onApplyHeuristics:(W,I,R)=>{W&&E((0,s.I0)(W,I,{...R,provider:v}))},onSubmit:(W,I)=>h?h(W,I):E((0,u.Er)(g,I,W.toJS(),"onboarding")).then(R=>{let{site:C,deploy:K}=R;return l.mW.push(`/sites/${C.name}/deploys/${K==null?void 0:K.id}`)}).catch(R=>L(R))}}const _=(0,p.$j)(P,n)(c)},51115:(G,B,t)=>{t.d(B,{Z:()=>o});var e=t(24246),O=t(80715),p=t(91800),l=t(65628),f=t(7442),M=t(48503),m=t(88317);const s=r=>{const{entryPoint:a,user:c,account:P}=r,n={userId:(c==null?void 0:c.get("id"))||"",entryPoint:a||"from direct visit",accountId:(P==null?void 0:P.get("id"))||""},S=_=>{switch(_){case m.Lz.github:f.iND.appSignupSetupProviderGithubSelected(n);break;case m.Lz.gitlab:f.iND.appSignupSetupProviderGitlabSelected(n);break;case m.Lz.github_enterprise:f.iND.appSignupSetupProviderGithubEnterpriseSelected(n);break;case"gitlab_enterprise":f.iND.appSignupSetupProviderGitlabEnterpriseSelected(n);break;case m.Lz.bitbucket:f.iND.appSignupSetupProviderBitbucketSelected(n);break;case m.Lz.azure_devops:f.iND.appSignupSetupProviderAzureDevopsSelected(n);break;default:break}};return(0,e.jsx)(M.Z,{...r,trackSelectProvider:S})};function u(r){return{account:r.account||(0,p.uW)(r),user:r.user}}function i(r){return{onAuthenticate:a=>r((0,l.YR)(a))}}const o=(0,O.$j)(u,i)(s)},82197:(G,B,t)=>{t.d(B,{Z:()=>c});var e=t(24246),O=t(27378),p=t(80715),l=t(34740),f=t(91800),M=t(65628),m=t(72253),s=t(43256),u=t(4920),i=t(88317);function o(P){const{provider:n,organization:S,page:_,per_page:E,installationId:y,onError:g,onMissingData:v,loadRepos:L,loadGitUser:h,loadGitOrganizations:W,path:I,setSearchTerm:R,onboarding:C=!1,hideGitUser:K}=P;(0,O.useEffect)(()=>{n?d():v("provider")},[]),(0,O.useEffect)(()=>{n&&(K&&!S||L({organization:S,page:_,per_page:E,installationId:y}).catch(x=>{g(x,{restart:x.code===401})}))},[n,_,S,L]);const d=()=>{Promise.resolve(h()).then(()=>{K||L({organization:S,page:_,per_page:E,installationId:y}),W()})},U=x=>{let{login:Z}=x;W(),Z&&Z!==S?l.mW.push(`${I}/${Z}/repos`):L({organization:S,page:_,per_page:E,installationId:y})},F=()=>L({organization:S,page:_,per_page:E,installationId:y,page:1}).catch(x=>{g(x,{restart:x.code===401})}),N=x=>R(x);return n?(0,e.jsx)(u.Z,{...P,onSearch:F,onTerm:N,onAppInstall:U,onboarding:C}):null}function r(P,n){var S,_,E;const{organization:y}=n.params,g=P.account||(0,f.uW)(P),v=(0,M.z8)(P),L=(0,m.wc)(P,y),h=(0,m.YX)(P),W=(0,M.oI)(P),I=i._w.get(W),R=I==null?void 0:I.get("hideGitUserFromRepoList"),C=y||R&&((S=h==null?void 0:h.first())==null?void 0:S.get("api_id")),K=L||v&&v.get("login")===y&&v,d=K&&K.get("installation_id");return{account:g,page:((E=(_=n==null?void 0:n.location)==null?void 0:_.query)==null?void 0:E.page)||1,provider:(0,M.oI)(P),installationId:d,gitUser:v,organization:C,organizations:h,hideGitUser:R,searchTerm:(0,M.Lb)(P),repos:(0,s.yW)(P,C),pagination:(0,s.B$)(P,C)}}function a(P){return{loadRepos:n=>P((0,s.vD)(n)),loadGitUser:()=>P((0,M.Kd)()),loadGitOrganizations:()=>P((0,m.hi)()),setSearchTerm:n=>P((0,M.Cl)(n))}}const c=(0,p.$j)(r,a)(o)},38098:(G,B,t)=>{t.d(B,{Z:()=>y});var e=t(24246),O=t(90046),p=t.n(O),l=t(27378),f=t(80715),M=t(34740),m=t(91800),s=t(65628),u=t(71791),i=t(43256),o=t(34571),r=t(50683),a=t(45180),c=t(88317);const P={[c.Lz.github_enterprise]:!0,[c.Lz.gitlab_self_hosted]:!0},n=g=>{let{entryPoint:v,repo:L,onPrepareRepo:h,onMissingData:W,onError:I,loadMoreBranches:R,site:C,account:K,accounts:d,onSubmit:U,onApplyHeuristics:F,provider:N,outset:x,availablePlugins:Z,availablePluginsError:k,availablePluginsFetching:$,onLoadPlugins:q,user:st,gitUser:V,route:b,isOnStartPage:et,setFormData:ct}=g;const lt=(0,a.V)(),tt=L==null?void 0:L.getIn(["branchPagination","next"]),at=L==null?void 0:L.get("error");return(0,l.useEffect)(()=>{!$&&!k&&!(Z!=null&&Z.size)&&q()},[Z,k,$]),(0,l.useEffect)(()=>{L?h(L,lt):W("repo")},[]),(0,l.useEffect)(()=>{at&&(I(at),W("repo"))},[at]),(0,l.useEffect)(()=>{N!==c.Lz.bitbucket&&tt&&R(L,tt)},[N,tt]),L?(0,e.jsx)(r.Z,{entryPoint:v,user:st,gitUser:V,site:C,account:K,accounts:d,repo:L,onSubmit:U,outset:x,onApplyHeuristics:F,accountSpecificGitProvider:P[N],availablePlugins:Z,availablePluginsError:k,route:b,isOnStartPage:et,setFormData:ct}):null};function S(g,v){const{repo:L,name:h}=v.params,W=(0,o.lH)(g,h),I=W&&(0,m.L3)(g).find(Z=>(Z==null?void 0:Z.get("slug"))===W.get("account_slug")),R=I?(0,O.List)([I]):(0,m.L3)(g),C=R&&(0,m.uW)(g),K=I||C,d=decodeURIComponent(L),U=(0,u.f6)(g),F=(0,u.iQ)(g),N=(0,u.WF)(g),x=(0,s.z8)(g);return{repo:(0,i.Wo)(g,d),provider:(0,s.oI)(g),site:W,accounts:R,account:K,availablePlugins:U,availablePluginsError:F,availablePluginsFetching:N,gitUser:x}}function _(g,v){const{site:L,provider:h,onError:W}=v;return{onLoadPlugins:()=>g((0,u.bl)()),onPrepareRepo:(I,R)=>{var C;return(C=g((0,i.oV)(I)))==null?void 0:C.then(()=>{g((0,i.vb)(I,R))})},loadMoreBranches:(I,R)=>g((0,i.Qg)(I,R)),onApplyHeuristics:(I,R,C)=>{I&&g((0,i.I0)(I,R,{...C,provider:h}))},onSubmit:(I,R)=>g((0,o.Er)(L,R,I.toJS(),"")).then(C=>{let{site:K}=C;return M.mW.push(`/sites/${K.name}`)}).catch(C=>W(C,{restart:C.code===401}))}}const y=(0,f.$j)(S,_)(n)},9128:(G,B,t)=>{t.d(B,{Z:()=>u});var e=t(24246),O=t(27378),p=t(80715),l=t(44195),f=t(22260);const M=i=>((0,O.useEffect)(()=>{i.onLoad()},[]),(0,e.jsx)(f.Z,{...i}));function m(i,o){let{site:r}=o;return{identity:(0,l.jZ)(i,r)}}function s(i,o){let{site:r}=o;return{onLoad:()=>i((0,l.r6)(r)),onCreate:()=>i((0,l.XD)(r)),onUpdate:a=>i((0,l.EI)(r,a)),onDelete:()=>i((0,l.dU)(r))}}const u=(0,p.$j)(m,s)(M)},8329:(G,B,t)=>{t.d(B,{Z:()=>u});var e=t(24246),O=t(90046),p=t.n(O),l=t(80715),f=t(60653);const M=i=>{let{component:o,children:r,...a}=i;const c=o||r;return c?(0,e.jsx)(c,{...a}):null};function m(i){const o=i.user;return{user:o,progress:o&&o.get("onboarding_progress")||(0,O.Map)()}}function s(i){return{onProgress:(o,r)=>i((0,f.fq)(o,r))}}const u=(0,l.$j)(m,s)(M)},59505:(G,B,t)=>{t.d(B,{Z:()=>o});var e=t(24246),O=t(27378),p=t(80715),l=t(99695),f=t(941),M=t(76872),m=t(13287);const s=r=>{const{onLoad:a,account:c}=r,P=c.get("id");return(0,O.useEffect)(()=>{a(r)},[P]),(0,e.jsx)(M.Z,{...r})};function u(r,a){let{account:c}=a;const P=(0,f.ac)(r);return{receipts:(0,l.L6)(r,c),api:{receiptPdf:n=>P.accountReceiptPdf(c.get("slug"),n)}}}function i(r,a){let{account:c}=a;return{onLoad:()=>(0,m.gK)(c)&&r((0,l.V8)(c))}}const o=(0,p.$j)(u,i)(s)},22845:(G,B,t)=>{t.d(B,{Z:()=>i});var e=t(24246),O=t(27378),p=t(80715),l=t(57240),f=t(37895),M=t(7311);const m=o=>{let{component:r,children:a,onLoad:c,...P}=o;const{setIsLoadingApp:n}=(0,M.bn)();(0,O.useEffect)(()=>{c(),n(!1)},[]);const S=r||a||f.Z;return(0,e.jsx)(S,{...P})};function s(o,r){let{site:a}=r;return{services:(0,l.M2)(o,a)}}function u(o,r){let{site:a}=r;return{onLoad:()=>o((0,l.k4)(a)),onCreate:(c,P)=>o((0,l.G6)(a,c,P)),onUpdate:(c,P)=>o((0,l.Pg)(a,c,P)),onDelete:c=>o((0,l.wo)(a,c)),onGenerateToken:(c,P)=>o((0,l.RA)(c,P))}}const i=(0,p.$j)(s,u)(m)},93389:(G,B,t)=>{t.d(B,{Z:()=>o});var e=t(24246),O=t(27378),p=t(80715),l=t(32293),f=t(7121),M=t(7311),m=t(8989);const s=r=>{let{site:a,members:c,onLoad:P,user:n}=r;const{setIsLoadingApp:S}=(0,M.bn)();(0,O.useEffect)(()=>{S(!1)},[S]),(0,O.useEffect)(()=>{P({site:a})},[]);const _=a.get("account_slug"),E=(0,m.Z)(_);return(0,O.useEffect)(()=>{_!==E&&P({site:a})},[_,E]),(0,e.jsx)(f.Z,{site:a,members:c,user:n})},u=(r,a)=>{let{site:c}=a;return{members:(0,l.ad)(r,c)}},i=r=>({onLoad:a=>{let{site:c}=a;return r((0,l.el)(c))}}),o=(0,p.$j)(u,i)(s)},17844:(G,B,t)=>{t.d(B,{Z:()=>i});var e=t(24246),O=t(27378),p=t(80715),l=t(91800),f=t(64614),M=t(52968);const m=o=>{(0,O.useEffect)(()=>{var a;(a=o.onLoad)==null||a.call(o,o)},[]);const r=o.component||o.children;return(0,e.jsx)(r,{...o})};function s(o,r){let{account:a}=r;return{paymentMethod:(0,M.DY)(o,a),paymentProvider:(0,f.nY)(a),plans:(0,l.qL)(o)}}function u(o,r){let{account:a}=r;return{onLoad:c=>{let{account:P}=c;o((0,l.vP)()),o((0,l.Ko)()),o((0,M.nS)(P))},onUpdate:(c,P)=>o((0,l.sG)(c,P)),onPaymentProviderTokenUsed:c=>o((0,f.Uc)(a,c)),onSavePaymentMethod:c=>o((0,M.BX)(c,a))}}const i=(0,p.$j)(s,u)(m)},33950:(G,B,t)=>{t.d(B,{Z:()=>S});var e=t(2926),O=t.n(e),p=t(90046),l=t.n(p),f=t(54969),M=t.n(f),m=t(27378),s=t(80715),u=t(941),i=t(84673),o=t(36881);const r=8,a=_=>({publish:i.LT,delete:i.vQ,lock:i.Bn,unlock:i.FN,retry:i.kR,cancel:i.li})[_];function c(_,E,y){const g=E.path.replace(/^\//,"").split("/");let v=null;for(;g.length;)v=g.shift(),g.length?_=_.folder(v):_.file(v,y)}function P(_){const[E,y]=(0,m.useState)(null),g=C=>{y((0,p.Map)(C))},v=async C=>{const{user:K,config:d}=_,U=C.get("id"),F=(0,u.ac)({user:K,config:d});if(!F)return;g({state:"downloading"});const x=(await t.e(1578).then(t.t.bind(t,82858,23))).default,Z=new x,k=M()(r);F.deployFiles(U).then($=>$.data.map(q=>k(()=>F.deployFile(U,q.path)).then(st=>c(Z,q,st)))).then($=>Promise.all($)).then(()=>Z.generateAsync({type:"blob"})).then($=>{g({state:"ready",zip:$})}).catch($=>{g({state:"error",error:$})})},L=(C,K)=>{const d=`deploy-${C.get("id")}.zip`,U=K.get("zip");return(0,e.saveAs)(U,d)},h=(C,K)=>{K&&K.get("zip")?L(C,K):v(C)},W=(C,K,d)=>{const U=a(C);return _.dispatch(U(_.site,K,d))},{component:I,...R}=_;return(0,m.createElement)(I||o.Z,{...R,download:E,onDeployAction:W,onDownload:h})}function n(_){return{user:_.user,config:_.config,api:(0,u.ac)(_)}}const S=(0,s.$j)(n)(P)},55109:(G,B,t)=>{t.d(B,{Z:()=>u});var e=t(27378),O=t(84673),p=t(34571),l=t(67928),f=t(69615);function M(i){const{poll:o,dispatch:r,site:a,page:c,perPage:P,filter:n,from:S,to:_,status:E}=i,{component:y,children:g,...v}=i,L=(0,e.useRef)(null);return(0,e.useEffect)(()=>{const h=()=>{r((0,O.Kr)(a,m({page:c,perPage:P,filter:n,from:S,to:_,status:E}))),r((0,p.EQ)(a.get("name")))};if(L.current&&clearInterval(L.current),o)return L.current=setInterval(h,(0,f.S)()),()=>{clearInterval(L.current)}},[c,P,n,o,S,_]),y?(0,e.createElement)(y,v,g):(0,e.cloneElement)(g,v)}function m({page:i,perPage:o,filter:r,from:a,to:c,status:P}){return{page:i,perPage:o,filter:r,from:a,to:c,state:P}}function s(i,o){const r=o.site,a=m(o);return{deploys:(0,O.Oh)(i,r,a),pagination:(0,O.ly)(i,r,a),pendingDeploys:(0,O.mh)(i,r)}}const u=(0,l.v)(s,i=>(0,O.Kr)(i.site,m(i)),"page","perPage","filter","from","to","status")(M)},89859:(G,B,t)=>{t.d(B,{Z:()=>i});var e=t(27378),O=t(941),p=t(38504),l=t(77159),f=t(66080),M=t(67928);const m=({children:o,component:r=f.Z,...a})=>{const c=(S,_,E)=>a.dispatch((0,p.zH)(S,_,E)),P=(S,_)=>a.dispatch((0,p.XL)(S,_,{...s(a),page:1})),n=(S,_)=>a.dispatch((0,p.cJ)(S,_,{...s(a),page:1}));return a.onDelete=c,a.onMarkAsSpam=P,a.onMarkAsHam=n,o?(0,e.cloneElement)(o,a):(0,e.createElement)(r,a,o)};function s({page:o=1,perPage:r=l.F,formId:a,filter:c}){return{page:o,perPage:r,formId:a,filter:c}}function u(o,r){const a=r.site,c=s(r);return{...c,form:(0,p.jy)(o,c.formId),forms:(0,p.Jo)(o,a),submissions:(0,p.Rg)(o,a,c),submissionsError:(0,p.kk)(o,a,c),pagination:(0,p.$d)(o,a,c),api:{formSubmissions:(...P)=>(0,O.ac)(o).formSubmissions(...P)}}}const i=(0,M.v)(u,o=>(0,p.A)(o.site,s(o)),"page","perPage","formId","filter")(m)},83302:(G,B,t)=>{t.d(B,{Z:()=>m});var e=t(27378),O=t(44195),p=t(67928);function l({component:s,children:u,...i}){return s?(0,e.createElement)(s,i,u):(0,e.cloneElement)(u,i)}function f(s){return{...s.location.query}}function M(s,{site:u,...i}){const o=f(i),r=(0,O.dk)(s,u,o);return{...o,provisioned:!!u.get("identity_instance_id"),users:r,pagination:(0,O.PO)(s,u,o)}}const m=(0,p.v)(M,({site:s,...u})=>(0,O.FJ)(s,f(u)),"provisioned","page","per_page","sort","filter")(l)},70610:(G,B,t)=>{t.d(B,{Jg:()=>m.Jg,ND:()=>m.ND,ZP:()=>r});var e=t(27378),O=t(80715),p=t(38504),l=t(65628),f=t(86981),M=t(57240),m=t(15010),s=t(15512);const u=({onLoad:a,component:c,...P})=>{var n,S;return(0,e.useEffect)(()=>{a()},[(n=P.account)==null?void 0:n.get("id"),(S=P.account)==null?void 0:S.get("type_slug")]),(0,e.createElement)(c||s.Z,P)};function i(a,{site:c}){return{hooks:(0,f.e_)(a,c),hookTypes:(0,f.o6)(a,c),forms:(0,p.Jo)(a,c),provider:(0,l.oI)(a)}}function o(a,{site:c,filter:P}){return{onLoad:()=>{a((0,f.Eq)(c)),a((0,f.v9)(c)),P===m.Jg&&a((0,p.jn)(c))},onDelete:n=>a((0,f.$_)(c,n)),onCreate:n=>a((0,f.Bi)(c,n)),onUpdate:(n,S)=>a((0,f.ny)(c,n,S)),onTokenRequest:(n,S)=>a((0,M.RA)(n,S))}}const r=(0,O.$j)(i,o)(u)},20558:(G,B,t)=>{t.d(B,{BU:()=>i,PP:()=>P,B6:()=>y});var e=t(24246),O=t(27378),p=t(80715),l=t(64334),f=t(34571),M=t(50355);const m=g=>((0,O.useEffect)(()=>{g.onLoad()},[]),(0,e.jsx)(M.Z,{...g})),s=(g,v)=>{let{site:L}=v;return{branches:(0,f.Un)(g,L),buildHooks:(0,l.Kr)(g,L)}},u=(g,v)=>{let{site:L}=v;return{onLoad:()=>{g((0,l.xF)(L)),g((0,f.WV)(L))},onAdd:h=>g((0,l.HN)(L,h)),onRemove:h=>g((0,l.$T)(L,h))}},i=(0,p.$j)(s,u)(m);var o=t(76318);const r=g=>(0,e.jsx)(o.Z,{...g}),a=(g,v)=>{let{site:L}=v;return{deployKey:(0,f.mY)(g,L)}},c=(g,v)=>{let{state:L,site:h}=v;return{onLoad:()=>{const W=h.get("build_settings").get("deploy_key_id");W&&g((0,f.rC)(W,h))},onAdd:()=>g((0,f.G$)())}},P=(0,p.$j)(a,c)(r);var n=t(47529);const S=g=>((0,O.useEffect)(()=>{g.onLoad(g.site)},[]),g.children?(0,O.cloneElement)(g.children,{...g}):(0,e.jsx)(n.Z,{...g})),_=(g,v)=>({}),E=(g,v)=>{let{site:L}=v;return{onLoad:()=>{L.get("snippets")||g((0,f.Cu)(L))},onAdd:h=>g((0,f.IS)(L,h)),onRemove:h=>g((0,f.UQ)(L,h))}},y=(0,p.$j)(_,E)(S)},40659:(G,B,t)=>{t.d(B,{Z:()=>s});var e=t(91800),O=t(34571),p=t(25108),l=t(67928);const f=15;function M(u){return{page:u.page,perPage:u.perPage||f,searchTerm:u.searchTerm,searchGlobally:u.searchGlobally,sortBy:u.sortBy,accountSlug:u.accountSlug}}function m(u,i){const o=M(i),r=(0,O.u)(u,o);return{sites:r,pagination:(0,O.OK)(u,o),loaded:!!r,user:u.user,account:(0,e.bk)(u,o.accountSlug),accounts:(0,e.L3)(u)}}const s=(0,l.v)(m,u=>(0,O.KZ)(M(u)),"page","perPage","searchTerm","searchGlobally","sortBy","accountSlug")(p.Z)},94709:(G,B,t)=>{t.d(B,{Z:()=>u});var e=t(27378),O=t(80715),p=t(34571),l=t(45988),f=t(37416);const M=({component:i,...o})=>{const{onLoad:r,site:a}=o;return(0,e.useEffect)(()=>{r(a)},[]),(0,e.createElement)(i||f.Z,o)},m=(i,{site:o})=>({branches:(0,p.Un)(i,o),splits:(0,l.Fz)(i,o)}),s=i=>({onLoad:o=>{i((0,l.Dk)(o)),i((0,p.WV)(o))},onCreate:(o,r)=>i((0,l.vj)(o,r)),onUpdate:(o,r,a)=>i((0,l.af)(o,r,a)),onStart:(o,r)=>i((0,l.m6)(o,r)),onStop:(o,r)=>i((0,l.VO)(o,r)),onUpdateSite:(o,r)=>i((0,p.L3)(o,r))}),u=(0,O.$j)(m,s)(M)}}]);})();

"use strict";(()=>{(self.webpackChunk=self.webpackChunk||[]).push([[5647],{63733:(Te,se,l)=>{l.d(se,{D4:()=>R,TR:()=>L,_O:()=>B,f4:()=>x,qj:()=>w,sw:()=>t,yx:()=>e});var d=l(81080),k=l.n(d),S=l(26527);const M=/(\d{1,4})/g,q={amex:/(\d{1,4})(\d{1,6})?(\d{1,5})?/},I={"american-express":"amex"},Z={amex:4};function B(s){const c=k().number(s).card;if(c)return{...c,type:I[c.type]||c.type,cvcLength:[c.code.size]}}function z(s){return s.length>2?s:`${new Date().getFullYear().toString().slice(0,2)}${s}`}function j(s,c){if(s=s.trim(),c=z(c.trim()),!/^\d+$/.test(s)||!/^\d+$/.test(c)||!(parseInt(s,10)<=12))return!1;const b=new Date(c,s),O=new Date;return b.setMonth(b.getMonth()-1),b.setMonth(b.getMonth()+1,1),b>O}function w(s){s=s.replace(/\s/g,"");let[c,b]=s.split("/",2);return c=c&&parseInt(c,10),b=b&&parseInt(z(b),10),{month:c,year:b}}function R(s){return k().number(s).isValid}function L(s){const{month:c,year:b}=w(s);return j(String(c),String(b))}function x(s){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const b=Z[c]||[3,4];return k().cvv(s,b).isValid}function F(s){if(!s)return null;const c=B(s);return c&&c.type}function e(s){const c=B(s);if(!c)return s;const b=c.lengths[c.lengths.length-1];s=s.replace(/\D/g,""),s=s.slice(0,b);const O=q[c.type]||M;if(O.global){const $=s.match(O);return $&&$.join(" ")}const P=O.exec(s);return P&&P.shift(),P&&P.join(" ")}const t=s=>{let{number:c,name:b,expiration:O,cvv:P,country:$,addressLine1:U,city:V,state:D,zipCode:g}=s;return R(c)?(0,S.fp)(b)?{success:!1,reason:"The name is required"}:L(O)?x(P)?(0,S.fp)($)?{success:!1,reason:"The country is required"}:(0,S.fp)(U)?{success:!1,reason:"The address is required"}:(0,S.fp)(V)?{success:!1,reason:"The city is required"}:(0,S.fp)(D)?{success:!1,reason:"The state is required"}:(0,S.fp)(g)?{success:!1,reason:"The postal code is required"}:{success:!0,reason:"OK"}:{success:!1,reason:"The CVV provided is invalid"}:{success:!1,reason:"The expiration date provided is invalid"}:{success:!1,reason:"The card number provided is invalid"}}},72919:(Te,se,l)=>{l.d(se,{Z:()=>h});var d=l(24246),k=l(27378),S=l(75518);const M=n=>{let{title:r,id:o,variant:p,contextOptions:y}=n;const[T,Q]=(0,k.useState)(!1);if(!r||!o)return null;const ee=o.replace(/[^a-zA-Z0-9:]/g,"_"),ce=async()=>{Q(!0),await y.surfaceHandler.postEventWithResponse(`${ee}:click_UICALLBACK`,y.surfaceHandler.state),Q(!1)};return(0,d.jsx)(S.Z,{title:r,onClick:ce,id:ee,variant:p,saving:T,className:"tw-mr-2 tw-mt-1",children:r})},q={type:"button",optionsSchema:{},render(n,r){let{title:o,id:p,variant:y}=n;return(0,d.jsx)(M,{title:o,id:p,variant:y,contextOptions:r})}};var I=l(5336);const Z=n=>{let{children:r}=n;return r?(0,d.jsx)(I.Z,{allowedElements:["a","p","br","code","pre","em","strong"],markdown:r}):null},B={type:"text",optionsSchema:{},render(n){let{value:r}=n;return(0,d.jsx)(Z,{children:r})}};var z=l(48542);const j={type:"card",optionsSchema:{},render(n,r){let{title:o,description:p,contents:y}=n;var T;return y?(0,d.jsx)(z.Z,{title:o,description:p&&(0,d.jsx)("div",{className:"tw-mb-2",children:(0,d.jsx)(Z,{children:p})}),children:(0,d.jsx)(z.Z.Panel,{children:(T=r==null?void 0:r.renderElements)==null?void 0:T.call(r,y,r)})}):null}};var w=l(7900);const R=n=>{let{code:r,language:o}=n;return!r||!o?null:(0,d.jsx)("div",{className:"tw-mt-2",children:(0,d.jsx)(w.Z,{code:r,language:o})})},L={type:"code-snippet",optionsSchema:{},render(n){let{code:r,language:o}=n;return(0,d.jsx)(R,{code:r,language:o})}};var x=l(91844),F=l(4953);const e=n=>{let{providerName:r,connectWithMessage:o,disconnectFromMessage:p,contextOptions:y}=n;var T,Q;const{surfaceHandler:ee,integrationSlug:ce}=y,{providerOAuthToken:fe}=(Q=(T=ee.state)==null?void 0:T.integrationContext)!=null?Q:{providerOAuthToken:void 0},me=!!fe,[Se,be]=(0,k.useState)(!1);if(Se)return(0,d.jsx)(x.Z,{children:(0,d.jsx)(F.Z,{className:"tw-mt-1"})});const ye=async()=>{be(!0);const ve=new URLSearchParams;ve.append("redirect_uri",window.location.href);const $e=await fetch(`/.netlify/functions/identeer-proxy/auth/${ce}?${ve.toString()}`);if($e.ok){const{auth_url:xe}=await $e.json();window.open(xe,"_self")}},ge=async()=>{be(!0),await fetch(`/.netlify/functions/identeer-proxy/disconnect/${ce}`),window.location.reload()};return me===void 0?(0,d.jsx)(x.Z,{children:(0,d.jsx)(F.Z,{})}):(0,d.jsxs)(x.Z,{title:me?`Your Netlify account is connected to ${r}`:`Connect your Netlify account to ${r}`,children:[!me&&(0,d.jsx)("p",{children:o}),me&&(0,d.jsx)("p",{children:p}),me?(0,d.jsx)(S.Z,{className:"tw-mt-2 tw-w-max",onClick:ge,children:"Disconnect"}):(0,d.jsx)(S.Z,{className:"tw-mt-2 tw-w-max",onClick:ye,children:"Connect"})]})},t={type:"connection",optionsSchema:{},render(n,r){let{connectWithMessage:o,providerFriendlyName:p,disconnectFromMessage:y}=n;return!o||!y||!p||!r.integrationSlug?null:(0,d.jsx)(e,{connectWithMessage:o,disconnectFromMessage:y,providerName:p,contextOptions:r})}};var s=l(39777);const c=n=>{let{value:r,label:o}=n;return(0,d.jsx)(s.Z,{label:o,value:r,placeholder:"Not set"})},b={type:"display",optionsSchema:{},render(n){return(0,d.jsx)(c,{...n})}};var O=l(71791),P=l(34571),$=l(68187),U=l(83611),V=l(55492),D=l(56299),g=l(87287);const J=n=>{let{packageContext:r,site:o,title:p,description:y,targetPackage:T,illustration:Q,surfaceHandler:ee}=n;var ce,fe;const me=(0,V.I0)(),{friendlyName:Se}=r||{},[be,ye]=(0,k.useState)(!1);if(!o||!T)return null;const ge=(0,$.hA)(o),ve=(0,d.jsx)(Z,{children:y}),$e=(fe=(ce=o==null?void 0:o.get("plugins"))==null?void 0:ce.toJS().some(Be=>Be.package===T))!=null?fe:!1,xe=$e?"Disable":"Enable",ze=`${xe} ${Se}`;async function Fe(){const Be=o==null?void 0:o.get("plugins");let je=(Be==null?void 0:Be.toJS())||[];if($e)await ee.onDisable(),je=je.filter(Ve=>Ve.package!==T),await me((0,P.L3)(o,{plugins:je}));else{ye(!0);try{await ee.onEnable(),await me((0,O.QK)(o,T,je,!1))}finally{ye(!1)}}}return $e?(0,d.jsxs)(g.Z,{title:ze,description:ve,deleteLabel:xe,onDelete:Fe,challenge:{label:"Type in the site\u2019s name to confirm",value:ge},children:[ve,(0,d.jsxs)("p",{children:["Are you sure you want to remove ",Se," from ",ge,"?"]})]}):(0,d.jsx)(D.Z,{title:p,illustration:Q,action:(0,d.jsx)(S.Z,{onClick:Fe,saving:be,children:ze}),children:ve})},_=(n,r)=>{if(r)try{return new URL(r).pathname}catch{return[U.A8,n,r].filter(Boolean).join("/")}},m={type:"enablement",optionsSchema:{},render(n,r){let{title:o,description:p,illustration:y,targetPackage:T}=n,{site:Q,packageContext:ee,surfaceHandler:ce}=r;return y=_(ee==null?void 0:ee.key,y),(0,d.jsx)(J,{title:o,description:p,illustration:y,site:Q,packageContext:ee,targetPackage:T,surfaceHandler:ce})}};var A=l(96512),N=l(37474);const H=n=>{const r={};return n.forEach((o,p)=>{if(!Reflect.has(r,p)){r[p]=o;return}Array.isArray(r[p])||(r[p]=[r[p]]),r[p].push(o)}),r},K=n=>{let{id:r,title:o,description:p,surfaceInputsData:y,saveLabel:T,savingLabel:Q,renderElements:ee,hideCancel:ce,surfaceHandler:fe,variant:me="default"}=n;const Se=Object.entries(y).reduce((Fe,Be)=>{let[je,Ve]=Be;return(!r||je.startsWith(r))&&(Fe[je]=Ve),Fe},{}),[be]=(0,k.useState)(Se),[ye,ge]=(0,k.useState)(be),[ve,$e]=(0,k.useState)(!1);if((0,k.useEffect)(()=>{fe.save(function(){let Fe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{surfaceInputsData:Be}=Fe;return{surfaceInputsData:{...Be,...ye}}})},[ye]),!r)return null;const xe=Fe=>{let{name:Be,value:je}=Fe;ge(Ve=>({...Ve,[Be]:je}))},ze=async Fe=>{$e(!0);const Be=new FormData(Fe.target),je=H(Be);await fe.onSurfaceSave(r,{...y,...je}),$e(!1)};return me==="default"?(0,d.jsx)("section",{className:"card card-settings",children:(0,d.jsx)(N.Z,{title:o,description:p,children:(0,d.jsx)(A.Z,{onSave:ze,saveLabel:T!=null?T:"Save",saving:ve,onCancel:ce?void 0:()=>ge(be),children:(0,d.jsx)("div",{className:"tw-mt-2",children:ee({onChange:xe,surfaceInputsData:ye})})})})}):(0,d.jsxs)(z.Z,{title:o,description:p&&(0,d.jsx)(Z,{children:p}),onSave:ze,onCancel:()=>ge(be),saving:ve,saveLabel:T,savingLabel:Q,children:[(0,d.jsx)(z.Z.DefaultView,{className:"table-body",children:ee({displayOnly:!0,surfaceInputsData:ye})}),(0,d.jsx)(z.Z.FormView,{className:"table-body",children:ee({onChange:xe,surfaceInputsData:ye})})]})},oe={type:"form",optionsSchema:{},render(n,r){let{title:o,description:p,contents:y,id:T,saveLabel:Q,savingLabel:ee,variant:ce,hideCancel:fe}=n;if(!y)return null;const{surfaceHandler:me,surfaceInputsData:Se,renderElements:be,sdkVersion:ye}=r;fe&&ce==="settings"&&console.warn("hideCancel is not supported for the `settings` variant");const[ge,ve,$e]=ye?ye.split(".").map(Number):[0,0,0];return ge<1&&ve<=4&&$e<7&&(ce="settings"),(0,d.jsx)(K,{title:o,id:T,description:p,surfaceHandler:me,surfaceInputsData:Se,renderElements:xe=>be==null?void 0:be(y,{...r,...xe}),saveLabel:Q,savingLabel:ee,variant:ce,hideCancel:fe})}};var te=l(69041),ne=l(69792),v=l(84200);const f=n=>n.map(r=>{if(typeof r=="string")return{value:r,label:r};const{value:o,label:p=o}=r;return{...r,label:p}}),W=(n,r)=>n.findLast(r),G=v.z.array(v.z.string()).optional(),ie=n=>{const r=G.safeParse(n);return r.success?!0:(console.warn('"value" is not a valid checkbox value type',r.error),!1)},de=n=>{const r=typeof n,o=r==="string"||r==="undefined";return o||console.warn('"value" is not a valid input value type. Received:',r),o},le=n=>{let{type:r,id:o,label:p,options:y,helpText:T,required:Q,onChange:ee,selected:ce,leftLabel:fe,floatingLabel:me}=n;const Se=o||p,be=ye=>{const{value:ge,checked:ve}=ye.target,$e=new Set(ce);r==="radio"&&$e.clear(),ve?$e.add(ge):$e.delete(ge),ee({name:o,value:Array.from($e)})};return(0,d.jsx)(ne.Z,{leftLabel:fe,floatingLabel:me,name:o,label:p,helpText:T,controlled:!0,control:(0,d.jsx)("fieldset",{className:"tw-flex tw-flex-col tw-gap-2",children:y.map(ye=>{let{value:ge,label:ve}=ye;return(0,d.jsx)(te.Z,{type:r,name:Se,value:ge,label:ve,checked:ce.includes(ge),required:Q&&!ce.length,onChange:be},ge)})})})},ae={type:"input-checkbox",optionsSchema:{},render(n,r){let{id:o,value:p,label:y,type:T,...Q}=n,{displayOnly:ee,surfaceInputsData:ce,onChange:fe}=r;var me;const Se=f(p),be=Se.filter(ge=>{let{isSelected:ve}=ge;return!!ve}),ye=(me=ce[o])!=null?me:be.map(ge=>{let{value:ve}=ge;return ve});if(!ie(ye))return null;if(ee){const ge=Se.filter(ve=>{let{value:$e}=ve;return ye.includes($e)});return(0,d.jsx)(c,{label:y,value:ge.map(ve=>{let{label:$e}=ve;return $e}).join(", ")})}return(0,d.jsx)(le,{id:o,type:"checkbox",label:y,options:Se,selected:ye,onChange:fe,...Q})}};var he=l(26527),Ie=l(50184);const Pe=n=>{let{id:r,label:o,value:p,placeholder:y,helpText:T,required:Q,onChange:ee,leftLabel:ce,floatingLabel:fe,onValidate:me}=n;return(0,d.jsx)(Ie.Z,{leftLabel:ce,floatingLabel:fe,name:r,label:o,value:p,placeholder:y,helpText:T,required:Q,onChange:Se=>ee({name:r,value:Se.target.value}),controlled:!0,onValidate:me})},Re={type:"input-password",optionsSchema:{},render(n,r){let{id:o,value:p,label:y,...T}=n,{displayOnly:Q,surfaceInputsData:ee,onChange:ce}=r;var fe;const me=(fe=ee[o])!=null?fe:p;return de(me)?Q?(0,d.jsx)(c,{label:y,value:me&&he.Nw}):(0,d.jsx)(Pe,{id:o,label:y,value:me,onChange:ce,...T}):null}},Me={type:"input-radio",optionsSchema:{},render(n,r){let{id:o,value:p,label:y,type:T,...Q}=n,{displayOnly:ee,onChange:ce,surfaceInputsData:fe}=r;var me;const Se=f(p),be=W(Se,ve=>{let{isSelected:$e}=ve;return!!$e}),ye=fe[o];if(!ie(ye))return null;const ge=ye?ye[0]:be==null?void 0:be.value;return ee?(0,d.jsx)(c,{label:y,value:ge&&((me=W(Se,ve=>{let{value:$e}=ve;return $e===ge}))==null?void 0:me.label)}):(0,d.jsx)(le,{type:"radio",id:o,label:y,options:Se,selected:[ge].filter(Boolean),onChange:ce,...Q})}},Ae=n=>{let{id:r,type:o="text",label:p,value:y,helpText:T,required:Q,placeholder:ee,onChange:ce,leftLabel:fe,floatingLabel:me,min:Se,max:be,onValidate:ye}=n;return(0,d.jsx)(ne.Z,{type:o,leftLabel:fe,floatingLabel:me,name:r,label:p,value:y,placeholder:ee,helpText:T,required:Q,min:Se,max:be,onChange:ge=>ce({name:r,value:ge.target.value}),controlled:!0,onValidate:ye})},Ce={type:"input-text",optionsSchema:{},render(n,r){let{id:o,value:p,label:y,type:T,fieldType:Q,...ee}=n,{displayOnly:ce,surfaceInputsData:fe,onChange:me}=r;var Se;const be=(Se=fe[o])!=null?Se:p;return de(be)?ce?(0,d.jsx)(c,{label:y,value:be}):(0,d.jsx)(Ae,{id:o,type:Q,label:y,value:be,onChange:me,...ee}):null}};var Le=l(43411);const Oe=n=>{let{href:r,text:o,target:p}=n;if(!r||!o)return null;const y=!r.match(/^(https?:\/\/)?app\.netlify\.com/);return(0,d.jsx)(Le.Z,{href:r,external:y,action:y,target:p,children:o})},Ne={type:"link",optionsSchema:{},render(n){let{href:r,text:o,target:p}=n;return(0,d.jsx)(Oe,{href:r,text:o,target:p})}},E=n=>{let{items:r}=n;return r?(0,d.jsx)("ol",{className:"tw-max-w-10 tw-ps-2",children:r.map((o,p)=>(0,d.jsx)("li",{children:o},p))}):null},ue={type:"ordered-list",optionsSchema:{},render(n){let{items:r}=n;return(0,d.jsx)(E,{items:r})}};var ke=l(77462);const Ue=n=>{let{items:r}=n;return r?(0,d.jsx)("ul",{className:"tw-max-w-10",children:r.map((o,p)=>(0,d.jsx)("li",{className:"tw-my-2"+(o.icon?"":" tw-ml-3 tw-list-disc"),children:(0,d.jsxs)("div",{className:o.icon&&"tw-flex tw-flex-row tw-items-start",children:[o.icon&&(0,d.jsx)(ke.Z,{name:o.icon==="success"?"status-checkmark":"warning-triangle","aria-label":o.icon==="success"?"Success":"Warning",className:"tw-mr-[7px] tw-mt-[4px]"}),o.text]})},p))}):null},He={type:"unordered-list",optionsSchema:{},render(n){let{items:r}=n;return(0,d.jsx)(Ue,{items:r})}},Ze=n=>{let{integrationName:r,description:o,contextOptions:p}=n;var y,T;const{surfaceHandler:Q,integrationSlug:ee,site:ce,account:fe}=p,{serverUrl:me,netlifyToken:Se,siteName:be,accountSlug:ye}=(T=(y=Q.state)==null?void 0:y.integrationContext)!=null?T:{},[ge,ve]=(0,k.useState)(!1),$e=async()=>{var xe;ve(!0);const ze=me!=null?me:`https://netlify-integration-${ee}.netlify.app`,Fe=new URLSearchParams;ce&&Fe.append("siteId",ce.get("id")),fe&&Fe.append("teamId",fe.get("id"));const Be=new URL(`/.netlify/functions/handler/on-disable?${Fe.toString()}`,ze);await fetch(Be.toString(),{method:"DELETE",headers:{"netlify-token":Se}});const je=/\/(sites|teams)\/[^/]+\/integrations\/([^/]+)/,Ve=(xe=window.location.pathname.match(je))==null?void 0:xe[2];if(Ve){const Je=be?`/sites/${be}/integrations/${Ve}`:`/teams/${ye}/integrations/${Ve}`;window.location.href=Je}else window.location.reload()};return(0,d.jsx)(x.Z,{title:`Disable ${r}`,action:(0,d.jsx)(S.Z,{variant:"danger",onClick:$e,children:"Disable"}),loading:ge,children:(0,d.jsx)("p",{children:o!=null?o:`Disable the ${r} integration ${ce?"from your site":"for your team"}.`})})},We={type:"disable-section",optionsSchema:{},render(n,r){let{description:o,integrationName:p}=n;return!p||!r.integrationSlug?null:(0,d.jsx)(Ze,{contextOptions:r,integrationName:p,description:o})}};var C=l(30134);const Y={type:"section",optionsSchema:{},render(n,r){let{title:o="",description:p,contents:y}=n;var T;return y?(0,d.jsx)("div",{className:"tw-mt-2",children:(0,d.jsx)(C.Z,{title:o,description:p&&(0,d.jsx)(Z,{children:p}),children:(T=r==null?void 0:r.renderElements)==null?void 0:T.call(r,y,r)})}):null}};var re=l(12069);const X=n=>{let{id:r,label:o,options:p,selected:y,placeholder:T,helpText:Q,required:ee,leftLabel:ce,surfaceHandler:fe,menuIsOpen:me,surfaceInputsData:Se,onChange:be}=n;const ye=async ge=>{const{value:ve}=ge.target.value;await fe.onSurfaceInteraction(r,ve,Se),be({name:r,value:ve})};return(0,d.jsx)(ne.Z,{leftLabel:ce,name:r,label:o,helpText:Q,controlled:!0,control:(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(re.Z,{name:r,value:y,options:p,placeholder:T,menuIsOpen:me,required:ee,onChange:ye}),(0,d.jsx)("input",{type:"hidden",name:r,defaultValue:y})]})})},pe={type:"select",optionsSchema:{},render(n,r){let{id:o,label:p,options:y,menuIsOpen:T,leftLabel:Q,...ee}=n,{displayOnly:ce,surfaceInputsData:fe,surfaceHandler:me,onChange:Se}=r;var be;const ye=f(y),ge=W(ye,$e=>{let{isSelected:xe}=$e;return!!xe}),ve=(be=fe[o])!=null?be:ge==null?void 0:ge.value;if(!de(ve))return null;if(ce){const $e=W(ye,xe=>{let{value:ze}=xe;return ze===ve});return(0,d.jsx)(c,{label:p,value:ve&&($e==null?void 0:$e.label)})}return(0,d.jsx)(X,{id:o,label:p,options:ye,selected:ve,leftLabel:Q,surfaceInputsData:fe,surfaceHandler:me,menuIsOpen:T,...ee,onChange:Se})}},_e={[B.type]:B,[j.type]:j,[m.type]:m,[pe.type]:pe,[Ce.type]:Ce,[Re.type]:Re,[Me.type]:Me,[ae.type]:ae,[b.type]:b,[oe.type]:oe,[Y.type]:Y,[q.type]:q,[Ne.type]:Ne,[t.type]:t,[He.type]:He,[ue.type]:ue,[We.type]:We,[L.type]:L},Ee=n=>_e[n];function we(n){return n.type==="select"}function qe(n){return n.type.startsWith("input")}function De(n,r){const o=n.trim().split(".").filter(Boolean);return o.reduce((y,T,Q)=>{if(Q===0)switch(o[0]){case"$PKG":y=r.packageContext;break;case"$EL":y=r.surfaceInputsData;break}else typeof y!="object"||y===null?y=null:y=y[T];return y},null)}function u(n,r){var o,p;let y={...n};const T=n.if;let Q=!1;if(T&&r&&(T.truthy&&De(T.truthy,r)&&(Q=!0),T.falsy&&(De(T.falsy,r)||(Q=!0)),T.equals&&De(T.equals[0],r)===T.equals[1]&&(Q=!0),T.has)){const{type:ee,name:ce}=T.has;switch(ee){case"plugin":(p=(o=r.site)==null?void 0:o.get("plugins"))!=null&&p.toJS().some(fe=>fe.package===ce)&&(Q=!0)}}return Q&&(T!=null&&T.then)&&(y={...y,...T.then}),y}function i(n,r,o){const[p,...y]=n.split("."),T=y.join(".");if(p!=="$ENV")return console.warn("WFUI - persistAs key other than $ENV is not supported:",p),o;const Q=r.surfaceHandler.getEnvVarValue(T);return we(o)&&!o.label&&(o.label=T),qe(o)&&!o.label&&(o.label=T),Q||console.log("WFUI - No value found for env var: ",n),o}function a(n,r,o){const p={...r,renderElements:a};return n.map(y=>{let T={...y};T.id||console.warn('No "id" found for element:',T);const{persistAs:Q}=T;if(Q&&(T=i(Q,r,T)),T.if&&(T=u(T,r)),T.display==="hidden")return null;const ee=Ee(T.type);if(!ee)return console.error(`workflow ui element unknown: ${JSON.stringify(T)}`),null;const ce=ee.render(T,p);return ce?(0,k.cloneElement)(ce,{key:T.id,outset:r.outset}):null})}const h=function(n){let{config:r,surfaceRouteConfig:o,surfaceConfig:p,envVars:y,site:T,account:Q,surfaceData:ee,displayOnly:ce,outset:fe,onChange:me,integrationSlug:Se,surfaceInputsData:be,surfaceHandler:ye}=n;const ge={enabled:!0,key:(r==null?void 0:r.packageId)||"",name:(r==null?void 0:r.package)||"",friendlyName:(r==null?void 0:r.friendlyName)||""};return(0,d.jsx)(d.Fragment,{children:a(o,{envVars:y,site:T,account:Q,packageContext:ge,surfaceData:ee,displayOnly:ce,outset:fe,onChange:me,integrationSlug:Se,surfaceInputsData:be,surfaceRouteConfig:o,surfaceConfig:p,surfaceHandler:ye,sdkVersion:r==null?void 0:r.sdkVersion})})}},78290:(Te,se,l)=>{l.d(se,{K:()=>O});var d=l(24246),k=l(27378),S=l(45180),M=l(55492),q=l(91844),I=l(4953),Z=l(35284),B=l(72919),z=l(46917),j=l(19349),w=l(83611);function R(P,{terminate:$=!0,targetOrigin:U="*"}={}){if(typeof window=="undefined")throw new Error("You can only run fromIframe() in a browser context, but no window was found.");const V=new WeakMap;let D;function g(_){var m;_.source===P.contentWindow&&((m=_.data)==null?void 0:m.eventName)==="WFUI_IFRAME_LOADED"&&(window.removeEventListener("message",g),D())}const J=new Promise(_=>{D=_,window.addEventListener("message",g)});return{async postMessage(_,m){var A;await J,(A=P.contentWindow)==null||A.postMessage(_,U,m)},addEventListener(_,m){const A=N=>{var H,K;N.source===P.contentWindow&&((K=(H=N.data)==null?void 0:H.eventName)!=null&&K.startsWith("WFUI")&&console.log(N.data),m(N))};V.set(m,A),window.addEventListener(_,A)},removeEventListener(_,m){const A=V.get(m);A!=null&&(V.delete(m),window.removeEventListener(_,A))},terminate(){window.removeEventListener("message",g),$&&P.remove()}}}var L=l(16467);class x{constructor({surfaceName:$,exposedFunctions:U,envVarHandlers:V,surfaceData:D,accountId:g,accountSlug:J,siteName:_,queryParams:m,serverUrl:A,isPreview:N,branch:H,siteUrl:K},oe){this.updater=null,this.mounted=!0,this.iframeEndpoint=null,this.iframe=null,this.elementDirectory=new Map,this.getOAuthConnection=async te=>{const ne=await fetch(`/.netlify/functions/identeer-proxy/connections/${te}`);if(ne.ok){const{token:v}=await ne.json();return v}},D&&(this.state={surfaceData:D}),this.surfaceName=$,this.updater=oe,this.exposedFunctions=U,this.envVarHandlers=V,this.accountData={accountId:g,accountSlug:J},this.siteName=_,this.siteUrl=K,this.branch=H,this.queryParams=m,this.serverUrl=A,this.isPreview=N}updateSurfaceHandlerProps({exposedFunctions:$,envVarHandlers:U,surfaceData:V}){$&&(this.exposedFunctions=$),V&&(this.state||(this.state={}),this.state.surfaceData=V),U&&(this.envVarHandlers=U)}save($){var U;if(!this.mounted)return;const V=typeof $=="function"?$(this.state):$;this.state={...this.state,...V},(U=this.updater)==null||U.call(this)}getEnvVarValue($){if(!this.envVarHandlers)return null;const U=this.envVarHandlers.reader.getEnvVar($);return U?U.envVar.values[0].value:null}async onConfigLoaded({surfaceConfig:$,surfaceRouteConfig:U,elementDirectory:V,config:D,matchedRouteKey:g,siteId:J,host:_}){var m,A;let N;const{useIdentity:H,integrationSlug:K}=D;if(K){const G=await fetch("/integration-auth",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ownerId:J!=null?J:this.accountData.accountId,integrationSlug:this.isPreview?"netlify-preview":K})});if(G.ok){const{token:ie}=await G.json();N=ie}else{const ie=/\/(sites|teams)\/[^/]+\/integrations\/([^/]+)/,de=(m=window.location.pathname.match(ie))==null?void 0:m[2];if(de){const le=this.siteName?`/sites/${this.siteName}/integrations/${de}`:`/teams/${this.accountData.accountSlug}/integrations/${de}`;window.location.href=le}}}this.state={...this.state,surfaceConfig:$,surfaceRouteConfig:U,integrationContext:{siteId:J,siteName:this.siteName,siteUrl:this.siteUrl,branch:this.branch,accountId:this.accountData.accountId,accountSlug:this.accountData.accountSlug,netlifyToken:N,isConnected:void 0,serverUrl:this.serverUrl}},this.elementDirectory=V,(0,L.CS)(this.surfaceName,this);const oe={};V.forEach(G=>{const{persistAs:ie,id:de}=G;if(!ie||!de)return;const[le,...ae]=ie.split(".");if(le!=="$ENV"){console.warn("WFUI - persistAs key other than $ENV is not supported:",le);return}const he=ae.join("."),Ie=this.getEnvVarValue(he);oe[de]=Ie});let te;if(H){if(!K)throw new Error("Integration ID is required for identity");te=await this.getOAuthConnection(K)}const ne={...this.state,integrationContext:{siteId:J,siteName:this.siteName,siteUrl:this.siteUrl,branch:this.branch,accountId:this.accountData.accountId,accountSlug:this.accountData.accountSlug,netlifyToken:N,providerOAuthToken:te,isConnected:!!te||void 0,serverUrl:this.serverUrl},surfaceInputsData:oe};if(!((A=$.surfaceScripts)!=null&&A.length)){this.save(ne);return}const v=await s({surfaceScripts:$.surfaceScripts,surfaceName:this.surfaceName,queryParams:this.queryParams,isIntegration:!!K,host:_});if(!v){this.save(ne);return}this.iframe=v,this.iframeEndpoint=R(this.iframe,{terminate:!0,targetOrigin:"*"}),this.iframeEndpoint.addEventListener("message",G=>{G.data.eventName.replace("_RESULT","").endsWith("_UICALLBACK")&&G.data.uiState&&this.save(G.data.uiState)}),this.iframeEndpoint.addEventListener("message",async G=>{var ie,de;if(G.data.eventName==="WFUI_CALL_EXPOSED_FUNCTION"){const{functionName:le,args:ae,id:he}=G.data;let Ie;try{Ie={status:"success",data:await((ie=this.exposedFunctions)==null?void 0:ie[le](...ae))}}catch(Pe){console.error("oops",Pe),Ie={status:"error",data:Pe}}(de=this.iframeEndpoint)==null||de.postMessage({eventName:"WFUI_ASYNC_REQUEST_SETTLES",response:Ie,id:he})}}),this.exposedFunctions&&this.iframeEndpoint.postMessage({eventName:"WFUI_SEND_EXPOSED_FUNCTIONS",surfaceName:this.surfaceName,exposedFunctions:Object.keys(this.exposedFunctions)});const f={...this.state,integrationContext:{siteId:J,siteName:this.siteName,siteUrl:this.siteUrl,branch:this.branch,accountId:this.accountData.accountId,accountSlug:this.accountData.accountSlug,netlifyToken:N,providerOAuthToken:te,isConnected:!!te||void 0,serverUrl:this.serverUrl},surfaceInputsData:oe},W=await this.postEventWithResponse(K?`WFUI_LOAD_${g}`:"WFUI_LOAD",f);this.save(W!=null?W:f)}async onSurfaceInteraction($,U,V){if(!this.state){console.error("onSurfaceInteraction called with no ui state");return}this.state={...this.state,surfaceInputsData:{...this.state.surfaceInputsData,...V}};const D=await this.postEventWithResponse(`WFUI_INTERACTION_${$}:onChange`,this.state,U);return D&&this.save(D),this.state}async onSurfaceSave($,U){var V;if(!this.state)return console.error("onSurfaceSave called with no ui state"),this.state;U&&(this.state={...this.state,surfaceInputsData:U});const D=await this.postEventWithResponse(`WFUI_SAVE_${$}:submit`,this.state);if(D&&this.save(D),!this.envVarHandlers)return this.state;const{reader:g,writer:J}=this.envVarHandlers,_=[],m=[];return Object.entries((V=this.state.surfaceInputsData)!=null?V:{}).forEach(([A,N])=>{const H=this.elementDirectory.get(A);if(!(H!=null&&H.persistAs))return;const K=j.qY.map(ne=>ne.value),[oe,...te]=H.persistAs.split(".");switch(oe.toUpperCase()){case"$ENV":{const ne=te.join(".");if(!ne){console.error("No environment variable key specified for element",H);return}if(Array.isArray(N))throw new Error(`${A} should not be an array type for an environment variable`);const v={key:ne,scopes:K,values:[{context:"all",value:N}]};g.isExistingEnvVar(ne)?_.push(v):m.push(v)}break;default:console.warn("Unknown persistAs key:",oe)}}),await Promise.all([J.createEnvVars(m),J.updateEnvVars(_)]),this.state}async onDisable(){if(!this.state){console.error("onDisable called with no ui state");return}const $=await this.postEventWithResponse("WFUI_PKG_DISABLED",this.state);if(this.save({...$,surfaceInputsData:{}}),!this.envVarHandlers)return;const{writer:U}=this.envVarHandlers,V=[];this.elementDirectory.forEach(D=>{if(!D.persistAs)return;const[g,...J]=D.persistAs.split(".");switch(g.toUpperCase()){case"$ENV":{const _=J.join(".");if(!_){console.error("No environment variable key specified for element",D);return}V.push(_)}break;default:console.warn("Unknown persistAs key:",g)}}),await U.deleteEnvVars(V)}async onEnable(){if(!this.state){console.error("onEnable called with no ui state");return}const $=await this.postEventWithResponse("WFUI_PKG_ENABLED",this.state);$&&this.save($)}cleanup(){var $;($=this.iframeEndpoint)==null||$.terminate(),this.iframe=null,this.mounted=!1,this.updater=null,(0,L.IC)(this.surfaceName)}postEventWithResponse($,U,V){return this.iframeEndpoint?new Promise(D=>{const g=J=>{var _,m;((_=J.data)==null?void 0:_.eventName)===`${$}_RESULT`&&(D(F(J.data.uiState)),(m=this.iframeEndpoint)==null||m.removeEventListener("message",g))};this.iframeEndpoint?(this.iframeEndpoint.addEventListener("message",g),this.iframeEndpoint.postMessage({eventName:$,uiState:U,interactionValue:V})):D(void 0)}):Promise.resolve(void 0)}}function F(P){if(!P)return;const $={surfaceRouteConfig:P.surfaceRouteConfig,surfaceConfig:P.surfaceConfig,surfaceInputsData:P.surfaceInputsData,integrationContext:P.integrationContext};return Object.entries($).forEach(([U,V])=>{V||delete $[U]}),$}async function e(P,$){var U;const V=await fetch(P);if(!V.ok)throw new Error(`WFUI - Unable to load script content for "${P}"`);if(!((U=V.headers.get("content-type"))!=null&&U.includes("javascript")))throw new Error(`WFUI - Script "${P}" was not javascript`);return{content:await V.text(),type:$}}function t({node:P,content:$,type:U}){const V=document.createElement("script");V.setAttribute("type",U),V.textContent=$,P.appendChild(V)}async function s({surfaceName:P,surfaceScripts:$,queryParams:U,isIntegration:V,host:D}){var g,J,_,m,A,N,H;if(!($!=null&&$.length)||document.querySelector(`iframe[data-surface-name="${P}"]`))return null;const[K,oe]=await Promise.all([e("/workflow-ui/netlify-context.js","text/javascript"),c({surfaceScripts:$,host:D})]);if(!oe.length)return null;let te;V&&(te={href:window.location.href,hash:window.location.hash,search:(U==null?void 0:U.toString())||""});const ne=document.createElement("iframe");document.body.appendChild(ne);const v=(J=(g=ne.contentWindow)==null?void 0:g.document)!=null?J:ne.contentDocument,f=(_=v==null?void 0:v.head)!=null?_:document.createElement("head"),W=document.createElement("meta");W.setAttribute("charset","UTF-8");const G=document.createElement("meta");G.setAttribute("http-equiv","Content-Security-Policy"),G.setAttribute("content",`style-src * 'unsafe-inline'; script-src 'self' 'unsafe-inline' ${w.xw}`),f.appendChild(W),f.appendChild(G);const ie=(m=v==null?void 0:v.body)!=null?m:document.createElement("body");return[V&&{node:f,type:"text/javascript",content:`let integrationNavigation = ${JSON.stringify(te)};integrationNavigation.navigateTo = (url) => window.top.location.assign(url);`},...[K,...oe].map(({content:le,type:ae})=>({node:ie,type:ae,content:le}))].filter(Boolean).forEach(({node:le,content:ae,type:he})=>{t({node:le,content:ae,type:he})}),(A=ne.contentWindow)==null||A.dispatchEvent(new Event("load")),(N=ne.sandbox)==null||N.add("allow-scripts"),(H=ne.sandbox)==null||H.add("allow-top-navigation"),ne.setAttribute("data-surface-name",P),ne.setAttribute("data-testid",`workflowui-${P}`),ne.setAttribute("style","display: none;"),ne}async function c({surfaceScripts:P,host:$}){const U=(P==null?void 0:P.flatMap(async D=>{let g;try{g=new URL(D,window.location.origin)}catch{return console.log("WorkflowUI - Invalid path given. Please ensure it is a valid path (ie. no path traversal):",D),null}if(g.origin===window.location.origin)return console.log("WorkflowUI - Script paths must be absolute. Please ensure the path is correct:",D),null;const J=new RegExp("netlify-integration-([a-zA-Z0-9-]+).netlify.app");return g.hostname!=="localhost"&&!J.test(g.hostname)?(console.log("WorkflowUI - Script paths must be from localhost or a netlify-integration-*.netlify.app domain. Please ensure the path is correct:",D),null):($&&(g=new URL(g.pathname,$)),await e(g.toString(),"module"))}))||[];return(await Promise.all(U)).filter(Boolean)}const b=x,O=P=>{let{surfaceName:$,packageKey:U,envVars:V,site:D,account:g,notFoundFallbackComponent:J,renderErrorFallback:_,host:m,routeSplat:A,surfaceData:N,displayOnly:H,exposedFunctions:K,outset:oe,isPreview:te}=P;var ne,v,f;const W=g==null?void 0:g.get("id"),G=(0,M.I0)(),[ie,de]=(0,k.useState)(!1),[le,ae]=(0,k.useState)(null),[he,Ie]=(0,k.useState)(null),Pe=(0,S.P)("project_paras_ui"),Re=(0,k.useMemo)(()=>D&&W?{reader:(0,z.g)({site:D,envVars:V}),writer:(0,z.S)({accountId:W,site:D,dispatch:G,envVars:V})}:void 0,[W,G,V,D]),[,Me]=(0,k.useState)({}),[Ae]=(0,k.useState)(()=>new b({queryParams:Pe?new URLSearchParams(window.location.search):void 0,surfaceName:$,exposedFunctions:K,envVarHandlers:Re,surfaceData:N,accountId:W,accountSlug:g==null?void 0:g.get("slug"),integrationSlug:le==null?void 0:le.integrationSlug,useIdentity:le==null?void 0:le.useIdentity,siteName:D==null?void 0:D.get("name"),siteUrl:D==null?void 0:D.get("url"),branch:D==null?void 0:D.getIn(["build_settings","repo_branch"]),serverUrl:m,isPreview:te},()=>Me({}))),Ce=Le=>{let{name:Oe,value:Ne}=Le;Ae.save(function(){let E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{surfaceInputsData:ue}=E;return{...E,surfaceInputsData:{...ue,[Oe]:Ne}}})};return(0,k.useEffect)(()=>{Ae.updateSurfaceHandlerProps({exposedFunctions:K,surfaceData:N,envVarHandlers:Re})},[Ae,K,N,Re]),(0,k.useEffect)(()=>()=>{Ae.cleanup()},[Ae]),(0,k.useEffect)(()=>{(async()=>{const Oe=await(0,L.uF)({surfaceName:$,host:m,packageKey:U,routeSplat:A});if(!Oe){de(!0);return}const{config:Ne,surfaceRouteConfig:E,surfaceConfig:ue,matchedRouteKey:ke,elementDirectory:Ue}=Oe;if(!Ne||!E||!ue){de(!0);return}await Ae.onConfigLoaded({config:Ne,surfaceConfig:ue,surfaceRouteConfig:E,matchedRouteKey:ke,elementDirectory:Ue,siteId:D==null?void 0:D.get("id"),host:m}),ae(Ne||null),de(!0)})().catch(Oe=>Ie(Oe))},[U,A,$,Ae,m,D]),he?(0,d.jsx)("div",{className:oe,children:(_==null?void 0:_(he))||(0,d.jsx)(Z.Z,{error:he})}):ie?!le||!((ne=Ae.state)!=null&&ne.surfaceConfig)||!((v=Ae.state)!=null&&v.surfaceRouteConfig)?(0,d.jsx)("div",{className:oe,children:J||"surface package not found"}):(0,d.jsx)(B.Z,{integrationSlug:le.integrationSlug,config:le,surfaceRouteConfig:Ae.state.surfaceRouteConfig,envVars:V,account:g,site:D,displayOnly:H,outset:oe,onChange:Ce,surfaceInputsData:(f=Ae.state.surfaceInputsData)!=null?f:{},surfaceConfig:Ae.state.surfaceConfig,surfaceData:Ae.state.surfaceData,surfaceHandler:Ae}):(0,d.jsx)(q.Z,{children:(0,d.jsx)(I.Z,{})})}},35037:(Te,se,l)=>{l.d(se,{ZP:()=>j});var d=l(63851),k=l(26527),S=l(7857),M=l(83081);const q="http://analytics.services.netlify.com",I="v2",Z=6,B=15,z=(0,k.cv)((0,S.EP)(new Date));class j{constructor(R){this.apiVersion=I,this.root=`${R.get("analyticsClientApiBase")}/${this.apiVersion}`||`${q}/${this.apiVersion}`}headers(R={}){return{"Content-Type":"application/json",...R}}parseJsonResponse(R){let L=!1;return R.json().then(x=>(L=!0,R.ok?x:Promise.reject(new d.Z(x||"Error fetching analytics data")))).catch(x=>L?Promise.reject(x):Promise.reject({status:R.status}))}parsePaginatedJsonResponse(R){let L=!1;return R.json().then(x=>{L=!0;const F=(0,M.f8)(x==null?void 0:x.next);return R.ok?{pagination:F,data:x}:Promise.reject(new d.Z(x||"Error fetching analytics data"))}).catch(x=>L?Promise.reject(x):Promise.reject({status:R.status}))}request(R,L={}){const x=L.parseJsonResponse||this.parseJsonResponse,F=this.headers(L.headers||{}),e=this.root+R;return fetch(e,{...{credentials:"include"},...L,headers:F}).then(x).catch(s=>{const{status:c,code:b,...O}=s,P=new d.Z({code:c||b,...O});return Promise.reject(P)})}pageviews(R,{from:L,to:x,resolution:F="day"}){return this.request(`/${R}/pageviews?from=${L}&to=${x}&timezone=${z}&resolution=${F}`)}uniqueVisitors(R,{from:L,to:x,resolution:F="day"}){return this.request(`/${R}/visitors?from=${L}&to=${x}&timezone=${z}&resolution=${F}`)}topLocations(R,{from:L,to:x,resolution:F="day"}){return this.request(`/${R}/ranking/countries?from=${L}&to=${x}&timezone=${z}`)}topSources(R,{from:L,to:x}){return this.request(`/${R}/ranking/sources?from=${L}&to=${x}&timezone=${z}&limit=${Z}`)}topPages(R,{from:L,to:x}){return this.request(`/${R}/ranking/pages?from=${L}&to=${x}&timezone=${z}&limit=${B}`)}bandwidthUsed(R,{from:L,to:x,resolution:F="day"}){return this.request(`/${R}/bandwidth?from=${L}&to=${x}&timezone=${z}&resolution=${F}`)}realUserMetric(R,L,x="",{from:F,to:e,resolution:t="hour"}){const s=[`from=${F}`,`to=${e}`,`timezone=${z}`,`resolution=${t}`,x&&`device_type=${x}`].filter(Boolean);return this.request(`/${R}/rum/${L}?${s.join("&")}`)}notFound(R,{from:L,to:x}){return this.request(`/${R}/ranking/not_found?from=${L}&to=${x}&timezone=${z}&limit=${B}`)}async historicalFunctionLogs(R){const{branch:L,site_id:x,name:F,from:e,to:t,next_cursor:s,search:c}=R,b=(0,k.b4)({...s&&{cursor:s},...c&&{search:c},...e&&{from:String(e)},...t&&{to:String(t)}}),O=L?`branch/${(0,k.cv)(L)}/`:"";return this.request(`/sites/${x}/${O}function_logs/${(0,k.cv)(F)}?${b}`,{parseJsonResponse:this.parsePaginatedJsonResponse})}async historicalEdgeFunctionLogs(R){const{site_id:L,from:x,to:F,next_cursor:e,search:t}=R,s=(0,k.b4)({...e&&{cursor:e},...t&&{search:t},...x&&{from:String(x)},...F&&{to:String(F)}});return this.request(`/sites/${L}/edge_function_logs?${s}`,{parseJsonResponse:this.parsePaginatedJsonResponse})}}},88317:(Te,se,l)=>{l.d(se,{Lz:()=>S,TP:()=>B,V_:()=>z,Wc:()=>q,_w:()=>M,aN:()=>I,au:()=>Z});var d=l(90046),k=l.n(d);const S={github:"github",bitbucket:"bitbucket",bitbucket_self_hosted:"bitbucket_self_hosted",gitlab:"gitlab",gitlab_self_hosted:"gitlab_self_hosted",github_app:"github_app",github_enterprise:"github_enterprise",google:"google",email:"email",azure_devops:"azure_devops"},M=(0,d.fromJS)({github:{id:S.github,name:"GitHub",description:"Authenticate users with GitHub and access GitHub\u2019s REST API",iconName:"github",labels:{api_id:"Client ID",client_id:"Client ID",secret:"Client secret"},active:!0,supports:{search:!0}},bitbucket:{id:S.bitbucket,name:"Bitbucket",description:"Authenticate users with Bitbucket and access their REST API",iconName:"bitbucket",iconColoredName:"bitbucket-colored",labels:{api_id:"Key",client_id:"Key",secret:"Secret"},active:!0,supports:{search:!0},hideGitUserFromRepoList:!0},bitbucket_self_hosted:{id:S.bitbucket_self_hosted,name:"Bitbucket Data Center and Server",shortName:"Bitbucket",iconName:"bitbucket",iconColoredName:"bitbucket-colored",labels:{api_id:"Application ID",client_id:"Client ID",secret:"Secret"},active:!1,selfhosted:!0,supports:{search:!0},hideGitUserFromRepoList:!0},gitlab:{id:S.gitlab,name:"GitLab",iconName:"gitlab",iconColoredName:"gitlab-colored",labels:{api_id:"Application ID",client_id:"Application ID",secret:"Secret"},active:!0,supports:{search:!0}},gitlab_self_hosted:{id:S.gitlab_self_hosted,name:"GitLab self-managed",shortName:"GitLab",iconName:"gitlab",iconColoredName:"gitlab-colored",labels:{api_id:"Application ID",client_id:"Application ID",secret:"Secret"},selfhosted:!0,supports:{search:!0},active:!1},github_app:{id:S.github_app,name:"GitHub App",shortName:"GitHub",iconName:"github",labels:{api_id:"App ID",secret:"Secret"},supports:{search:!0},active:!1},github_enterprise:{id:S.github_enterprise,name:"GitHub Enterprise",shortName:"GitHub",iconName:"github",labels:{api_id:"App ID",secret:"Secret"},supports:{search:!0},selfhosted:!0,active:!1},google:{id:S.google,name:"Google",iconColoredName:"google-colored",labels:{client_id:"Client ID",secret:"Client secret"},active:!1},email:{id:S.email,name:"Email",active:!1},azure_devops:{id:S.azure_devops,name:"Azure DevOps",iconName:"azure-devops",iconColoredName:"azure-devops-colored",active:!1,supports:{search:!0},hideGitUserFromRepoList:!0}}),q=M.toList().filter(j=>j.get("active")),I=M.toList().filter(j=>j.get("selfhosted")),Z=j=>q.filterNot(w=>j&&j.find(R=>R.get("name")===w.get("id"))),B=j=>M.get(j)||(0,d.Map)({id:j,name:j,active:!1}),z=j=>{if(!j)return"";const w=M.get(j);return w==null?void 0:w.get("iconName")}},37306:(Te,se,l)=>{l.d(se,{Z:()=>z});var d=l(5780),k=l.n(d),S=l(25994),M=l.n(S);function q(){return/^deploy-preview-/.test(window.location.hostname)?"deploy-preview":/--app\.netlify\.app$/.test(window.location.hostname)||/--app\.netlify\.com$/.test(window.location.hostname)?"branch-deploy":(["staging","prod"].includes("prod"),"production")}const I={apiKey:"9b0542315c347c80d64e228583ec6dc2",appVersion:"64e0c30899c6e100082abc5f",releaseStage:q(),collectUserIp:!1,enabledReleaseStages:["production","staging","branch-deploy","deploy-preview"],onError:j=>{var w;if(/pbjs\.|MetaMask/.test(j.errors[0].errorMessage)||j.errors[0].errorClass==="ChunkLoadError")return!1;const R=sessionStorage.getItem("routePath");R&&(j.context=R),(w=j.request.url)!=null&&w.includes("#")&&(j.request.url=j.request.url.split("#")[0])}};["development","test"].includes("production")&&(I.enabledBreadcrumbTypes=[]),I.enabledReleaseStages.includes("production")||(I.logger=null);const z={start:()=>{k().start({...I,plugins:[new(M())]})}}},54856:(Te,se,l)=>{l.d(se,{Z:()=>z});var d=l(34740),k=l(17552),S=l(28739),M=l(72746);const q="af6750c6",I=(...j)=>{};class Z{constructor(){this.context={},this.didInit=!1,this.instance={addCallback:I,addContext:(w,R,L)=>{this.context[w]={value:R,searchOptions:L}},addEventHandler:I,addRouter:I,boot:I,open:I,removeContext:w=>{delete this.context[w]},shutdown:I,setCustomComponent:I,setSummonHotkey:I,setTheme:I,shareCallbacks:I}}setInstance(w){this.instance=w}async launch({accountSlug:w,dispatch:R,themePreference:L,setThemePreference:x,user:F}){if(this.didInit)return;this.didInit=!0;const e=F.get("id");if(!e){console.error("Attempted to launch command bar without a user id");return}const t=F.get("command_bar_signed_user_id"),{init:s}=await l.e(9016).then(l.t.bind(l,78767,23));await s(q),this.setInstance(window.CommandBar),Object.entries(this.context).forEach(([P,$])=>{const{value:U,searchOptions:V}=$;this.instance.removeContext(P),this.instance.addContext(P,U,V)}),this.setContext("accountSlug",w),this.setContext("add",[{label:"Add site from git",route:"/start"},{label:"Add site from a template",route:"/start-with-template"},{label:"Add site by manual deploy (drag and drop)",route:"/drop"}]),this.setContext("docs",[],M.$o),this.setContext("support",[],M.NK);const{Dark:c,Light:b,OS:O}=S.ThemePreference;return this.instance.addContext("theme",L),this.setTheme((0,k.g)(L)),this.instance.addCallback("theme",(P,$)=>{const V=(0,k.g)($.theme)===c?b:c;x(V),this.setContext("theme",V),this.setTheme(V)}),this.instance.addCallback("theme-os",(P,$)=>{x(O);const U=(0,k.g)(O);this.setContext("theme",U),this.setTheme(U)}),this.setContext("internal",(F.get("email")||"").endsWith("@netlify.com")),this.instance.addCallback("feedback",(P,$)=>{this.instance.shareCallbacks()["commandbar-open-feedback"]()}),this.instance.setCustomComponent("footer",M._7),this.instance.addEventHandler((P,$)=>(0,M.Zm)(R,{eventType:P,eventData:$,userId:e,accountSlug:w})),this.instance.addRouter(P=>d.mW.push(P)),this.instance.boot(e,{},{hmac:t})}setContext(w,R,L){this.instance.removeContext(w);const x=L?{searchOptions:{searchFunction:L}}:void 0;this.instance.addContext(w,R,x)}setTheme(w){this.instance.setTheme(`netlify-theme-${w}`)}setSummonHotkey(w){this.instance.setSummonHotkey(w)}open(){this.instance.open()}shutdown(){this.instance.shutdown(),this.didInit=!1}}const z=new Z},95972:(Te,se,l)=>{l.d(se,{Ck:()=>j,DA:()=>B,L9:()=>J,N9:()=>w,Sd:()=>S,X:()=>k,ZP:()=>z,cz:()=>q,hh:()=>_,kB:()=>m,me:()=>I,p4:()=>R,sC:()=>Z,ub:()=>A,w6:()=>L,yz:()=>M});var d=l(5837);const k="INVALID_FQDN",S="^[a-zA-Z0-9-.]+$",M="NETLIFY_ADDRESS_ERROR",q="NETLIFY",I="NETLIFYv6",Z="MX",B="SPF",z="TXT",j="SRV",w="CAA",R="CNAME",L="tag",x="hostname",F="value",e="(([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9(\\-)]*[a-zA-Z0-9])\\.)*([A-Za-z0-9]|[A-Za-z0-9][A-Za-z0-9\\-]*[A-Za-z0-9](\\.?))$",t=`^${e}`,s=`^@$|^(\\*)$|^(\\*\\.)?${e}`,c=`^@$|${t}`,b="^(\\*)$|^(\\*\\.)?(([a-zA-Z0-9_]|[a-zA-Z0-9_][a-zA-Z0-9_\\-]*[a-zA-Z0-9_])\\.)*([A-Za-z0-9_]|[A-Za-z0-9_][A-Za-z0-9_\\-]*[A-Za-z0-9_](\\.?))$",O=`^@$|${b}`,P="^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$",$="^\\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:)))(%.+)?\\s*$",U="(^issue$)|(^issuewild$)|(^iodef$)",D={A:P,AAAA:$,ALIAS:t,CNAME:b,MX:t,NS:t,SPF:"^(v=spf1).*$",SRV:t},g={CNAME:b,TXT:O,NS:c};function J(te,ne=F){switch(ne){case F:return D[te]||"";case L:return U;case x:return g[te]||s;default:return""}}function _(te){return te?Promise.all([l.e(7802).then(l.bind(l,19496)),Promise.resolve().then(l.bind(l,28770))]).then(([ne,v])=>[ne.default||ne,v.default||v]).then(([ne,v])=>{const f=ne.parseDomain(ne.fromUrl(te));if(f.type!==d.xj.Listed)return null;let{subDomains:W,domain:G,topLevelDomains:ie}=f;return G||(W=f.icann.subDomains,G=f.icann.domain,ie=f.icann.topLevelDomains),G?{subdomain:v.toASCII(W.join(".")),domain:v.toASCII(G),tld:v.toASCII(ie.join("."))}:null}):Promise.resolve(null)}function m(te){return _(te).then(ne=>{const{subdomain:v,domain:f,tld:W}=ne||{};return f?v==="www"?`${f}.${W}`:v?null:`www.${f}.${W}`:null})}function A(te){return _(te).then(ne=>ne?Promise.resolve(ne):Promise.reject(k))}function N(te){return(te||"").toLowerCase().replace(/[^a-z0-9-]/,"").substr(0,35)}function H(te){return(te||"").toLowerCase().replace(/[^a-z0-9*.\n-]/,"").substr(0,255)}function K(te){const ne=(te||"").toLowerCase().replace(/[^0-9]+/,"").substr(0,255);return ne?parseInt(ne):0}function oe(te){return te}},39063:(Te,se,l)=>{l.d(se,{t:()=>k});function d(S,M){return`/favicon-prod-remote-${S}-${M}.png`}function k(S){var M;const q=document.querySelector("link[rel='icon'][type='image/x-icon']");q&&((M=q.parentNode)==null||M.removeChild(q));const I="link[rel='icon'][sizes]";(document.querySelectorAll(I)||[]).forEach(B=>{const z=B.getAttribute("sizes");B.setAttribute("href",d(S,z))})}},25169:(Te,se,l)=>{l.d(se,{Ev:()=>we,Wx:()=>qe,TR:()=>De,yU:()=>Ee});var d=l(65628),k=l(88317),S=l(26527);const M="https://app.vssps.visualstudio.com",q="https://dev.azure.com",I="7.0";function Z(u){return{login:u.id,full_name:u.displayName,name:u.displayName}}function B(u){return{id:u.accountId,api_id:u.accountName,login:u.accountName,full_name:u.accountName}}function z(u){return u.value.map(B)}function j(u){return i=>{var a,h,n;return{id:i.id,api_id:i.id,full_name:`${u}/${i.project.name}/_git/${i.name}`,full_name_encoded:`${u}/${(0,S.cv)(i.project.name)}/_git/${(0,S.cv)(i.name)}`,full_name_ui:`${u}/${i.project.name}/${i.name}`,name:i.name,default_branch:F(i.defaultBranch),private:((a=i.project)==null?void 0:a.visibility)!=="public",project_name:(h=i.project)==null?void 0:h.name,project_id:(n=i.project)==null?void 0:n.id,organization_name:u}}}function w(u){return i=>{var a;return(a=i.value)==null?void 0:a.map(j(u))}}const R=["git.push","git.pullrequest.created","git.pullrequest.merged","git.pullrequest.updated"];function L(u){return F(u.name)}function x(u){var i;return(i=u.value)==null?void 0:i.map(L)}function F(u){return u==null?void 0:u.replace(/^refs\/heads\//,"")}function e(u){var i;return(i=u.value)==null?void 0:i.filter(a=>a.gitObjectType==="blob").map(a=>({...a,path:a.path.replace(/^\//,"")}))}function t(u){return u.content}function s(u){const i=u.headers.get("x-ms-continuationtoken");return i?{next:i}:null}class c{constructor(i,a,h){this.addDeployKey=(n,r,o)=>Promise.resolve(r),this.token=i,this.root=a||M,this.apiVersion=h||I}headers(i={}){return new Headers({"Content-Type":"application/json",Authorization:`Bearer ${this.token}`,...i})}parseJsonResponse(i,a){return i.json().then(h=>i.ok?{data:a?a(h):h,pagination:s(i)}:Promise.reject(h))}request(i,a={}){const h=this.headers(a.headers||{}),n=(0,S.b4)({...a.queryParams||{},"api-version":this.apiVersion});return fetch(`${a.root||this.root}${i}?${n}`,{method:a.method||"GET",headers:h,...a.body&&{body:a.body}}).then(r=>{var o,p;return(p=(o=r.headers)==null?void 0:o.get("Content-Type"))!=null&&p.match(/json/)?this.parseJsonResponse(r,a.format):r.text().then(y=>({data:y}))})}user(){return this.request("/_apis/profile/profiles/me",{format:Z})}organizations({userLogin:i}){return this.request("/_apis/accounts",{queryParams:{memberId:i},format:z})}repos({organization:i}){return this.request(`/${(0,S.cv)(i)}/_apis/git/repositories`,{root:q,format:w(i)}).catch(()=>({data:[]}))}searchRepos(i){const{search:a}=i;return this.repos(i).then(h=>typeof h.data=="string"?h:{data:h.data.filter(({name:n,organization_name:r,project_name:o})=>`${r}/${o}/${n}`.toLowerCase().includes(a.toLowerCase()))})}branches({api_id:i,page:a,organization_name:h}){const n={$top:1e3,filter:"heads"};return a&&(n.continuationToken=a),this.request(`/${(0,S.cv)(h)}/_apis/git/repositories/${(0,S.cv)(i)}/refs`,{root:q,queryParams:n,format:x})}addWebhook({api_id:i,site:a,organization_name:h,project_id:n}){const r=y=>this.request(`/${(0,S.cv)(h)}/_apis/hooks/subscriptions`,{method:"GET",root:q,queryParams:{publisherId:"tfs",consumerId:"webHooks",consumerActionId:"httpRequest",eventType:y}}).then(T=>({eventType:y,subscriptions:T==null?void 0:T.data})),o=({subscriptions:y})=>Array.isArray(y==null?void 0:y.value)?!y.value.some(T=>{var Q,ee,ce;return((Q=T==null?void 0:T.publisherInputs)==null?void 0:Q.projectId)===n&&((ee=T==null?void 0:T.publisherInputs)==null?void 0:ee.repository)===i&&((ce=T==null?void 0:T.consumerInputs)==null?void 0:ce.url)===a.deploy_hook}):!0,p=({eventType:y})=>{const T={publisherId:"tfs",resourceVersion:"1.0",consumerId:"webHooks",consumerActionId:"httpRequest",eventType:y,publisherInputs:{projectId:n,repository:i},consumerInputs:{url:a.deploy_hook}};return y==="git.pullrequest.updated"&&(T.publisherInputs.notificationType="PushNotification"),this.request(`/${(0,S.cv)(h)}/_apis/hooks/subscriptions`,{method:"POST",body:JSON.stringify(T),root:q})};return Promise.all(R.map(r)).then(y=>y.filter(o)).then(y=>Promise.all(y.map(p))).then(()=>a).catch(function(y){return y.typeKey==="AccessCheckException"?{...a,webhooks_inactive:!0}:Promise.reject(y)})}dir({organization_name:i,api_id:a,branch:h,filepath:n=""}){return this.request(`/${(0,S.cv)(i)}/_apis/git/repositories/${(0,S.cv)(a)}/items`,{root:q,queryParams:{"versionDescriptor.version":h,scopePath:n,recursionLevel:"oneLevel"},format:e})}read({organization_name:i,api_id:a,branch:h,filepath:n}){return this.request(`/${(0,S.cv)(i)}/_apis/git/repositories/${(0,S.cv)(a)}/items`,{root:q,queryParams:{"versionDescriptor.version":h,path:n,$format:"json",includeContent:!0},format:t})}}const b="https://api.bitbucket.org";function O(u){return u}function P(u){const{page:i,next:a,previous:h}=u;if(i&&(a||h))return{current:i,next:i+1,nextUrl:a}}function $(u){var i;return{id:u.full_name,api_id:u.full_name,full_name:u.full_name,name:u.name,description:u.description,private:u.is_private,scm:u.scm,default_branch:(i=u.mainbranch)==null?void 0:i.name,language:u.language,updated_at:u.updated_at}}function U(u){return{data:u.data.values.map($),pagination:u.pagination}}function V(u){return{id:u.slug,api_id:u.slug,login:u.slug,full_name:u.name,avatar:u.links.avatar.href}}function D(u){return{data:u.data.values.map(V),pagination:u.pagination}}function g({data:u,pagination:i}){return{data:u.values.map(a=>a.name),pagination:i}}function J(u){return{data:u.data.values}}function _(u){return{login:u.username,full_name:u.username,name:u.display_name,avatar:u.links.avatar.href}}class m{constructor(i){this.token=i,this.root=b}headers(i={}){return{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json",...i}}parseJsonResponse(i,a){return i.json().then(h=>{if(!i.ok)return Promise.reject(h);const n=P(h);return{data:a(h),pagination:n}})}request(i,a={}){const h=this.headers(a.headers||{});return fetch(this.root+i,{...a,headers:h}).then(n=>{var r,o,p;return(p=(o=(r=n.headers).get)==null?void 0:o.call(r,"Content-Type"))!=null&&p.match(/json/)?this.parseJsonResponse(n,a.format||O):n.text().then(y=>({data:y}))})}user(){return this.request("/2.0/user",{format:_})}repos({organization:i,page:a,per_page:h,search:n}){const r="/2.0/repositories";let p=i?`${r}/${i}?pagelen=100&role=admin`:`${r}?pagelen=100&role=admin`;return n&&(p+=`&q=${(0,S.cv)(`name~"${n}"`)}`),this.request(p).then(U)}repo(i){return this.request(`/2.0/repositories/${i}`,{format:$})}searchRepos(i){return this.repos(i)}branches({api_id:i,page:a=1}){return this.request(`/2.0/repositories/${i}/refs/branches?pagelen=100&page=${a}`).then(g)}async organizations(){const i=async o=>this.request(`/2.0/workspaces?page=${o}`).then(D);let a=1;const h=[];let n=!1,r;for(;!n;){const{data:o,pagination:p}=await i(a);h.push(...o),p!=null&&p.nextUrl?a=p.next:(n=!0,r={data:h.reverse(),pagination:p})}return r}fetchAndFormatDir(i,a,h="",n="",r=[]){const o=n?`?page=${n}`:"";return this.request(`/2.0/repositories/${i}/src/${a}/${h}${o}`).then(p=>{var y;const T=J(p),Q=(y=p.pagination)==null?void 0:y.nextUrl,ee=Q&&new URLSearchParams(Q.split("?")[1]).get("page");return ee?this.fetchAndFormatDir(i,a,h,ee,r.concat(T.data)):{data:r.concat(T.data)}})}dir({full_name:i,branch:a,filepath:h=""}){return this.fetchAndFormatDir(i,a,h,"",[])}read({full_name:i,branch:a,filepath:h=""}){return this.request(`/2.0/repositories/${i}/src/${a}/${h}`).then(n=>({data:n.data,path:h}))}addDeployKey(i,a){return this.request(`/2.0/repositories/${i}/deploy-keys`,{method:"POST",body:JSON.stringify({label:"Netlify Deploy Key",key:a.public_key})}).then(()=>a)}addWebhook({api_id:i,site:a}){const h=`/2.0/repositories/${i}/hooks`;return this.request(h).then(n=>{if(n.data==="Forbidden")return Promise.reject(new Error("We couldn\u2019t set up continuous deployment for this repository. This typically happens when you don\u2019t have admin rights to the repository."));const r=n.data.values.find(p=>p.url===a.deploy_hook),o=["repo:push","pullrequest:created","pullrequest:updated","pullrequest:fulfilled","pullrequest:rejected","pullrequest:comment_created","pullrequest:comment_deleted","pullrequest:comment_updated"];return r&&o.sort().toString()!==r.events.sort().toString()?this.request(`${h}/${r.uuid}`,{method:"PUT",body:JSON.stringify({description:"Netlify Deploy Hook",url:a.deploy_hook,active:!0,events:o})}).then(()=>a):r?a:this.request(h,{method:"POST",body:JSON.stringify({description:"Netlify Deploy Hook",url:a.deploy_hook,active:!0,events:o})}).then(()=>a)})}}function A(u){return u}function N(u){const{start:i,isLastPage:a,limit:h,nextPageStart:n}=u,r=Math.floor(i/h);if(!(r===0&&a))return{current:r+1,isLastPage:a,next:r+2,nextPageStart:n}}function H(u){return{id:u.id,api_id:u.slug,organization_name:u.project.key,full_name:`${u.project.key}/${u.name}`,name:u.name,description:u.name,private:!u.public,scm:u.scmId}}function K(u){return{data:u.data.values.map(H),pagination:u.pagination}}function oe(u){return{id:u.key,api_id:u.key,login:u.name,full_name:u.name}}function te(u){return{data:u.data.values.map(oe),pagination:u.pagination}}function ne({data:u,pagination:i}){return{data:u.values.map(a=>a.displayId),pagination:i}}function v(u){return{data:u.data.values.map(i=>({path:i}))}}function f(u){return{login:u.values[0].slug,full_name:u.values[0].displayName,name:u.values[0].name}}class W{constructor(i,a,h){this.token=i,this.root=a,this.instanceUrl=h}parseJsonResponse(i,a){return i.json().then(h=>{if(!i.ok)return Promise.reject(h);const n=N(h);return{data:a(h),pagination:n}})}request(i,a){return fetch("/.netlify/functions/bitbucket-self-hosted",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:`${this.instanceUrl}${i}`,method:(a==null?void 0:a.method)||"GET",token:this.token,payload:a==null?void 0:a.payload})}).then(h=>{var n,r;return(r=(n=h==null?void 0:h.headers)==null?void 0:n.get("Content-Type"))!=null&&r.match(/json/)?this.parseJsonResponse(h,(a==null?void 0:a.format)||A):h.text().then(o=>({data:o}))})}user(){return this.request("plugins/servlet/applinks/whoami").then(i=>this.request(`users?filter=${i.data}`,{format:f}))}repos({organization:i,page:a=1,per_page:h=25,search:n}){let r;const o="repos";return n?r=`rest/api/latest/${o}?name=${(0,S.cv)(n)}&`:r=i?`projects/${i}/${o}?`:`${o}?`,r+=`limit=${h}&start=${(a-1)*h}`,this.request(r).then(K)}repo({organization:i,full_name:a}){return this.request(`projects/${i}/repos/${a}`,{format:H})}searchRepos(i){return this.repos(i)}async branches({api_id:i,page:a=1,organization_name:h}){return this.request(`projects/${h}/repos/${i}/branches?pagelen=100&page=${a}`).then(ne)}async organizations(){const a=async p=>this.request(`projects?limit=100&start=${p}`).then(te);let h=0;const n=[];let r=!1,o;for(;!r;){const{data:p,pagination:y}=await a(h);n.push(...p),y!=null&&y.nextPageStart?h=y.nextPageStart:(r=!0,o={data:n,pagination:y})}return o}fetchAndFormatDir(i,a,h,n="",r="",o=[]){const p=r?`?page=${r}`:"",y=`projects/${i}/repos/${a}/files/${n}${p}`;return this.request(y).then(T=>{var Q;const ee=v(T);return((Q=T.pagination)==null?void 0:Q.nextPageStart)&&r?this.fetchAndFormatDir(i,a,h,n,String(parseInt(r)+1),o.concat(ee.data)):{data:o.concat(ee.data)}})}dir({organization_name:i,api_id:a,full_name:h,branch:n,filepath:r=""}){return this.fetchAndFormatDir(i,a,n,r,"",[])}read({organization_name:i,api_id:a,branch:h,filepath:n=""}){return this.request(`projects/${i}/repos/${a}/browse/${n}`).then(r=>({data:r.data.lines.map(p=>p.text).join(`
`),path:n}))}addDeployKey(i,a,h,n){return this.request(`rest/keys/latest/projects/${n}/repos/${i}/ssh`,{method:"POST",payload:{key:{text:a.public_key,label:"Netlify Deploy Key"},permission:"REPO_READ"}}).then(()=>a)}addWebhook({api_id:i,site:a,organization_name:h}){const n=`projects/${h}/repos/${i}/webhooks`;return this.request(n).then(r=>{if(r.data==="Forbidden")return Promise.reject(new Error("We couldn\u2019t set up continuous deployment for this repository. This typically happens when you don\u2019t have admin rights to the repository."));const o=r.data.values.find(y=>y.url===a.deploy_hook),p=["repo:refs_changed","pr:opened","pr:from_ref_updated","pr:modified","pr:merged","pr:comment:added","pr:comment:edited","pr:comment:deleted"];return o&&p.sort().toString()!==o.events.sort().toString()?this.request(`${n}/${o.uuid}`,{method:"PUT",payload:{description:"Netlify Deploy Hook",url:a.deploy_hook,active:!0,events:p}}).then(()=>a):o?a:this.request(n,{method:"POST",payload:{description:"Netlify Deploy Hook",url:a.deploy_hook,active:!0,events:p}}).then(()=>a)})}}var G=l(63851),ie=l(83081);const de="https://api.github.com";function le(u){return u}function ae(u){return{id:u.id,api_id:u.full_name,full_name:u.full_name,name:u.name,description:u.description,private:u.private,default_branch:u.default_branch,owner_type:u.owner.type,language:u.language,updated_at:u.updated_at}}function he(u){return u.map(ae)}function Ie(u){return he(u.items)}function Pe(u){return{id:u.id,api_id:u.login,login:u.login,full_name:u.full_name,avatar:u.avatar_url}}function Re(u){return u.map(Pe)}function Me(u){return{login:u.login,full_name:u.login,name:u.name,avatar:u.avatar_url}}class Ae{constructor(i,a){this.token=i,this.root=(a||de).replace(/\/$/,"")}headers(i={}){const a=new Headers({"Content-Type":"application/json",...i});return this.token&&a.set("Authorization",`token ${this.token}`),a}parseJsonResponse(i,a){return i.json().then(h=>{if(!i.ok)return Promise.reject(h);const n=(0,ie.ot)(i);return{data:a(h),pagination:n}})}request(i,a={}){const h=this.headers(a.headers||{});return fetch(this.root+i,{...a,headers:h}).then(n=>{var r,o;return(o=(r=n.headers)==null?void 0:r.get("Content-Type"))!=null&&o.match(/json/)?this.parseJsonResponse(n,a.format||le):n.text().then(p=>({data:p}))})}user(){return this.request("/user",{format:Me})}repos({organization:i,page:a,per_page:h}){let n=i?`/orgs/${i}/repos`:"/user/repos";return n+=`?page=${a}&per_page=${h}`,this.request(n,{format:he})}repo(i){return this.request(`/repos/${i}`,{format:ae})}searchRepos({search:i,organization:a}){let h=`/search/repositories?q=${(0,S.cv)(i)}`;return a?(h+=`+user:${a}+fork:true`,this.request(h,{format:Ie})):this.user().then(n=>(h+=`+user:${n.data.login}+fork:true`,this.request(h,{format:Ie})))}branches({api_id:i,page:a=1}){return this.request(`/repos/${i}/branches?page=${a}&per_page=100`).then(({data:h,pagination:n})=>({data:h.map(r=>r.name),pagination:n}))}organizations(){return this.request("/user/orgs?page=1&per_page=100",{format:Re})}dir({full_name:i,branch:a,filepath:h=""}){let n=`/repos/${i}/contents/${h}`;return a&&(n+=`?ref=${a}`),this.request(n)}read({full_name:i,branch:a="",filepath:h=""}){const n={Accept:"application/vnd.github.VERSION.raw"};let r=`/repos/${i}/contents/${h}`;return a&&(r+=`?ref=${a}`),this.request(r,{headers:n}).then(o=>({data:o.data,path:h}))}addDeployKey(i,a,h){const n={title:"Netlify Deploy Key",key:a.public_key,read_only:h};return this.request(`/repos/${i}/keys`,{method:"POST",body:JSON.stringify(n)}).then(()=>a)}addWebhook({api_id:i,site:a}){const h={name:"web",active:!0,events:["delete","push","pull_request","create","issue_comment","pull_request_review","pull_request_review_comment"],config:{url:a.deploy_hook,content_type:"json"}};return this.request(`/repos/${i}/hooks`,{method:"POST",body:JSON.stringify(h)}).then(()=>a).catch(n=>n.errors&&n.errors[0]&&n.errors[0].message&&n.errors[0].message.match(/already/)?a:Promise.reject(n))}createRepo(i){const a={name:i.name,description:i.description,homepage:i.url,private:!!i.private};return this.request("/user/repos",{method:"POST",body:JSON.stringify(a)}).then(h=>ae(h.data)).catch(h=>{const n=h.errors&&h.errors[0]&&/already exists/.test(h.errors[0].message)?"Repository name already exists on this account":h.message||"Repository creation failed";throw new G.Z(n)})}}const Ce=u=>i=>({id:i.id,api_id:i.full_name,full_name:i.full_name,name:i.name,description:i.description,private:i.private,installation_id:u,default_branch:i.default_branch,owner_type:i.owner.type,language:i.language,updated_at:i.updated_at}),Le=u=>i=>i.repositories.map(Ce(u)),Oe=(u,i)=>{const a=new RegExp(u,"i");return h=>n=>n.repositories.reduce((r,o)=>(a.test(o.full_name)&&r.push(Ce(h)(o)),r),i)},Ne=u=>{const i=u.account;return{id:u.id,api_id:i.login,login:i.login,full_name:i.login,avatar:i.avatar_url,installation_id:u.id,target_type:u.target_type,repository_selection:u.repository_selection}},E=u=>u.installations.map(Ne),ue=(u,i)=>{const a=u.full_name.toUpperCase(),h=i.full_name.toUpperCase();return a<h?-1:a>h?1:0},ke=()=>new Date().getTime();class Ue{constructor(i,a){var h=this;this.request=(n,r)=>this.github.request(n,r),this.fetchAllInstallations=function(){let{data:n=[],page:r=1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return h.installations(r).then(o=>{let{data:p,pagination:y}=o;const T=y==null?void 0:y.next;return T?h.fetchAllInstallations({data:n.concat(p),page:T}):{data:n.concat(p)}})},this.installations=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;return h.request(`/user/installations?page=${n}&per_page=100&v=${ke()}`,{headers:{Accept:"application/vnd.github.machine-man-preview+json"},format:E}).catch(r=>({data:[],pagination:{}}))},this.findInstallation=(n,r)=>this.fetchAllInstallations().then(o=>o.data).then(o=>o.find(p=>n===p.login)||r&&o.find(p=>p.target_type==="Organization")),this.findInstallationId=n=>{let{login:r,installationId:o}=n;return o?Promise.resolve(o):this.findInstallation(r).then(p=>p&&p.id)},this.findInstallationRepos=n=>{let{installationId:r,page:o,per_page:p,format:y}=n;return r?this.request(`/user/installations/${r}/repositories?page=${o}&per_page=${p}&v=${ke()}`,{headers:{Accept:"application/vnd.github.machine-man-preview+json"},format:y(r)}).catch(T=>({data:[],pagination:{}})):Promise.resolve({data:[],pagination:{}})},this.user=()=>this.github.user().then(n=>{let{data:r}=n;return this.findInstallation(r.login,!0).then(o=>({data:{...r,installation_id:o&&o.login===r.login&&o.id,installation:o}}))}),this.organizations=()=>this.fetchAllInstallations().then(n=>({data:n.data.filter(r=>r.target_type==="Organization"),pagination:{}})),this.repos=n=>{let{organization:r,page:o,per_page:p,installationId:y,gitUser:T,format:Q=Le}=n;return this.findInstallationId({login:r||T.get("login"),installationId:y}).then(ee=>this.findInstallationRepos({installationId:ee,page:o,per_page:p,format:Q}))},this.searchRepos=n=>{let{search:r,...o}=n;if(!r)return this.repos(...o);const p=[],y={...o,per_page:100,format:Oe(r,p)};return this.repos({...y,page:1}).then(T=>{let{pagination:Q}=T;const ee=[],ce=(Q==null?void 0:Q.last)||1;for(let fe=2;fe<=ce;fe++)ee.push(this.repos({...y,page:fe}));return Promise.all(ee)}).then(T=>({data:p.sort(ue),pagination:{}}))},this.repo=n=>this.github.repo(n),this.createRepo=n=>n.template?this.github.createRepo(n):this.user().then(r=>{const{installation_id:o,repository_selection:p}=r.data;if(p!=="all")throw new G.Z("Can't create a repo for the current app installation.");return this.request("/user/repos",{method:"POST",body:JSON.stringify({name:n.name,description:n.description,homepage:n.url})}).then(y=>Ce(o)(y.data))}),this.dir=n=>{let{full_name:r,branch:o,filepath:p}=n;return this.github.dir({full_name:r,branch:o,filepath:p})},this.read=n=>{let{full_name:r,branch:o,filepath:p}=n;return this.github.read({full_name:r,branch:o,filepath:p})},this.branches=n=>{let{api_id:r,page:o}=n;return this.github.branches({api_id:r,page:o})},this.addDeployKey=(n,r,o)=>Promise.resolve(r),this.addWebhook=n=>{let{site:r}=n;return Promise.resolve(r)},this.github=new Ae(i,a)}}const He="https://gitlab.com/api/v4";function Ze(u){return u}function We(u){return{id:u.id,api_id:u.id,full_name:u.path_with_namespace,name:u.name,description:u.description,default_branch:u.default_branch,private:u.visibility==="private",updated_at:u.updated_at}}function C(u){return u.map(We)}function Y(u){return{id:String(u.id),api_id:String(u.id),login:u.name,full_name:u.full_name,avatar:u.avatar_url}}function re(u){return u.map(Y)}function X(u){return{login:u.username,full_name:u.username,name:u.name,avatar:u.avatar_url}}class pe{constructor(i,a){this.token=i,this.root=a||He}headers(i={}){return{"Content-Type":"application/json",...this.token?{Authorization:`Bearer ${this.token}`}:{},...i}}parseJsonResponse(i,a){return i.json().then(h=>{if(!i.ok)return Promise.reject(h);const n=(0,ie.ot)(i);return{data:a(h),pagination:n}})}request(i,a={}){const h=this.headers(a.headers||{});return fetch(this.root+i,{...a,headers:h}).then(n=>{var r,o;return(o=(r=n==null?void 0:n.headers)==null?void 0:r.get("Content-Type"))!=null&&o.match(/json/)?this.parseJsonResponse(n,a.format||Ze):n.text().then(p=>({data:p}))})}user(){return this.request("/user",{format:X})}repos({organization:i,page:a,per_page:h,search:n,scopeCurrentUser:r=!0}){let o=i?`/groups/${i}/projects?`:"/projects?min_access_level=40&";return o+=`page=${a}&per_page=${h}`,n&&(o+=`&search=${(0,S.cv)(n)}`),r&&!i?this.user().then(p=>{const y=`/users/${p.data.login}${o}`;return this.request(y,{format:C})}):this.request(o,{format:C})}repo(i){return this.request(`/projects/${(0,S.cv)(i)}`,{format:We})}searchRepos(i){return this.repos(i)}branches({api_id:i,page:a=1}){return this.request(`/projects/${(0,S.cv)(i)}/repository/branches?per_page=100&page=${a}`).then(({data:h,pagination:n})=>({data:h.map(r=>r.name),pagination:n}))}organizations({per_page:i=100,prefetchedData:a=[],page:h=1}={}){return this.request(`/groups?per_page=${i}&page=${h}`,{format:re}).then(({data:n,pagination:r})=>{const o=r==null?void 0:r.next,p=a.concat(n);return o?this.organizations({per_page:i,prefetchedData:p,page:o}):{data:p,pagination:r}})}dir({full_name:i,branch:a,filepath:h=""}){let n=`/projects/${(0,S.cv)(i)}/repository/tree?per_page=100`,r="";const o=[];return a&&o.push(`ref=${a}`),h&&(o.push(`path=${h}`),r=h+"/"),o&&(n+=`&${o.join("&")}`),this.request(n).then(p=>({data:p.data.map(y=>({path:r+y.name}))}))}read({full_name:i,branch:a,filepath:h=""}){let n;return new RegExp(/^.*\.[^\\]+$/).test(h)?(n=`/projects/${(0,S.cv)(i)}/repository/files`,h&&(n+=`/${(0,S.cv)(h)}`),n+=`?ref=${a}`):(n=`/projects/${(0,S.cv)(i)}/repository/tree?path=${h}`,n+=`&ref=${a}`),this.request(n).then(o=>{if(o.data.length){const p=o.data.find(y=>(y==null?void 0:y.type)==="tree");return{data:[{path:p==null?void 0:p.path,type:"dir"}],path:h}}return{data:window.atob(o.data.content),path:h}})}addDeployKey(i,a,h){const n=`/projects/${(0,S.cv)(i)}/deploy_keys`,r={title:"Netlify Deploy Key",key:a.public_key,can_push:!h};return this.request(n,{method:"POST",body:JSON.stringify(r)}).then(new Promise(o=>{setTimeout(()=>{o(a)},1e4)})).then(()=>a)}addWebhook({api_id:i,site:a}){const h=`/projects/${(0,S.cv)(i)}/hooks`,n={url:a.deploy_hook,push_events:!0,merge_requests_events:!0,note_events:!0,enable_ssl_verification:!0};return this.request(h,{method:"POST",body:JSON.stringify(n)}).then(()=>a).catch(function(r){return Promise.reject(r)})}checkErrorForInvalidToken(i){if(i.error==="invalid_token")return{code:401,message:"Your access token has expired. Please reconnect to GitLab to continue."}}createRepo(i){const a={name:i.name,description:i.description};return i.private&&(a.visibility="private"),this.request("/projects",{method:"POST",body:JSON.stringify(a)}).then(h=>We(h.data)).catch(h=>{const n=this.checkErrorForInvalidToken(h);if(n)throw new G.Z(n);const r=h.message&&/taken/.test(String(h.message.name))?"Repository name already exists on this account":"Repository creation failed";throw new G.Z(r)})}}const _e={github:Ae,github_app:Ue,github_enterprise:Ue,gitlab:pe,gitlab_self_hosted:pe,bitbucket:m,bitbucket_self_hosted:W,azure_devops:c};function Ee(u){return{"github.com":k.Lz.github,"gitlab.com":k.Lz.gitlab,"bitbucket.org":k.Lz.bitbucket,"dev.azure.com":k.Lz.azure_devops}[u]}function we(u){const i=(0,d.oI)(u),a=(0,d.Gu)(u),h=(0,d.qq)(u),n=(0,d.HN)(u);return qe(i,a,h,n)}function qe(u,i,a,h){if(u){const n=_e[u];if(n){const r=new n(i,a,h);return r.provider=u,r}}}function De(u,i){return{github:`https://github.com/${i}`,gitlab:`https://gitlab.com/${i}`,bitbucket:`https://bitbucket.org/${i}`,azure_devops:void 0}[u]}},17749:(Te,se,l)=>{l.d(se,{q:()=>S});var d=l(40917);function k(){}class S{constructor({appId:q,onAppInstall:I,enterpriseUrl:Z=""}){this.messageHandler=B=>{const z=B&&B.data;if(/^installation:ready:/.test(z)){const[j,w,R]=z.match(/^installation:ready:(\d+):([\w-]+)$/);this.onAppInstall({installationId:Number(w),login:R}),this.close()}},this.open=()=>{window.addEventListener("message",this.messageHandler,!1),(0,d.xw)({provider:this.provider,url:this.url})},this.close=()=>{this.cleanup()},this.cleanup=()=>{window.removeEventListener("message",this.messageHandler,!1),(0,d.on)()},this.appId=q||"netlify",this.onAppInstall=I||k,this.url=Z?`${Z.replace(/\/$/,"")}/github-apps/netlify/installations/new`:`https://github.com/apps/${this.appId}/installations/new`,this.provider=Z?"github_enterprise":"github_app"}}},22616:(Te,se,l)=>{l.d(se,{ZP:()=>J,yl:()=>B});var d=l(5780),k=l.n(d),S=l(75033),M=l.n(S);const q=()=>l.e(9689).then(l.t.bind(l,92133,23)),Z={listFrameworks:async function(_){return(await q()).listFrameworks(_)}},B=["netlify.toml","package.json",".nvmrc",".node_version","netlify","functions",".lfsconfig","Gemfile"],z="dist/",j="v16.19.1",w={"jekyll with no gemfile":`It looks like this is a **Jekyll** site, but you don't have a **Gemfile**.
This will most likely lead to a broken build.
Check out our [Migrating your Jekyll site to Netlify](https://www.netlify.com/blog/2017/05/11/migrating-your-jekyll-site-to-netlify/)
guide to fix this issue before deploying your site.`,"jekyll not in gemfile":`It looks like this is a **Jekyll** site, but your **Gemfile** doesn\u2019t list
Jekyll as a dependency. This will most likely lead to a broken build.
Check out our [Migrating your Jekyll site to Netlify](https://www.netlify.com/blog/2017/05/11/migrating-your-jekyll-site-to-netlify/)
guide to fix this issue before deploying your site.`,"error parsing package.json":`You have a malformed package.json in your folder. This will most likely lead to a
broken build when attempting to install your npm dependencies.`,"repository uses large media":`**This repository uses Netlify Large Media**

Repository files tracked by the Large Media service are stored with the original site. These files cannot be accessed in clones or forks. Contact the original repository owner for possible alternatives.`},F=[(_,m)=>{if(m["package.json"])try{JSON.parse(m["package.json"])}catch{return w["error parsing package.json"]}},(_,m)=>{if(_.includes("_config.yml")&&!(_.includes("_config.yml")&&m["package.json"]&&m["package.json"].match(/hexo/))){if(!m.Gemfile)return w["jekyll with no gemfile"];if(!m.Gemfile.match(/('jekyll'|"jekyll"|'github-pages'|"github-pages")/))return w["jekyll not in gemfile"]}},(_,m,A)=>{if(!m[".lfsconfig"]||!A)return;if(/\.netlify\/large-media/.test(m[".lfsconfig"]))return w["repository uses large media"]}];function e(_=[],m={},A){for(const N in F){const H=F[N](_,m,A);if(H)return H}}const t=({plugins:_=[],context:m={}})=>{const A=_;return Object.keys(m).forEach(N=>{m[N].plugins&&A.push(...m[N].plugins)}),[...new Set(A.map(N=>N.package))]},s=_=>{var m,A;if(!_)return{};const N={};let H;try{H=M().parse(_)}catch(oe){return k().notify(oe,te=>{te.context="getNetlifyTomlSettings => TOML.parse",te.severity="info"}),N}H!=null&&H.build&&(N.cmd=H.build.command,N.dir=H.build.publish),N.functions_dir=((m=H==null?void 0:H.build)==null?void 0:m.functions)||((A=H==null?void 0:H.functions)==null?void 0:A.directory),H!=null&&H.template&&(N.template=H.template);const K=t(H);return K.length&&(N.plugins_installed=K),N},c=(_,m)=>{var A;if(!m["package.json"])return{};let N;try{N=JSON.parse(m["package.json"])}catch{return{}}const H=_.includes("yarn.lock")?"yarn":"npm run";return(A=N==null?void 0:N.scripts)!=null&&A.build?{cmd:`${H} build`}:{}},b=(_,m)=>{var A;const N=oe=>{const te=oe.startsWith("./")?oe.slice(2):oe;return _.includes(te)},H=((A=m[".nvmrc"])==null?void 0:A.trim())||j;let K;try{K=m["package.json"]?JSON.parse(m["package.json"]):{}}catch{K={}}return{pathExists:N,packageJson:K,nodeVersion:H}},O=async(_,m)=>{try{const A=b(_,m),N=await Z.listFrameworks(A),H={};if(N.length){const{build:K,id:oe,name:te,plugins:ne}=N[0];H.cmd=K.commands[0],H.dir=K.directory,H.framework=oe,H.frameworkName=te,H.plugins_recommended=ne}return H}catch(A){throw new Error(`Error getting framework information: ${A}`)}};function P(_){const m=_.netlify,A=_.functions;if((!m||!Array.isArray(m))&&(!A||!Array.isArray(A)))return null;if(m){for(const N of m)if(N.path==="netlify/functions"&&N.type==="dir")return{functions_dir:N.path};if(!A)return null}return{functions_dir:"functions"}}const $=_=>{const m={},A=P(_);return A||m},U=(_,m,A,N)=>{const H=[_,m,A,N],K={cmd:void 0,dir:void 0,template:void 0,functions_dir:void 0,plugins_installed:void 0,plugins_recommended:void 0,framework:void 0,frameworkName:void 0};return H.forEach(oe=>{oe&&Object.keys(oe).forEach(te=>{K[te]=K[te]||oe[te]})}),!K.dir&&K.cmd&&(K.dir=z),K},V=(_=[],m=[],A=[])=>m.reduce((N,H)=>_.includes(H)&&!A.includes(H)?N:[...N,{package:H}],[]),D=async(_=[],m={})=>{const A=s(m["netlify.toml"]),N=c(_,m),H=await O(_,m),K=$(m),oe=U(A,N,H,K),te=["@netlify/plugin-nextjs"];return oe.plugins=V(A==null?void 0:A.plugins_installed,H==null?void 0:H.plugins_recommended,te),oe},J=async(_,m,A)=>{const N=e(_,m,A);return{settings:await D(_,m),warning:N}}},83360:(Te,se,l)=>{l.d(se,{R:()=>k});var d=l(18228);class k extends d.Wd{constructor(M,q){super(),this.git=M,this.details=q,this.fileCache=new Map,this.dirCache=new Map,this.pending=new Map}changeBranch(M){this.details.branch=M,this.fileCache=new Map,this.dirCache=new Map,this.pending=new Map}getEnvironment(){return"browser"}isAbsolute(M){return M.startsWith("/")}resolve(...M){const q=this.join(...M);return this.isAbsolute(q)?q:this.join(this.cwd,q)}async fileExists(M){try{return this.readFile(M),!0}catch{return!1}}async readDir(M,q){const I=this.resolve(M).replace(/^\//,""),Z=this.dirCache.get(I);let B;if(Z)B=Z;else{const z=this.pending.get(I);if(z)B=await Promise.resolve(z);else{const j=this.git.dir({...this.details,filepath:I}).then(w=>w.data);this.pending.set(I,j),B=await j,this.dirCache.set(I,B),this.pending.delete(I)}}return q?B.reduce((z,j)=>({...z,[j.name]:j.type==="dir"?"directory":"file"}),{}):B.map(({name:z})=>z)}async readFile(M){const q=this.resolve(M).replace(/^\//,""),I=this.fileCache.get(q);if(I)return I;const Z=this.pending.get(q);if(Z)return await Promise.resolve(Z);const B=this.git.read({...this.details,filepath:q}).then(j=>j.data);this.pending.set(q,B);const z=await B;return this.fileCache.set(q,z),this.pending.delete(q),z}}},16608:(Te,se,l)=>{l.d(se,{u:()=>z});var d=l(40917),k=l(32587);function S(j){console.error(j)}const M="/build/logs",q="/function/logs",I="/edge-function/logs";class Z{constructor(w){switch(w.resource){case k.Z.BUILD:this._initBuildLog(w);break;case k.Z.FUNCTION:this._initFunctionLog(w);break;case k.Z.EDGE_FUNCTION:this._initEdgeFunctionLog(w);break;default:throw new Error("unknown log type")}}_initBuildLog(w){this.path=M,this.subscribeMsg={deploy_id:w.deployId,site_id:w.siteId}}_initFunctionLog(w){this.path=q,this.subscribeMsg={account_id:w.awsAccountId,function_id:w.functionId,site_id:w.siteId,from:w.fromDatetime,to:w.toDatetime}}_initEdgeFunctionLog(w){this.path=I,this.subscribeMsg={deploy_id:w.deployId,site_id:w.siteId,since:new Date(Date.now()-5*60*1e3).toISOString(),use_v2:w.useV2}}async _getAccessControlToken(){return(0,d.z9)()?(0,d.$f)().then(w=>{this.subscribeMsg&&w&&(this.subscribeMsg.access_token=w)},w=>{console.error(w)}):Promise.resolve()}listen(w,R=S){const L=`wss://socketeer.services.netlify.com${this.path}`;this.ws=new WebSocket(L),this.ws.addEventListener("open",()=>{this._getAccessControlToken().then(()=>{this.ws.send(JSON.stringify(this.subscribeMsg))}).catch(x=>{console.error(x)})}),this.ws.addEventListener("message",({data:x})=>{try{const{ts:F,message:e,type:t,request_id:s,level:c,request_path:b,function:O,section:P}=JSON.parse(x);if(t==="start")return;w({ts:F,type:t,log:e,requestId:s,level:c,requestPath:b,functionName:O,...P&&{section:P}})}catch(F){R(F)}}),this.ws.addEventListener("error",R)}close(){!this.ws||this.ws.readyState===WebSocket.CLOSED||(this.ws.close(),this.ws=null)}}const B={socketeer:Z};function z(j){const w=B[j.type];return w&&new w(j)}},32587:(Te,se,l)=>{l.d(se,{Z:()=>k});const k={BUILD:"build",FUNCTION:"function",EDGE_FUNCTION:"edgeFunction"}},21805:(Te,se,l)=>{l.d(se,{EN:()=>B,TH:()=>q,hZ:()=>d,iJ:()=>S,nU:()=>k,oF:()=>Z,tw:()=>z});const d="Owner",k="Collaborator",S="Controller",M="Git Contributor",q="Reviewer",I=(j,w)=>{const R=j.find(L=>L.role===w);return R?R.counts.total:0},Z=({memberRoles:j,excludeActive:w=!1})=>j.reduce((R,L)=>{var x;return L.billable?((x=L.counts)==null?void 0:x.active)!==void 0?w?R:R+L.counts.active:R+L.counts.total:R},0),B=j=>I(j,q),z=j=>{var w;return(w=j.find(R=>R.role===M))==null?void 0:w.counts}},13332:(Te,se,l)=>{l.d(se,{Z:()=>x});var d=l(63851),k=l(82214),S=l(26527),M=l(53562),q=l(21805),I=l(83081);const Z="https://api.netlify.com",B="/api/v1",z="/api/experiments",j="netlify.app",w=15,R=["headers","parseJsonResponse","request","postRequest"],L=`We\u2019re having some trouble connecting you to Netlify.

This error may be caused by an ad blocker or browser extension. You can try disabling blocking on this page or running in incognito`;class x{constructor(e){return this.token=e.get("accessToken"),this.apiBase=e.get("apiBase"),this.root=e.get("clientApiBase")||e.get("apiBase")||Z,this.mockRoot=e.get("mockApiBase"),this.siteDomain=e.get("siteDomain")||j,this.siteId=e.get("siteId"),new Proxy(this,{get(t,s,...c){if(typeof t[s]=="function"&&!R.includes(s.toString())){const b=Reflect.get(t,s,...c),O=s.toString();return function(...$){const U=(0,M.I7)(`api-${O}-start`),V=b.apply(t,$);return V.then?new Promise((D,g)=>{V.then(J=>{const _=(0,M.I7)(`api-${O}-end`,{rejected:!1});return(0,M.KT)(`api-${O}-complete`,U,_),D(J)}).catch((...J)=>{const _=(0,M.I7)(`api-${O}-end`,{rejected:!0});return(0,M.KT)(`api-${O}-complete`,U,_),g(...J)})}):V}}return Reflect.get(t,s,...c)}})}headers(e={},t,s){const c={};return(this.token||s)&&!t&&(c.Authorization=`Bearer ${s||this.token}`),{"Content-Type":"application/json",...c,...e}}parseJsonResponse(e){let t=!1;return e.json().then(s=>(t=!0,e.ok?{data:s,pagination:(0,I.ot)(e)}:Promise.reject(s))).catch(s=>t?Promise.reject(s):Promise.reject({status:e.status}))}async request(e,t={}){const s=!t.forceUseApiBase;let c;t.forceUseApiBase&&(0,k.W8)()&&(c=await(0,k.ZD)());const b=this.headers(t.headers||{},s,c);b["Content-Type"]==="delete"&&delete b["Content-Type"];let O=t.forceUseApiBase&&this.apiBase?this.apiBase:this.root;t.retryWithMockServer&&this.mockRoot&&(O=this.mockRoot);let P=t.noPrefix?O+e:O+(t.prefix||B)+e;const $={};return s&&($.credentials="include"),fetch(P,{...$,...t,headers:b}).then(U=>{if(t.raw&&U.ok)return U.arrayBuffer();const V=U.headers.get("Content-Type");if(V&&V.match(/json/))return this.parseJsonResponse(U);const D=V&&V.match(/(text|javascript|xml|svg)/i)?"text":"arrayBuffer";return U[D]().then(g=>U.ok?{data:g}:Promise.reject(U))}).catch(U=>{let V;if(/Failed to fetch/.test(U))V=new d.Z(L);else{const{status:D,code:g,...J}=U;V=new d.Z({code:D||g,...J})}return Promise.reject(V)})}postRequest(e,t){const s={method:"POST"};return t&&(s.body=t),this.request(e,s)}enableAnalytics(e){return this.request(`/sites/${e}/analytics`,{method:"POST"})}deleteAnalytics(e,t){return this.request(`/sites/${e}/analytics/${t}`,{method:"DELETE"})}site(e){return this.request(`/sites/${e}.${this.siteDomain}`)}siteFirewallRuleSet(e){return this.request(`/sites/${e}/firewall_rule_set`)}updateSiteFirewallRuleSet(e,t){return this.request(`/sites/${e}/firewall_rule_set`,{method:"PUT",body:JSON.stringify(t)})}deleteSiteFirewallRuleSet(e){return this.request(`/sites/${e}/firewall_rule_set`,{method:"DELETE"})}unlinkSiteRepository(e){return this.request(`/sites/${e}/unlink_repo`,{method:"PUT"})}siteById(e){return this.request(`/sites/${e}`)}sites({page:e,perPage:t,searchTerm:s,searchGlobally:c,sortBy:b,accountSlug:O,token:P}){let $="";return!c&&O&&($+=`/${O}`),$+=`/sites?filter=all&sort_by=${b||"updated_at"}&page=${e||1}&per_page=${t||w}`,s&&($+=`&name=${s}`),P&&($+=`&token=${P}`),$+="&include_favorites=true",this.request($)}siteSnippets(e){return this.request(`/sites/${e}/snippets`)}siteSnippetRemove(e,t){return this.request(`/sites/${e}/snippets/${t}`,{method:"DELETE"})}siteSnippetAdd(e,t){return this.postRequest(`/sites/${e}/snippets`,JSON.stringify(t))}siteBuildHooks(e){return this.request(`/sites/${e}/build_hooks`)}addBuildHook(e,t){return this.request(`/sites/${e}/build_hooks`,{method:"POST",body:JSON.stringify(t)})}removeBuildHook(e,t){return this.request(`/sites/${e}/build_hooks/${t}`,{method:"DELETE"})}branches(e){return this.request(`/sites/${e}/deployed-branches`)}getEnvVars({accountId:e="",siteId:t="",scope:s="all",context:c="all",merge:b=!0}){const O=[t&&`site_id=${t}`,`scope=${s}`,`context=${c}`,b&&"level=all"].filter(Boolean).join("&");return this.request(`/accounts/${e}/env?${O}`)}createEnvVars({accountId:e="",siteId:t="",envVars:s=[]}){const c=[t&&`site_id=${t}`,"client=ui"].filter(Boolean).join("&");return this.request(`/accounts/${e}/env?${c}`,{method:"POST",body:JSON.stringify(s)})}updateEnvVar({accountId:e="",siteId:t="",oldKey:s="",newKey:c="",is_secret:b=!1,scopes:O=[],values:P=[]}){const $=[t&&`site_id=${t}`,"client=ui"].filter(Boolean).join("&");return this.request(`/accounts/${e}/env/${s}?${$}`,{method:"PUT",body:JSON.stringify({key:c,is_secret:b,scopes:O,values:P})})}setEnvVarValue({accountId:e="",siteId:t="",key:s="",context:c="",context_parameter:b,value:O=""}){const P=[t&&`site_id=${t}`,"client=ui"].filter(Boolean).join("&");return this.request(`/accounts/${e}/env/${s}?${P}`,{method:"PATCH",body:JSON.stringify({context:c,context_parameter:b,value:O})})}deleteEnvVar({accountId:e="",siteId:t="",key:s="",id:c=""}){const b=[t&&`site_id=${t}`,"client=ui"].filter(Boolean).join("&");return this.request(`/accounts/${e}/env/${s}${c?`/value/${c}`:""}?${b}`,{method:"DELETE"})}deploy(e){return this.request(`/deploys/${e}`)}deploys(e,{page:t,perPage:s,filter:c,state:b,minimal:O,from:P,to:$}){let U=`/sites/${e}/deploys?page=${t||1}&per_page=${s||w}`;if(c)switch(c){case"deploy previews":U+="&deploy-previews=true";break;default:U+=`&branch=${c}`}return b&&(U+=`&state=${b}`),O&&(U+="&minimal=true"),P&&(U+=`&from=${P}`),$&&(U+=`&to=${$}`),this.request(U)}deployLog(e){return this.request(`/deploys/${e}/log`).then(t=>{var s;return((s=t==null?void 0:t.data)==null?void 0:s.url)&&fetch(t.data.url).then(c=>c.json())})}deploySummary(e){return this.request(`/deploys/${e}/summary`)}deployCommitters(e){return this.request(`/deploys/${e}/committers`,{prefix:z})}fetchPullRequest(e){return this.request(`/cdp/deploys/${e}`)}deployActivity(e){return this.request(`/cdp/deploys/${e}/events`)}inviteCommitter(e,t){return this.request(`/deploys/${e}/invite`,{prefix:z,method:"POST",body:JSON.stringify({committer:t})})}deployPluginRuns(e){return this.request(`/deploys/${e}/plugin_runs`)}buildHooks(e){return this.request(`/sites/${e}/build_hooks`)}publishDeploy(e){const t=`/deploys/${e}/restore`;return this.request(t,{method:"POST"})}triggerDeploy(e,t,s){return this.request(`/sites/${e}/builds`,{method:"POST",body:JSON.stringify({clear_cache:t,template_id:s})})}createDeployKey(){return this.request("/deploy_keys",{method:"POST"})}getDeployKey(e){return this.request(`/deploy_keys/${e}`)}createSite(e={}){const{account_slug:t}=e,s=t?`/${t}/sites`:"/sites";return this.request(s,{method:"POST",body:JSON.stringify(e)})}createDeploy(e,t={}){return this.request(`/sites/${e}/deploys`,{method:"POST",body:JSON.stringify(t)})}siteDeploy(e,t){return this.request(`/sites/${e}/deploys/${t}`)}updateSite(e,t){return this.request(`/sites/${e}`,{method:"PUT",body:JSON.stringify(t)})}deleteSite(e){return this.request(`/sites/${e}`,{method:"DELETE"})}uploadFile(e,t,s,c){const b=`/deploys/${e}/files${t}`,O={"Content-Type":"application/octet-stream"};return c&&(O.Authorization=`Bearer ${c}`),this.request(b,{method:"PUT",body:s,headers:O,forceUseApiBase:!0})}waitForDeploy(e){return new Promise((t,s)=>{const c=()=>{this.deploy(e).then(b=>{var O;if(((O=b.data)==null?void 0:O.state)==="ready")return t(b);setTimeout(c,1e3)}).catch(s)};c()})}waitForSiteDeploy(e){return new Promise((t,s)=>{const c=()=>{this.site(e).then(b=>{var O;if((O=b.data)!=null&&O.deploy_id)return t(b);setTimeout(c,1e3)}).catch(s)};c()})}dnsZones(e,t=1){return this.request(e?`/dns_zones?account_slug=${e}&page=${t}`:`/dns_zones?page=${t}`)}dnsZonePath(e){return`/dns_zones/${e.replace(/\./g,"_")}`}dnsZone(e){return this.request(this.dnsZonePath(e))}createDnsZone(e,t,s={}){return this.request("/dns_zones",{method:"POST",body:JSON.stringify({...s,name:e,account_slug:t})})}enableDnsZoneIPv6(e){const t=this.dnsZonePath(e);return this.request(`${t}/enable-ipv6`,{method:"PUT"})}enableDedicatedDns(e){const t=this.dnsZonePath(e);return this.request(`${t}/expand`,{method:"PUT"})}destroyDnsZone(e){return this.request(this.dnsZonePath(e),{method:"DELETE"})}transferDnsZone(e,{account_id:t,transfer_account_id:s,transfer_user_id:c}){return this.request(`${this.dnsZonePath(e)}/transfer`,{method:"PUT",body:JSON.stringify({account_id:t,transfer_account_id:s,transfer_user_id:c})})}domainsPath(e){return`/domains-next/${e.replace(/\./g,"_")}`}toggleDomainAutoRenew(e,t,s){return this.request(`${this.domainsPath(e)}/auto-renew`,{method:"PUT",body:JSON.stringify({account_id:t,auto_renew:s})})}dnsRecords(e){return this.request(`${this.dnsZonePath(e)}/dns_records`)}dnsRecord(e,t){return this.request(`${this.dnsZonePath(e)}/dns_records/${t}`)}createDnsRecord(e,t){return this.request(`${this.dnsZonePath(e)}/dns_records`,{method:"POST",body:JSON.stringify(t)})}destroyDnsRecord(e,t){return this.request(`${this.dnsZonePath(e)}/dns_records/${t}`,{method:"DELETE"})}deployFiles(e){return this.request(`/deploys/${e}/files`)}deployFile(e,t){return this.request(`/deploys/${e}/files${t}`,{forceUseApiBase:!0,raw:!0,headers:{"Content-Type":"application/vnd.bitballoon.v1.raw"}})}largeMediaAssets(e,{page:t,perPage:s,filter:c}){return this.request(`/large_media_assets/?site_id=${e}&page=${t||1}&per_page=${s||w}${c?`&name=${c}`:""}`)}user(){return this.request("/user")}updateUser(e){return this.request("/user",{method:"PUT",body:JSON.stringify(e)})}updateUserQuestionnaireTelemetry(e){return this.request(`/users/${e.userId}/questionnaire`,{method:"PUT",body:JSON.stringify(e)})}updateUserAvatar(e){const t=new FormData;t.append("file",e);const s={method:"POST",body:t,headers:{"Content-Type":"delete"}};return this.request("/users/avatar",s)}deleteUserAvatar(){return this.request("/users/avatar",{method:"DELETE"})}paymentMethods({provider:e,accountId:t}){return this.request(`/billing/payment_methods${e==="zuora"&&t?`?account_id=${t}`:""}`)}receiptPdf(e){return this.request(`/billing/receipts/${e}`,{raw:!0,headers:{Accept:"application/pdf"}})}getPromo(e){return this.request(`/billing/promo_codes/${e}`)}updateBilling(e){return this.request("/billing",{method:"PUT",body:JSON.stringify(e)})}getSubscriptions(e){return this.request(`/billing/subscriptions?site_id=${e}`)}cancelSubscription(e){return this.request(`/billing/subscriptions/${e}`,{method:"DELETE"})}newSubscription(e){return this.request("/billing/subscriptions",{method:"POST",body:JSON.stringify(e)})}updateSubscription(e,t){return this.request(`/billing/subscriptions/${e}`,{method:"PUT",body:JSON.stringify(t)})}paymentProviderToken({sandbox:e,accountId:t,enterpriseException:s,secure:c}){let b=`/billing/client_token?sandbox=${~~!!e}&legacy=0`;return t&&(b+=`&account_id=${t}`),s&&(b+=`&enterprise_exception=${~~!!s}`),c&&(b+="&token_type=rsa_signature"),this.request(b,{method:"POST"})}braintreeToken(){return this.request("/billing/client_token?legacy=1&sandbox=0",{method:"POST"})}paymentMethod(e){return this.request(`/billing/payment_methods/${e}`)}savePaymentMethod(e){const{customer_id:t,sandbox:s,enterpriseException:c}=e;if(!t)return Promise.reject("Missing customer_id in attributes");let b=`/accounts/payments?customer_id=${t}&gateway=zuora_${s?"sandbox":"production"}`;return c&&(b+=`&enterprise_exception=${~~!!c}`),this.postRequest(b,JSON.stringify(e))}removePaymentMethod(e){return this.request(`/billing/payment_methods/${e}`,{method:"DELETE"})}members(e){return this.request(`/sites/${e}/members`)}inviteMember(e,t){return this.postRequest(`/sites/${e}/members`,JSON.stringify({email:t}))}certificate(e){return this.request(`/sites/${e}/ssl`)}updateSsl(e,t,s){let c=`/sites/${e}/ssl`;return s&&(c+=`/${s}`),this.postRequest(c,JSON.stringify(t))}verifySsl(e){return this.request(`/sites/${e}/ssl/verify_custom_domain`)}removeMember(e,t){return this.request(`/sites/${e}/members/${t}`,{method:"DELETE"})}acceptInvite(e){return this.postRequest(`/invites/${e}/accept`)}hooks(e){return this.request(`/hooks?site_id=${e}`)}hookTypes(e){return this.request(`/hooks/types?site_id=${e}`)}addHook(e){return this.request("/hooks",{method:"POST",body:JSON.stringify(e)})}updateHook(e,t){return this.request(`/hooks/${e}`,{method:"PUT",body:JSON.stringify(t)})}deleteHook(e){return this.request(`/hooks/${e}`,{method:"DELETE"})}enableHook(e){return this.request(`/hooks/${e}/enable`,{method:"POST"})}siteForms(e){const t=`/sites/${e}/forms`;return this.request(t)}siteForm(e){return this.request(`/forms/${e}`)}formSubmissions(e,{formId:t,page:s,perPage:c,filter:b}){let O=t?`/sites/${e}/forms/${t}/submissions?`:`/sites/${e}/submissions?`;return O+=`state=${b||"ham"}&`,O+=`page=${s||1}&per_page=${c||w}`,this.request(O)}markSubmissionAsHam(e,t){return this.request(`/submissions/${t}/ham`,{method:"PUT"})}markSubmissionAsSpam(e,t){return this.request(`/submissions/${t}/spam`,{method:"PUT"})}functions(e,t){let s=`/sites/${e}/functions`;return t&&(s+=`?filter=${encodeURIComponent(t)}`),this.request(s)}fetchEdgeAccessToken(e,t){return this.request("/auth/edge-access",{noPrefix:!0,method:"POST",body:JSON.stringify({site_id:e,domain:t})})}edgeFunctions(e){const t=`/deploys/${e}/edge_functions`;return this.request(t)}authProviders(e){return this.request(`/sites/${e}/authentication_providers`)}createAuthProvider(e,t,s,c){return this.request(`/sites/${e}/authentication_providers`,{method:"POST",body:JSON.stringify({name:t,provider:t,api_id:s,api_secret:c})})}removeAuthProvider(e,t){return this.request(`/sites/${e}/authentication_providers/${t}`,{method:"DELETE"})}setupMultiFactorAuth(){return this.request("/user/multifactor_auth/setup")}enableMultiFactorAuth({otp:e,token:t}){return this.request("/user/multifactor_auth",{method:"POST",body:JSON.stringify({otp:e,token:t})})}disableMultiFactorAuth({otp:e}){return this.request("/user/multifactor_auth",{method:"DELETE",body:JSON.stringify({otp:e})})}verifyLogin({otp:e,token:t}){return this.request("/user/multifactor_auth/verify_login",{method:"POST",body:JSON.stringify({otp:e}),headers:{Authorization:`Bearer ${t}`}})}application(e){return this.request(`/oauth/applications/${e}`)}applications(){return this.request("/oauth/applications")}createApplication(e){return this.request("/oauth/applications",{method:"POST",body:JSON.stringify(e)})}updateApplication(e,t){return this.request(`/oauth/applications/${e}`,{method:"PUT",body:JSON.stringify(t)})}removeApplication(e){return this.request(`/oauth/applications/${e}`,{method:"DELETE"})}verifyUserByToken(e){const[t,s]=e.split("-");return this.request("/auth/verify",{noPrefix:!0,method:"POST",body:JSON.stringify({code_id:t,code:s})})}verifySamlUserByToken(e,t){return this.request("/auth/verify-saml",{noPrefix:!0,method:"POST",body:JSON.stringify({code_id:e,code:t})})}verifyUser(e,t){return this.request(`/users/${e}/confirm_email`,{method:"PUT",body:JSON.stringify({secret:t})})}resetPasswordEmail(e){return this.request("/password_reset",{method:"POST",body:JSON.stringify({email:e})})}resetPassword(e,t,s){const c={token:e,password:t,password_confirmation:s};return this.request("/password_reset",{method:"PUT",body:JSON.stringify(c)})}authorizeApplication(e){return this.request("/oauth/authorize",{noPrefix:!0,body:JSON.stringify({client_id:e.clientID,redirect_uri:e.redirectURI,response_type:e.responseType,scope:e.scope,state:e.state,grant_saml:e.grantSaml}),method:"POST"})}authorizedApplications(e){let t="/oauth/applications/authorized";return e&&(t+=`?administrator_id=${e}`),this.request(t)}revokeAuthorizedApplication(e,t){let s=`/oauth/applications/${e}/revoke`;return t&&(s+=`?administrator_id=${t}`),this.request(s,{method:"DELETE"})}createPersonalToken(e,t,s){const c="/oauth/applications/create_token";return this.postRequest(c,JSON.stringify({name:e,grant_saml:t,administrator_id:s||null}))}ticket(e){return this.request(`/oauth/tickets/${e}`)}authorizeTicket(e,t){let s=`/oauth/tickets/${e}/authorize`;return t&&(s+="?grant_saml=true"),this.request(s,{method:"POST"})}createTemplate(e){return this.postRequest("/templates",JSON.stringify(e))}verifyPubstorm(e){return this.postRequest("/pubstorm/verify",JSON.stringify(e))}claimPubstorm(e){return this.postRequest("/pubstorm/claim",JSON.stringify(e))}requestPubstormRecovery(e){return this.postRequest("/pubstorm/recover",JSON.stringify({email:e}))}deployLogLocation(e){return this.request(`/deploys/${e}/log`)}deployLogAccessCheck(e){return this.request(`/deploys/${e}/check_access`)}lockDeploy(e){return this.postRequest(`/deploys/${e}/lock`)}unlockDeploy(e){return this.postRequest(`/deploys/${e}/unlock`)}retryDeploy(e,t){return this.postRequest(`/deploys/${e}/retry`,JSON.stringify(t||{}))}acceptDeploy(e){return this.postRequest(`/deploys/${e}/accept`)}rejectDeploy(e){return this.postRequest(`/deploys/${e}/reject`)}cancelDeploy(e){return this.postRequest(`/deploys/${e}/cancel`)}deleteDeploy(e){return this.request(`/deploys/${e}`,{method:"DELETE"})}organizations(){return this.request("/organizations")}organization(e){return this.request(`/organizations/${e}`)}organizationAccounts(e){return this.request(`/organizations/${e}/accounts`)}organizationInvoices(e){return this.request(`/organizations/${e}/invoices`)}organizationInvoice(e,t){return this.request(`/organizations/${e}/invoices/${t}`)}organizationReceipts(e){return this.request(`/organizations/${e}/receipts`)}organizationReceipt(e,t){return this.request(`/organizations/${e}/receipts/${t}`,{raw:!0,headers:{Accept:"application/pdf"}})}organizationClientToken(e){return this.request(`/organizations/${e}/client_token`)}organizationSamlConnection(e){return this.request(`/organizations/${e}/workos`)}organizationScimConnection(e){return this.request(`/organizations/${e}/workos_scim`)}organizationCreateAccount(e,t){return this.postRequest("/accounts",JSON.stringify({name:t,organization_id:e}))}organizationSamlDashboard(e){return this.postRequest(`/organizations/${e}/workos`,JSON.stringify({}))}organizationScimDashboard(e){return this.postRequest(`/organizations/${e}/workos_scim`,JSON.stringify({}))}organizationScimStatus(e,t){return this.request(`/organizations/${e}/workos_scim`,{method:"PATCH",body:JSON.stringify({status:t})})}organizationScimMappings(e){return this.request(`/organizations/${e}/directory_sync_entities`)}organizationScimAddMapping(e,t){const{group_id:s,account_id:c,role:b,site_access:O,site_ids:P}=t;return this.request(`/organizations/${e}/directory_sync_entities/${s}/account_role_associations`,{method:"POST",body:JSON.stringify({account_id:c,role:b,site_access:O,site_ids:P})})}organizationScimUpdateMapping(e,t){const{group_id:s,account_id:c,role:b,site_access:O,site_ids:P}=t;return this.request(`/organizations/${e}/directory_sync_entities/${s}/account_role_associations/${c}`,{method:"PATCH",body:JSON.stringify({role:b,site_access:O,site_ids:P})})}organizationScimDeleteMapping(e,t){const{group_id:s,account_id:c}=t;return this.request(`/organizations/${e}/directory_sync_entities/${s}/account_role_associations/${c}`,{method:"DELETE"})}organizationSamlDeleteConnection(e){return this.request(`/organizations/${e}/workos`,{method:"DELETE"})}organizationScimDeleteConnection(e){return this.request(`/organizations/${e}/workos_scim`,{method:"DELETE"})}organizationScimDeleteConnectionKeepingUsers(e){return this.request(`/organizations/${e}/workos_scim/delete_directory_sync`,{method:"DELETE"})}updateOrganization(e,t){return this.request(`/organizations/${e}`,{method:"PUT",body:JSON.stringify(t)})}updateOrganizationLogo(e,t){const s=new FormData;s.append("file",t);const c={method:"POST",body:s,headers:{"Content-Type":"delete"}};return this.request(`/organizations/${e}/logo`,c)}updateOrganizationPaymentMethod(e,t){return this.postRequest(`/organizations/${e}/payments`,JSON.stringify(t))}deleteOrganizationLogo(e){return this.request(`/organizations/${e}/logo`,{method:"DELETE"})}accounts(){return this.request("/accounts")}account(e){return this.request(`/accounts/${e}`)}accountFirewallRuleSet(e){return this.request(`/accounts/${e}/firewall_rule_set`)}updateAccountFirewallRuleSet(e,t){return this.request(`/accounts/${e}/firewall_rule_set`,{method:"PUT",body:JSON.stringify(t)})}accountJwt(e){return this.request(`/accounts/${e}/jwt`)}accountBandwidth(e){return this.request(`/accounts/${e}/bandwidth`)}accountBandwidthRanking(e,t){return this.request(`/accounts/${e}/bandwidth/ranking?limit=${t}`)}accountEdgeFunctionsUsage(e){return this.request(`/accounts/${e}/edge_functions`)}accountCompliance(e){return this.request(`/accounts/${e}/compliance`)}accountCommitters(e,t={}){return t.billingPeriod?this.request(`/accounts/${e}/committers?billing_period=current`):this.request(`/${e}/committers`)}createCommitter(e,t,s){return this.request(`/${e}/committers`,{method:"POST",body:JSON.stringify({build_id:t,member_id:s})})}updateCommitter(e,t,s,c){return this.request(`/${e}/committers/${t}`,{method:"PATCH",body:JSON.stringify({member_id:s,invite_id:c})})}deleteCommitter(e,t){return this.request(`/${e}/committers/${t}`,{method:"DELETE"})}accountTypes(){return this.request("/accounts/types")}createAccount(e){return this.request("/accounts",{method:"POST",body:JSON.stringify(e)})}deleteAccount(e){return this.request(`/accounts/${e}`,{method:"DELETE"})}disableUser(){return this.request("/users/disable",{method:"POST"})}updateAccount(e,t){return this.request(`/accounts/${e}`,{method:"PUT",body:JSON.stringify(t)})}updateAccountLogo(e,t){const s=new FormData;s.append("file",t);const c={method:"POST",body:s,headers:{"Content-Type":"delete"}};return this.request(`/accounts/${e}/logo`,c)}deleteAccountLogo(e){return this.request(`/accounts/${e}/logo`,{method:"DELETE"})}accountBuilds(e,t){return t={page:1,per_page:w,...t},this.request(`/${e}/builds?${(0,S.b4)(t)}`)}accountBuildStatus(e){return this.request(`/${e}/builds/status`)}accountBuildQueueBump(e,t){return this.postRequest(`/${e}/builds/${t}/prioritize`)}accountBuildStatusPerSite(e){return this.request(`/${e}/builds/per_site`)}accountBuildsPerDay(e){return this.request(`/${e}/builds/per_day`)}accountMember(e,t){return this.request(`/${e}/members/${t}`)}accountMembers(e,t={}){const s=[q.hZ,q.nU,q.iJ],{roles:c,...b}=t,P={sort_by:"updated_at","roles[]":(c!=null&&c.length?c:s).join(","),...b};return this.request(`/${e}/members?${(0,S.b4)(P)}`)}accountReviewerMembers(e,t={}){const s={sort_by:"created_at","roles[]":q.TH,...t};return this.request(`/${e}/members?${(0,S.b4)(s)}`)}inviteAccountMember(e,{email:t,role:s,site_ids:c,site_access:b,build_id:O}){return this.postRequest(`/${e}/members`,JSON.stringify({email:t,role:s,site_ids:c,site_access:b,build_id:O}))}removeAccountMember(e,t){return this.request(`/${e}/members/${t}`,{method:"DELETE"})}updateAccountMember(e,t,{role:s,self_invite_state:c,site_access:b,site_ids:O}){return this.request(`/${e}/members/${t}`,{method:"PUT",body:JSON.stringify({role:s,self_invite_state:c,site_access:b,site_ids:O})})}accountReviewers(e){return this.request(`/${e}/reviewers`)}updateAccountReviewer(e,t,{state:s,site_access:c}){return this.request(`/${e}/reviewers/${t}`,{method:"PUT",body:JSON.stringify({state:s,site_access:c})})}promoteAccountReviewer(e,t,{role:s}){return this.request(`/${e}/reviewers/${t}/promote`,{method:"POST",body:JSON.stringify({role:s})})}removeAccountReviewer(e,t){return this.request(`/${e}/reviewers/${t}`,{method:"DELETE"})}accountBillingSummary(e){return this.request(`/${e}/billing`)}accountSubscriptions(e){return this.request(`/${e}/billing/subscriptions`)}accountInvoices(e,t={}){return this.request(`/${e}/billing/invoices?${(0,S.b4)(t)}`)}accountReceipts(e){return this.request(`/${e}/receipts`)}accountReceiptPdf(e,t){return this.request(`/${e}/receipts/${t}`,{raw:!0,headers:{Accept:"application/pdf"}})}accountReceiptHtml(e,t){return this.request(`/${e}/receipts/${t}`,{headers:{Accept:"text/html"}})}transferSite(e,t){return this.postRequest(`/sites/${e}/transfer?account_id=${t}`)}trafficSplits(e){return this.request(`/sites/${e}/traffic_splits`)}trafficSplit(e,t){return this.request(`/sites/${e}/traffic_splits/${t}`)}createTrafficSplit(e,t){return this.postRequest(`/sites/${e}/traffic_splits`,JSON.stringify(t))}updateTrafficSplit(e,t,s){return this.request(`/sites/${e}/traffic_splits/${t}`,{method:"PUT",body:JSON.stringify(s)})}startTrafficSplit(e,t){return this.postRequest(`/sites/${e}/traffic_splits/${t}/publish`)}stopTrafficSplit(e,t){return this.postRequest(`/sites/${e}/traffic_splits/${t}/unpublish`)}teamAudit({page:e,perPage:t,search:s,accountId:c}){return this.request(`/accounts/${c}/audit?page=${e||1}&per_page=${t||w}${s?`&query=${s}`:""}`)}destroyAccessToken(){return this.request("/access_tokens/revoke",{method:"DELETE"})}identity(e,t){return this.request(`/sites/${e}/identity/${t}`)}createIdentity(e,t){return this.postRequest(`/sites/${e}/identity`,JSON.stringify(t))}updateIdentity(e,t,s){return this.request(`/sites/${e}/identity/${t}`,{method:"PUT",body:JSON.stringify(s)})}deleteIdentity(e,t){return this.request(`/sites/${e}/identity/${t}`,{method:"DELETE"})}identityUsers(e,t,{page:s,per_page:c,sort:b,filter:O}){return this.request(`/sites/${e}/identity/${t}/users?page=${s||1}&per_page=${c||w}&sort=${b||"created_at"}${O?`&filter=${O}`:""}`)}identityUser(e,t,s){return this.request(`/sites/${e}/identity/${t}/users/${s}`)}createIdentityUser(e,t,s){return this.postRequest(`/sites/${e}/identity/${t}/users`,JSON.stringify(s))}updateIdentityUser(e,t,s,c){return this.request(`/sites/${e}/identity/${t}/users/${s}`,{method:"PUT",body:JSON.stringify(c)})}deleteIdentityUser(e,t,s){return this.request(`/sites/${e}/identity/${t}/users/${s}`,{method:"DELETE"})}sendIdentityInvites(e,t,s){return this.postRequest(`/sites/${e}/identity/${t}/users/invite`,JSON.stringify(s))}sendIdentityRecovery(e,t,s){return this.postRequest(`/sites/${e}/identity/${t}/users/${s}/recover`)}identityAudit({page:e,perPage:t,search:s,siteId:c,identityId:b}){return this.request(`/sites/${c}/identity/${b}/audit?page=${e||1}&per_page=${t||w}${s?`&query=${s}`:""}`)}getStripeIdentityVerificationSession(e){return this.request(`/identity_verification?code=${e}`)}createStripeIdentityVerificationSession(e){return this.request("/identity_verification",{method:"POST",body:JSON.stringify({code:e})})}services(e){return this.request(`/sites/${e}/service-instances`)}createService(e,t,s={}){return this.postRequest(`/sites/${e}/services/${t}/instances`,JSON.stringify(s))}updateService(e,t,s,c){return this.request(`/sites/${e}/services/${t}/instances/${s}`,{method:"PUT",body:JSON.stringify(c)})}deleteService(e,t,s){return this.request(`/sites/${e}/services/${t}/instances/${s}`,{method:"DELETE"})}deleteForm(e,t){return this.request(`/sites/${e}/forms/${t}`,{method:"DELETE"})}deleteFormSubmission(e,t){return this.request(`/submissions/${t}`,{method:"DELETE"})}claim({id:e,token:t}){const s=e?`/sites/${e}/claim`:"/sites/claim";return this.postRequest(s,JSON.stringify({token:t}))}updateSamlConfig(e,t,s){return this.request(`/saml/${e}/parse-idp-metadata`,{method:"PUT",body:JSON.stringify({url:t,data:s})})}deleteSamlConfig(e){return this.request(`/saml/${e}`,{method:"DELETE"})}getSamlStartUrl(e){return this.request(`/saml/account-lookup?id=${e}`,{method:"GET"})}siteUsage(e){return this.request(`/sites/${e}/usage`)}changeAddonPlan(e,t,s){return this.request(`/usage_records/${e}/change_plan?plan=${t}&site_id=${s}`,{method:"PUT"})}billingPreview(e){return this.request(`/billing/subscriptions/preview?account_id=${e}`)}searchDomain(e,t){return this.request(`/domains-next/search?account_id=${t}&domain=${e}`)}buyDomain(e,t,s){return this.request("/domains-next",{method:"POST",body:JSON.stringify({account_id:t,domain:e,site_id:s})})}dropToken(){return this.request("/drop/token",{method:"POST"})}dropFiles(e,t){return this.request("/drop",{method:"POST",body:JSON.stringify({files:e,token:t})})}dropClaim(e,t){return this.request("/drop/claim",{method:"POST",body:JSON.stringify({site:e,token:t})})}authLink({provider:e}){return this.request(`/auth/link?provider=${e}&site_id=${this.siteId}`,{noPrefix:!0})}authUnlink({provider:e}){return this.request(`/auth/unlink?provider=${e}&site_id=${this.siteId}`,{method:"POST",noPrefix:!0})}updateSelfHostedGitConfig(e,t,s){const c=`/accounts/${e}/${s}_config`;return this.request(c,{method:"PUT",body:JSON.stringify(t)})}deleteSelfHostedGitConfig(e,t){const s=`/accounts/${e}/${t}_config`;return this.request(s,{method:"DELETE"})}logDrains(e){return this.request(`/sites/${e}/log_drains`)}async createLogDrain(e,t={}){try{return await this.postRequest(`/sites/${e}/log_drains`,JSON.stringify(t))}catch(s){throw/^access denied$/i.test(s.message)?new d.Z("You don't have the necessary permissions to create a log drain."):s}}async verifyLogDrain(e,t,s){try{return await this.postRequest(`/sites/${e}/log_drains/${t}/verify`,JSON.stringify({token:s}))}catch(c){throw/^access denied$/i.test(c.message)?new d.Z("You don't have the necessary permissions to verify a log drain."):c}}async updateLogDrain(e,t,s){try{return await this.request(`/sites/${e}/log_drains/${t}`,{method:"PUT",body:JSON.stringify(s)})}catch(c){throw/^access denied$/i.test(c.message)?new d.Z("You don't have the necessary permissions to edit a log drain."):c}}async deleteLogDrain(e,t){try{return await this.request(`/sites/${e}/log_drains/${t}`,{method:"DELETE"})}catch(s){throw/^access denied$/i.test(s.message)?new d.Z("You don't have the necessary permissions to delete a log drain."):s}}slackWorkspace(e){return this.request(`/slack/accounts/${e}`)}deleteSlackWorkspace(e){return this.request(`/slack/accounts/${e}`,{method:"DELETE"})}slackSubscriptions(e){return this.request(`/slack/accounts/${e}/subscriptions`)}slackChannels(e,t){const{limit:s,cursor:c}=t!=null?t:{},b=[s&&`limit=${s}`,c&&`cursor=${c}`].filter(Boolean);return this.request(`/slack/accounts/${e}/channels?${b.join("&")}`)}createSlackSubscription(e,t){return this.request(`/slack/accounts/${e}/subscriptions`,{method:"POST",body:JSON.stringify(t)})}editSlackSubscription(e,t){return this.request(`/slack/accounts/${e}/subscriptions/${t.id}`,{method:"PUT",body:JSON.stringify(t)})}deleteSlackSubscription(e,t){return this.request(`/slack/accounts/${e}/subscriptions/${t}`,{method:"DELETE"})}graphJwt(e){return this.request(`/sites/${e}/jwt`)}}},40917:(Te,se,l)=>{l.d(se,{$f:()=>c,ZP:()=>V,on:()=>$,sV:()=>t,vH:()=>s,xw:()=>P,z9:()=>b});var d=l(5780),k=l.n(d),S=l(34740),M=l(63851),q=l(68854),I=l(88317);const Z="https://api.netlify.com";function B(){try{const{utm_campaign:D="",utm_source:g="",utm_medium:J=""}=window.location.search.substr(1).split("&").reduce((_,m)=>{const[A,N]=m.split("=");return _[A]=N,_},{});return D&&{utm_campaign:D,utm_source:g,utm_medium:J}}catch{return null}}function z(){try{const D=sessionStorage.getItem("nf.utm"),{utm_campaign:g="",utm_source:J="",utm_medium:_=""}=JSON.parse(D||"{}");return g&&{utm_campaign:g,utm_source:J,utm_medium:_}}catch{}}function j(D){(0,q.D9)("nf.utm",JSON.stringify(D))}function w(){const D=[],g=B()||z();if(g){j(g);for(const J in g)D.push(`${J}=${g[J]}`)}return D.join("&")}const R=B();R&&j(R);class L{constructor(g){this.err=g}toString(){return this.err&&this.err.message}}const x={[I.Lz.github_app]:{width:1200,height:800,closeWindow:!1},[I.Lz.github_enterprise]:{width:1200,height:800,closeWindow:!1},[I.Lz.github]:{width:960,height:600,closeWindow:!0},[I.Lz.gitlab]:{width:960,height:600,closeWindow:!0},[I.Lz.gitlab_self_hosted]:{width:960,height:600,closeWindow:!0},[I.Lz.bitbucket]:{width:1024,height:600,closeWindow:!0},[I.Lz.bitbucket_self_hosted]:{width:1024,height:600,closeWindow:!0},[I.Lz.azure_devops]:{width:960,height:600,closeWindow:!0},[I.Lz.email]:{width:500,height:400,closeWindow:!0}};function F(D){const g=x[D]||x.github,J=Math.min(window.screen.width,g.width),_=g.height,m=(window.screen.width-J)/2;return{top:Math.max((window.screen.height-_)/2,0),left:m,width:J,height:_}}function e({url:D,data:g,signup:J},_){return fetch(D,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(g)}).then(m=>m.json()).then(m=>{if(m.state==="success"||m.redirect_uri)_(null,m.data||m);else{const A=m.message;J&&/No user found/.test(A)&&(m.message="An account with this email already exists"),_(new M.Z(m))}}).catch(m=>_(new M.Z(m)))}async function t({access_token:D}){if((await fetch("/access-control/set-auth",{headers:{Authorization:`Bearer ${D}`},credentials:"include"})).status!==200)throw new Error("failed to set-auth for user")}function s(){return document.cookie="_nf-auth-hint=user-likely-authed; Max-Age=-99999999; Path=/; Domain=.netlify.com",document.cookie=`_nf-auth-hint=user-likely-authed; Max-Age=-99999999; Path=/; Domain=${window.location.hostname}`,document.cookie=`_nf-auth-hint=user-likely-authed; Max-Age=-99999999; Path=/; Domain=${window.location.hostname.split(".").slice(1).join(".")}`,t({access_token:"unset"})}async function c(){const D=await fetch("/access-control/generate-access-control-token",{credentials:"include"});if(D.status!==200)throw new Error("failed to access control token for user");const{accessControlToken:g}=await D.json();return g}function b(){return document.cookie.includes("_nf-auth-hint")}let O;function P({provider:D="github",url:g=""}){const{top:J,left:_,width:m,height:A}=F(D);O=window.open(g,"auth",`toolbar=no,location=no,directories=no,status=no,menubar=no,scrollbars=yes,resizable=yes,copyhistory=no,width=${m},height=${A},top=${J},left=${_}`),O&&O.focus()}function $(){O&&O.close()}class U{constructor(g){this.site_id=g.site_id||g.siteId,this.base_url=g.base_url||g.apiBase||Z,this.useAuthWindow=g.useAuthWindow}open({url:g,provider:J},_){this.handshake(J,_),P({provider:J,url:g})}done({provider:g}){x[g].closeWindow&&$()}postMessage(g,J){try{O.postMessage(g,J)}catch(_){k().notify(_,m=>{m.context="netlify-auth \uFE65 postMessage"})}}handshake(g,J){const _=m=>{const{origin:A,data:N}=m;A===this.base_url&&N===`authorizing:${g}`&&(window.removeEventListener("message",_,!1),this.authorize(g,J),this.postMessage(N,A))};window.addEventListener("message",_,!1)}authorize(g,J){const _=m=>{const{origin:A,data:N}=m;if(A===this.base_url){if(N.indexOf(`authorization:${g}:success:`)===0){const H=JSON.parse(N.match(new RegExp(`^authorization:${g}:success:(.+)$`))[1]);window.removeEventListener("message",_,!1),this.done({provider:g}),J(null,H)}if(N.indexOf(`authorization:${g}:error:`)===0){const H=JSON.parse(N.match(new RegExp(`^authorization:${g}:error:(.+)$`))[1]);window.removeEventListener("message",_,!1),this.done({provider:g}),J(new L(H))}}};window.addEventListener("message",_,!1)}getSiteID(){if(this.site_id)return this.site_id;const g=document.location.host.split(":")[0];return g==="localhost"?null:g}authenticate(g,J){const _=this.getSiteID(),m=g.provider,A=!this.useAuthWindow&&g.redirect,N=w(),H=(0,q.St)("tracking_session_id");let K;if(!m)return J(new L({message:"You must specify a provider when calling netlify.authenticate"}));if(!_)return J(new L({message:'You must set a site_id with netlify.configure({site_id: "your-site-id"}) to make authentication work from localhost'}));if(A&&m==="email"&&!g.email)return K=g.signup?"/signup":"/login",K+="/email",N&&(K+="?"+N),S.mW.push(K);if(K=`${this.base_url}/auth`,A&&m==="email"&&(K+=g.reviewer?"/signup":"/login"),K+=`?provider=${m}&site_id=${_}&tracking_session_id=${H}`,g.accountId&&(K+="&account_id="+g.accountId),g.scope&&(K+="&scope="+g.scope),g.login===!0&&(K+="&login=true"),g.beta_invite&&(K+="&beta_invite="+g.beta_invite),g.invite_code&&(K+="&invite_code="+g.invite_code),N&&(K+="&"+N),A){const ne=/^http/.test(A)?window.encodeURIComponent(A):`${window.location.origin}${A===!0?"/":A}`;K+="&redirect="+ne}const oe={email:g.email,password:g.password,no_autosignup:!g.signup,redirect:window.location.origin};g.reviewer&&(oe.full_name=g.full_name,oe.jobrole=g.jobrole,oe.reviewer_signup=g.reviewer_signup,oe.redirect=g.redirect),A?m==="email"?e({url:K,data:oe,signup:g.signup},J):window.location.href=K:this.open({url:K,provider:m},J)}}const V=U},83081:(Te,se,l)=>{l.d(se,{f8:()=>d,ib:()=>S,ot:()=>k});const d=M=>{const q={};return M&&(q.next=M),q},k=M=>{var q,I;let Z=M.headers.get("Link");if(!Z)return null;const B={};let z,j,w,R,L;Z=Z.split(",");for(let F=0,e=Z.length;F<e;F++)z=Z[F].replace(/(^\s*|\s*$)/,""),[j,w]=z.split(";"),R=j.match(/\bpage=(\d+)/),L=R&&Number(R[1]),w.match(/next/)?(B.next=L,B.current=L-1):w.match(/prev/)?(B.prev=L,B.current=L+1):w.match(/last/)&&(B.last=L);const x=Number(M.headers.get("Total"));if(x){const F=Number((I=(q=Z[0])==null?void 0:q.match(/per_page=(\d+)/))==null?void 0:I[1]);F>0&&(B.page_count=Math.ceil(x/F),B.total=x)}return B},S=M=>M==null?void 0:M.get("current")},13287:(Te,se,l)=>{l.d(se,{$Z:()=>Le,AB:()=>_,BM:()=>oe,CY:()=>U,D5:()=>J,Dy:()=>L,F0:()=>G,F9:()=>Ce,Md:()=>V,Nx:()=>N,P8:()=>K,Qu:()=>A,S8:()=>Ie,U6:()=>de,VF:()=>Ne,Vc:()=>he,Yz:()=>ae,ZE:()=>v,Zw:()=>H,am:()=>Me,cF:()=>W,cJ:()=>ne,f1:()=>Re,fd:()=>D,gK:()=>m,iv:()=>le,kL:()=>ie,kg:()=>Ae,mH:()=>te,r:()=>Oe,vp:()=>b,yz:()=>f,zv:()=>O});var d=l(21805);const k=null,S=["user_capabilities","sites","d"],M=["user_capabilities","sites","u"],q=["user_capabilities","sites","c"],I=["user_capabilities","deploys","r"],Z=null,B=["user_capabilities","accounts","u"],z=["user_capabilities","accounts","d"],j=["user_capabilities","billing","u"],w=["user_capabilities","members","r"],R=["user_capabilities","members","u"],L=["enforced_strict","enforced_with_fallback"],x="active",F="final_notice",e="hibernating",t="locked";function s(E,ue,ke=[]){return!!(E&&ue&&!E.get("public")&&ue.getIn(ke))}function c(E,ue=[]){return E&&E.getIn(ue)}function b(E,ue){return s(E,ue,S)}function O(E){var ue;return E?((ue=E.get("user_capabilities"))==null?void 0:ue.size)===0:!1}function P(E,ue){return b(E,ue)}function $(E,ue){return s(E,ue,k)}function U(E,ue){return s(E,ue,M)}function V(E,ue){return s(E,ue,I)||E&&E.get("public")}function D(E){return c(E,q)}function g(E){return c(E,Z)}function J(E){return c(E,B)}function _(E){return!W(E)&&c(E,z)}function m(E,ue){return ue?!0:c(E,j)}function A(E){return c(E,R)}function N(E){return c(E,w)}function H(E){return E?L.includes(E.get("enforce_saml")):!1}function K(E,ue){return E?E&&!H(E)||ue&&ue.get("saml_enabled")||E&&E.get("org_saml_enabled"):!1}function oe(E){return m(E)}function te(E){return!W(E)&&m(E)}function ne(E){return E==="Controller"?"Billing Admin":E}function v(E){return E==="all"?"All sites":E==="selected"?"Specific sites":E==="none"?"No sites":""}function f(E,ue){const ke=E&&E.get("account_slug");return ue&&ue.find(Ue=>Ue.get("slug")===ke)}function W(E){const ue=E&&E.get("lifecycle_state");return ue&&ue!==x&&ue!==t}function G(E){const ue=E&&E.get("lifecycle_state");return ue===F||ue===e}function ie(E){return(E&&E.get("lifecycle_state"))===t}function de(E,ue){return E&&(E.getIn(["capabilities",ue])||E.getIn(["site_capabilities",ue]))}function le(E){return!E||!E.getIn(["capabilities","self_hosted_git_support","included"])?!1:c(E,B)}function ae(E){return E&&E.get("site_access")==="all"&&!G(E)}const he=(E,ue)=>({account:ke})=>ke&&ke.getIn(["user_capabilities",E,ue]),Ie=E=>he("sites","c")({account:E}),Pe=E=>he("sites","r")({account:E}),Re=E=>he("sites","u")({account:E}),Me=E=>he("sites","d")({account:E}),Ae=E=>he("deploys","c")({account:E}),Ce=E=>he("deploys","r")({account:E}),Le=E=>he("account_firewall","u")({account:E}),Oe=E=>he("site_firewall","u")({account:E}),Ne=E=>E?E.get("role")===d.TH:!1},31948:(Te,se,l)=>{l.d(se,{j:()=>z});var d=l(2417),k=l.n(d),S=l(24398),M=l.n(S),q=l(62326),I=l(10680);const Z=({accountId:j})=>{async function w(R,L){let x;try{x=`Bearer ${(await(0,q.Z)({accountId:j})).jwt}`}catch{x=void 0}const F=new URL("/graphql",I.S);F.search=new URLSearchParams({operationName:R.name,show_metrics:"false",netlify_account_id:j}).toString();const t=await(await fetch(F,{method:"POST",headers:{Authorization:x,"Content-Type":"application/json",Accept:"application/json",serviceid:"94103628-541d-4cbd-8273-16850b910ebc"},body:JSON.stringify({query:R.text,doc_id:R.id,variables:L})})).json();return R.operationKind==="mutation"&&t.errors?{data:null,errors:t.errors}:t}return async function(L,x){return w(L,x)}},B=()=>{const j=new URL("/graphql/subscriptions",I.S);j.protocol="wss";const w=new S.SubscriptionClient(j.href,{reconnect:!0});return(L,x)=>{const F=w.request({query:L.text,operationName:L.name,variables:x});return d.Observable.from(F)}},z=({accountId:j})=>{const w=Z({accountId:j}),R=B();return new d.Environment({network:d.Network.create(w,R),store:new d.Store(new d.RecordSource)})}},53562:(Te,se,l)=>{l.d(se,{_z:()=>ke,AC:()=>Ue,ao:()=>ue,zP:()=>E,KT:()=>W,I7:()=>f,yN:()=>Ze,Fk:()=>He});var d=l(3692),k=l(61712),S=l(58302),M=l(68854);const q=["api-aws.netlify.com","api.netlify.com","api-staging.netlify.com","www.netlify.com","www.netlify.app","app.netlifystg.com","app.netlifystg.app","app.netlify.com","analytics.services.netlify.com","analytics-staging.services.netlify.com","supportapi.services.netlify.com","list-v2--netlify-plugins.netlify.app","localhost","d33wubrfki0l68.cloudfront.net"],I=["commandbar","github","zuora","bitbucket","gitlab","gravatar"];function Z(C){if(C==null)return!1;const Y=new URL(C||"",window.location.origin);return Y.hostname.toLowerCase().endsWith(".netlify.com")||q.includes(Y.hostname.toLowerCase())||B(C)}function B(C){return C==null?!1:new URL(C||"",window.location.origin).origin===window.location.origin}function z(C){return C==null?!1:new URL(C||"",window.location.origin).pathname.startsWith("/.netlify/functions/")}function j(C){if(C==null)return!1;const Y=new URL(C||"",window.location.origin);return I.some(re=>Y.hostname.toLowerCase().includes(re))}function w(C){const Y={};return Array.isArray(C)&&C.forEach(({name:re,duration:X,description:pe})=>{X&&(Y[`st_${re}_duration`]=X),pe&&(Y[`st_${re}_desc`]=pe)}),Y}function R(C){if(!C)return{};const Y={...C,...w(C==null?void 0:C.serverTiming)};return delete Y.name,delete Y.serverTiming,delete Y.entryType,Y}function L(){const C="ntl_device_loads",re=(parseInt((0,M.le)(C)||"0",10)||0)+1;return Promise.resolve().then(()=>{(0,M.D$)(C,re)}),re}const x="ErrorPageHit",F="DataFullyLoadedTimeout",e="viewInitialRender",t="viewDataFullyLoaded",s="viewChanged",c="errorPageHit",b="viewInitialRender",O="viewDataFullyLoaded",P="viewIRDFLDelta",$="viewDepth",U=["user"],V="featureName",D="featureLoadTimingListener",g="featureSpecificDFLListener";var J=l(62935);let _=[],m=0,A=[],N=[],H=window,K=window.location;function oe(C){_.push(C),A.length>0&&requestIdleCallback(()=>{A=A.filter(({whenMadeCallback:Y,markNamesToWaitFor:re,startOffset:X,verifyMark:pe})=>{const _e=G(re,_,X,pe);return _e?(Y(_e),!1):!0})},{timeout:2e3}),N.forEach(Y=>Y(C))}function te(){return{pageUrl:K.href,pageIsIframed:H.top!==H.self}}function ne(){return _}function v(){_=[],m=0,A=[],N=[],H=window,K=window.location}function f(C,Y){let re=H.performance.mark(C);const X=Y==null?void 0:Y.overrideTimeMarked;re||(re=performance.getEntriesByName(C).pop());const pe=(!X||X===0?X:!1)||(re==null?void 0:re.startTime)||performance.now(),_e={name:C,props:Y,timeMarked:pe,index:m++,env:te()};return oe(_e),_e}function W(C,Y,re){let X=H.performance.mark(C);X||(X=performance.getEntriesByName(C).pop());const pe={name:C,duration:re.timeMarked-Y.timeMarked,timeMarked:(X==null?void 0:X.startTime)||performance.now(),index:m++,env:te()};return oe(pe),pe}function G(C,Y,re,X){const pe=Y.reduce((_e,Ee,we)=>(re!==void 0&&we<re||C.includes(Ee.name)&&(!X||X(Ee))&&(_e[Ee.name]=Ee),_e),{});return Object.keys(pe).length===C.length?pe:null}function ie({markNamesToWaitFor:C,whenMadeCallback:Y,startOffset:re,verifyMark:X,listenerClass:pe}){const _e=G(C,_,re,X);_e?requestIdleCallback(()=>{Y(_e)},{timeout:2e3}):A.push({whenMadeCallback:Y,markNamesToWaitFor:C,startOffset:re,verifyMark:X,listenerClass:pe})}function de(C){A=A.filter(({listenerClass:Y})=>Y!==C)}function le(C){N.push(C)}window._rum=window._rum||{},window._rum.markers={getAllMarks:ne,markTime:f,markMeasurement:W,whenAllMarksMade:ie,onMarkAdded:le};const ae=[];window._rum=window._rum||{},window._rum.timings=[];function he(C){if(ae.length===0)return;if(ae.length===1)return ae[0].featureName;const Y=ae.reduceRight((re,X,pe)=>(!re&&pe===0&&(re=X),!re&&C>X.viewStartTime&&(re=X),re),void 0);return Y?Y.featureName:void 0}const Ie=[];let Pe="unset",Re=!0;function Me(C,Y){var re,X,pe,_e;let Ee={};C.view&&C.view.url.includes("#")&&(C.view.url=C.view.url.split("#")[0]),(X=(re=C.view)==null?void 0:re.referrer)!=null&&X.includes("#")&&(C.view.referrer=C.view.referrer.split("#")[0]);const we=C.resource;if(we&&we.url&&we.url.includes("#")&&(we.url=we.url.split("#")[0]),C.type==="resource"){const qe=Z(C.resource.url);if(Ee={...Ee,requestIsInternal:qe,requestIsSameOrigin:B(C.resource.url),requestIsExternalDep:!qe&&j(C.resource.url),requestApiType:z(C.resource.url)?"function":"server"},we!=null&&we.url.includes("#access_token")&&(Ee.resourceHasAccessToken=!0),we!=null&&we.url.includes("#token")&&(Ee.resourceHasToken=!0),"performanceEntry"in Y&&Y.performanceEntry!==void 0&&(Ee={...Ee,...R(Y.performanceEntry)}),C.resource.type==="fetch"||C.resource.type==="xhr"){const De=Y,u=De==null?void 0:De.response,i=(0,k.RR)();let a=null,h=null;if(u!=null&&u.headers&&(a=u.headers.get("x-request-id"),h=u.headers.get("x-nf-srv-version")),(pe=De.performanceEntry)!=null&&pe.startTime&&qe){const n=he((_e=De.performanceEntry)==null?void 0:_e.startTime);i!==n&&(Ee.featureName=n,Ee.respondedAfterViewChange=!0)}Ee={...Ee,requestId:a,requestNFServerVersion:h}}}else C.type==="view"&&(Ie.includes(C.view.id)||(Pe=C.view.id,Ie.push(C.view.id),Re=C.view.loading_type==="initial_load"));C.context={...C.context,...Ee}}function Ae(){return Pe}function Ce(){le(C=>{var Y,re,X;if(C.name===s){const pe=[e],_e=C,Ee=(0,k.UC)((Y=C.props)==null?void 0:Y.featureName),we=Ee.name;(re=Ee==null?void 0:Ee.networkingRules)!=null&&re.skipMeasuringCriticalPathData||pe.push(t),(X=C.props)!=null&&X.featureName&&ae.push({featureName:we,viewStartTime:C.timeMarked}),de(D),ie({listenerClass:D,markNamesToWaitFor:pe,startOffset:ne().length-1,whenMadeCallback:qe=>{var De,u;const i=qe[e],a=qe[t],h=Re?0:_e.timeMarked,n=i.timeMarked-h,r=a?a.timeMarked-h:-1,o=a?a.timeMarked-i.timeMarked:-1;d.v.addTiming(b,n),d.v.addTiming(O,r),d.v.addTiming(P,o),a&&((De=a.props)==null?void 0:De.viewDFLTimedOut)===!0&&d.v.addAction(F,{featureName:we,viewInitialRender:n,viewDataFullyLoaded:r,delta:o}),window._rum.timings.push({featureName:we,viewInitialRender:n,viewDataFullyLoaded:r,delta:o,viewDFLTimedOut:!!((u=a==null?void 0:a.props)!=null&&u.viewDFLTimedOut)})},verifyMark:qe=>{var De;return((De=qe.props)==null?void 0:De.viewId)===Ae()}})}})}const Le=!window.Cypress;let Oe=0,Ne;window._rum=window._rum||{},window._rum.waiters=[];function E(){const C="abb8711a-ca04-44e2-bbd6-df0e07a7f3f8",Y="pubd771a23f8cb1e4f45f24b5fd37e11a96",re="netlify-react-ui";Le&&C&&Y&&re&&!window.Cypress&&(d.v.init({applicationId:C,clientToken:Y,site:"datadoghq.com",service:re,version:"64e0c30899c6e100082abc5f",env:"production",sampleRate:100,trackInteractions:!1,trackViewsManually:!0,enableExperimentalFeatures:["feature_flags"],beforeSend:(X,pe)=>{var _e,Ee;if(X.type==="error"&&((_e=X.error)==null?void 0:_e.source)==="report"||X.type==="error"&&(((Ee=X.error)==null?void 0:Ee.message)||"").toLowerCase().includes("userflow"))return!1;Me(X,pe)}}),d.v.addRumGlobalContext("suspiciousUsage",S.s),d.v.addTiming("deviceLoadCount",L()),Ce())}function ue({routePath:C}){const Y=(0,k.WV)(C),re=(0,k.UC)(Y),X=Ae(),pe=We();let _e=!1,Ee=!1;return{markInitialRender:we=>{_e||(_e=!0,f(e,{viewId:X,featureName:Y,...we||{}}))},markDataFullyLoaded:we=>{Ee||(Ee=!0,f(t,{viewId:X,featureName:Y,...we||{}}))},whenDataFullyLoaded:({whenDFLCallback:we,timeout:qe=15e3})=>{var De,u,i,a,h;de(g);let n=[];const r={viewDFLTimedOut:!1};if(pe&&(0,M.le)("nf-session")&&(n=[...n,...U]),(De=re==null?void 0:re.networkingRules)!=null&&De.criticalPathAPICalls&&(Array.isArray((u=re==null?void 0:re.networkingRules)==null?void 0:u.criticalPathAPICalls)?n=[...n,...(i=re==null?void 0:re.networkingRules)==null?void 0:i.criticalPathAPICalls]:typeof((a=re==null?void 0:re.networkingRules)==null?void 0:a.criticalPathAPICalls)=="function"&&(n=[...n,...(h=re==null?void 0:re.networkingRules)==null?void 0:h.criticalPathAPICalls()])),window._rum.waiters.push({featureName:Y,apiMarksToWaitFor:n}),n.length===0){we==null||we(r);return}const o=setTimeout(()=>{r.viewDFLTimedOut=!0,we==null||we(r),we=null},qe);ie({listenerClass:g,markNamesToWaitFor:n.map(p=>`api-${p}-complete`),startOffset:pe?0:Ne==null?void 0:Ne.index,whenMadeCallback:()=>{clearTimeout(o),we==null||we(r),we=null}})}}}function ke(C,Y){Le&&d.v.addRumGlobalContext(C,Y)}function Ue({id:C,plan:Y,accountId:re,email:X}){if(Le){const pe={id:C,plan:Y,accountId:re};typeof X=="string"&&(pe.isInternalUser=X.endsWith("@netlify.com")),d.v.setUser(pe)}}function He(C){if(Le){Oe++;const Y=(0,k.bl)(C);d.v.addRumGlobalContext(V,Y),d.v.startView(C),Ne=f(s,{urlTrackPath:C,featureName:(0,k.WV)(C)}),f(s,{urlTrackPath:C,featureName:Y}),d.v.addTiming($,Oe)}}function Ze(C){if(Le){let Y="internal-nav";We()&&(Y="page-load-nav");const re={pathname:window.location.pathname,errorPageType:C,navType:Y};d.v.addAction(x,re),f(c,re)}}const We=()=>Oe<=1},68187:(Te,se,l)=>{l.d(se,{$2:()=>e,A$:()=>K,BO:()=>m,Bj:()=>B,EZ:()=>J,MR:()=>I,Qc:()=>O,Qy:()=>b,TQ:()=>v,VH:()=>t,We:()=>H,Z1:()=>oe,_4:()=>L,g$:()=>te,hA:()=>g,i7:()=>j,lR:()=>R,n4:()=>D,nu:()=>x,pC:()=>$,pn:()=>Z,s8:()=>A,tJ:()=>ne,yp:()=>c,z0:()=>P,zJ:()=>s,zu:()=>V});var d=l(90046),k=l.n(d),S=l(66520),M=l(77962),q=l(88317);const I="success",Z="error",B="in-progress",z="blank",j={SUCCESS:I,ERROR:Z,IN_PROGRESS:B,BLANK:z},w={[I]:"Site is live",[Z]:"Site deploy failed",[B]:"Site deploy in progress",[z]:"Site has not yet been deployed"};function R(f){return f.get("deploy_id")?I:f.get("error_message")?Z:f.get("build_id")||f.get("state")!=="current"?B:z}function L(f){return w[R(f)]}function x(f){const{siteDomain:W}=S.default;return`${f.get("name")||f.get("subdomain")}.${W}`}function F(f){return`https://${f.get("default_domain")||x(f)}`}function e(f){return f.get("custom_domain")?f.get("url"):F(f)}function t(f){return f&&f.getIn(["build_settings","provider"])}function s(f){const W=t(f);return W&&q._w.getIn([W,"name"])||W}function c(f){return/^gitlab/.test(t(f))?"merge request":"pull request"}function b(f){return/^gitlab/.test(t(f))?"MR":"PR"}function O(f){return!!f.getIn(["build_settings","repo_branch"])}function P(f){return O(f)&&(f.getIn(["build_settings","allowed_branches"])||(0,d.List)()).size!==1}function $(f,W){return`https://${U(f,W)}`}function U(f,W){return`${W}--${x(f)}`}function V(f){return f.get("custom_domain")||_(f)}function D(f){return f.get("custom_domain")}function g(f){return f.get("account_subdomain")||f.get("name")}function J(f){return f.get("site_id")}function _(f){return f.get("default_domain")||x(f)}function m(f){const[W,...G]=_(f).split(".");return G.join(".")}function A(f){return!(f!=null&&f.getIn(["build_settings","repo_url"])||f!=null&&f.get("repo_url")||f!=null&&f.get("deploy_hook"))}const N=["trusty","production",null];function H(f){if(A(f))return!1;const W=f==null?void 0:f.get("build_image");return N.includes(W)}function K(f){return A(f)?!1:(f==null?void 0:f.get("build_image"))==="xenial"}function oe(f){return f.getIn(["processing_settings","skip"])!==!0}function te(f){return!!(f!=null&&f.getIn(["build_settings","stop_builds"]))}function ne(f){return f.getIn(["build_settings","provider"])===q.Lz.github&&f.getIn(["build_settings","repo_owner_type"])==="Organization"&&!f.getIn(["build_settings","public_repo"])}const v=f=>{const W=[],G={deploy_preview_custom_domain:"Deploy Preview",branch_deploy_custom_domain:"branch deploy"};if(Object.entries(f).reverse().forEach(([ie,de])=>{const le=G[ie];de.forEach(ae=>{if(ae!=null&&ae.includes("has invalid characters"))return W.push(`Additional subdomain for ${le}s should only contain letters, numbers, hyphens, or dots. It must end with a letter or number.`);if(ae!=null&&ae.includes("exceeds the permitted length of 225 chars"))return W.push(`The combined length of your ${le} domain exceeds the permitted length of 225 characters.`);if(ae!=null&&ae.includes("exceeds the permitted length of 63 chars"))return W.push(`Additional subdomain for ${le}s exceeds the permitted subdomain length of 63 characters.`);if(ae!=null&&ae.includes("the subdomain or apex domain has not been added to this site's team with Netlify DNS"))return W.push(`The ${le} domain is not set up to use Netlify DNS.`);if(ae!=null&&ae.includes("This automatic deploy subdomain is already used on site ")){const he="This automatic deploy subdomain is already used on site ",Ie=he.replace("automatic deploy subdomain",`${le} domain`),Pe=ae.split(he)[1],Re=(0,M.DD)((0,d.fromJS)({name:Pe}),"settings","domain#automatic-deploy-subdomains");return W.push(`${Ie}[${Pe}](${Re})`)}return W.push(ae)})}),W.length>0)return W.join(`

`)}},16136:(Te,se,l)=>{l.d(se,{F:()=>M});var d=l(3692),k=l(1886),S=l(58302);function M(q){if(S.s){const I={message:"Userflow has failed to load due to the browser being sus",errorType:"UserflowError"};d.v.addAction("CustomError",I);return}k.Z.load().then(q,I=>{I.errorType="UserflowError",d.v.addAction("CustomError",I)})}},83611:(Te,se,l)=>{l.d(se,{A8:()=>S,KS:()=>M,SP:()=>I,Sg:()=>k,oi:()=>Z,xw:()=>B});const d="workflow-ui",k=`/${d}/surfaces`,S=`/${d}/package`,M="site-settings",q="preview",I="log-drains-settings",Z="integrations-settings",B="http://localhost:35472"},46917:(Te,se,l)=>{l.d(se,{S:()=>S,g:()=>k});var d=l(61097);function k({site:M,envVars:q}){return{isExistingEnvVar(I){var Z;return(Z=q==null?void 0:q.some(B=>B.key===I))!=null?Z:!1},getEnvVar(I){const Z=q==null?void 0:q.find(B=>B.key===I);return Z?{envVar:Z}:null}}}function S({dispatch:M,site:q,accountId:I}){const Z=q.get("id");return{async createEnvVars(B){if(B.length)return M((0,d.f6)({accountId:I,siteId:Z,envVars:B}))},async deleteEnvVars(B){B.length&&B.forEach(z=>{M((0,d.Y0)({accountId:I,siteId:Z,key:z}))})},async updateEnvVars(B){B.length&&B.forEach(z=>{M((0,d.bJ)({accountId:I,siteId:Z,oldKey:z.key,newKey:z.key,scopes:z.scopes,values:z.values}))})}}}},16467:(Te,se,l)=>{l.d(se,{CS:()=>w,IC:()=>R,S0:()=>j,uF:()=>x,k3:()=>L});var d=l(31425),k=l(68854),S=l(83611);const M=async(F,e,t)=>{const s=e?`${e}/ui/integration-ui.json`:new URL([S.Sg,F,t].filter(Boolean).join("/"),window.location.origin),c=await fetch(s);if(!c.ok){if(c.status===404)return null;throw new Error("Unable to load Workflow UI config!")}try{const b=await c.json();return Object.keys(b).length?b:null}catch{return console.error("Workflow UI Config is not valid JSON"),null}};function q(F,e){const t=F.surfaces.map(s=>({...s,routes:I(s.routes,e)}));return{...F,surfaces:t}}function I(F,e){return Object.entries(F).reduce((t,[s,c])=>(t[s]=c.map(b=>Z(b,e)),t),{})}function Z(F,e){var t;const s="contents"in F?(t=F.contents)==null?void 0:t.map(O=>Z(O,e)):void 0,c=F.id||(0,d.Z)(),b={...F,id:c,...s&&{contents:s}};return e.set(c,b),b}async function B(F){let e;try{e=JSON.parse((0,k.le)("wui-dev-mode")||"{}")}catch{}const t=e==null?void 0:e.packages;if(!(Array.isArray(t)&&t.length>0))return null;const c=(...U)=>(console.error(...U),null),b=`${S.xw}/workflow-ui.json`,O=await fetch(b);let P;if(O.ok&&(P=await O.json()),!P)return c(`No local config found at ${b}`);if(typeof P.packageId!="string")return c(`Config doesn't have a "packageId" at root level`,P);if(!t.includes(P.package))return c(`Config loaded locally is for a different package (${P.package}) than what's in dev mode: ${t.join(",")}`);if(!Array.isArray(P.surfaces))return c(`Config doesn't have a "surfaces" array field at root level`,P);let $=null;return F!=null&&F.surfaceName&&P.surfaces.length>0&&P.surfaces.some(V=>V.surfaceName===F.surfaceName)&&($=P),$}const z=new Map,j=F=>z.get(F),w=(F,e)=>{z.set(F,e)},R=F=>{z.delete(F)},L=async F=>M(F),x=async({surfaceName:F,host:e,routeSplat:t="",packageKey:s})=>{var c;const b=`iframe[data-surface-name="${F}"]`;if(document.querySelector(b))return;let O=await M(F,e,s);const P=await B({surfaceName:F,packageKey:s});P&&(O=P);const $=new Map,U=O?q(O,$):void 0,V=t==null?void 0:t.split("/").filter(Boolean),D=U==null?void 0:U.surfaces.find(N=>N.surfaceName===F),g=V==null?void 0:V.reduce((N,H,K)=>{const oe=N[K]||"";return N.push(`${oe}/${H}`.replace("//","/")),N},["/"]).reverse(),J=(g==null?void 0:g.find(N=>!!(D!=null&&D.routes[N])))||"",_=D==null?void 0:D.routes[J],m=!!((c=D==null?void 0:D.routesRequiringLastSelectedSite)!=null&&c.includes(J));return{config:U,surfaceConfig:D,surfaceRouteConfig:_,matchedRouteKey:J,useDevMode:!!P,elementDirectory:$,requiresLastSelectedSite:m}}},22386:(Te,se,l)=>{l.d(se,{ZP:()=>ne});var d=l(5780),k=l.n(d),S=l(63851),M=l(63733),q=l(1329),I=l(807);const Z="001",B="002",z="003",j="004",w="unknown",R=v=>v?v===j?"CVV code":v===B?"card number":v===z?"card type":"":"",L=v=>{switch(v){case"creditCardExpirationMonth":return"card expiration month";case"creditCardExpirationYear":return"card expiration year";case"cardSecurityCode":return"CVV code";case"creditCardHolderName":return"cardholder name";case"creditCardCountry":return"country";case"creditCardState":return"state";case"creditCardAddress1":case"creditCardAddress2":return"address";case"creditCardCity":return"city";case"creditCardPostalCode":return"zip/postal code";default:return""}},x=v=>v?v.includes("creditCardExpirationMonth")?"card expiration month":v.includes("creditCardExpirationYear")?"card expiration year":v.includes("cardSecurityCode")?"CVV code":v.includes("creditCardHolderName")?"cardholder name":v.includes("creditCardCountry")?"country":v.includes("creditCardState")?"state":v.includes("creditCardAddress1")||v.includes("creditCardAddress2")?"address":v.includes("creditCardCity")?"city":v.includes("creditCardPostalCode")?"zip/postal code":"":"",F=["card_error/card_declined","card_error/card_declined/generic_decline","card_error/card_declined/insufficient_funds","card_error/card_declined/lost_card","card_error/card_declined/stolen_card","card_error/expired_card","card_error/processing_error","card_error/incorrect_cvc","card_error/incorrect_number","card_error/incorrect_zip","card_error/incorrect_address","invalid_request_error/setup_intent_authentication_failure"],e=v=>{if(!v)return"Payment validation failed.";if(v.includes("Submit_Too_Quick"))return"You have submitted this form too many times. Please try again later.";if(v.includes("Authentication failed, please check your password"))return"Verification step failed because the authentication was incorrect or the authentication was canceled.";const f=[...v.matchAll(/\[([\w\-/]+)\]/g)],W=f[f.length-1];return f.length>0&&F.includes(W[1])?v.slice((W.index||0)+W[0].length+1):`Payment validation failed. Debug message: ${v}`};function t(v){if(!(v!=null&&v.directResults))return v;const{key:f,message:W,code:G}=v.directResults,ie=R(G);if(ie)return{...v,displayMessage:`The provided ${ie} is invalid.`};const de=L(f);if(de)return{...v,displayMessage:`The provided ${de} is invalid.`};const le=x(W);return le?{...v,displayMessage:`The provided ${le} is invalid.`}:"key"in v.directResults&&f==="error"?{...v,displayMessage:e(W)}:v}const s="1.3.1",c="8ad088718045e6340180479027db13c7",b="8a12892d804132bf01804c4c9bb718d7";let O,P=!1;const $=()=>window.Z||null,U=async v=>{P||(await new Promise((f,W)=>{P=!0;const G=document.createElement("script");G.type="text/javascript",G.async=!0,G.onload=()=>f(),G.onerror=()=>W("Failed to load zuora"),G.src=`https://static.zuora.com/Resources/libs/hosted/${s}/zuora-min.js`,document.getElementsByTagName("head")[0].appendChild(G)}),window.addEventListener("message",v))},V=v=>({id:v.hosted_page_id,key:v.key,signature:v.signature,style:"overlay",submitEnabled:!0,tenantId:v.tenantId,token:v.token,url:v.uri,field_accountId:v.zuora_id,param_supportedTypes:"AmericanExpress,Visa,MasterCard,Discover,Dankort"}),D=({key:v,card:f})=>{const W=new q.Z;return W.setPublicKey(v),{creditCardExpirationMonth:W.encrypt(parseInt(f.expirationMonth)<10?`0${parseInt(f.expirationMonth)}`:`${f.expirationMonth}`),creditCardExpirationYear:W.encrypt(""+f.expirationYear),creditCardNumber:W.encrypt(f.creditCardNumber.replace(/\s/gi,"")),cardSecurityCode:W.encrypt(f.securityCode),creditCardHolderName:f.cardHolderInfo.cardHolderName,creditCardCountry:I.vU[f.cardHolderInfo.country]||f.cardHolderInfo.country,creditCardState:(0,I.H8)(f.cardHolderInfo.state),creditCardAddress1:f.cardHolderInfo.addressLine1,creditCardAddress2:f.cardHolderInfo.addressLine2,creditCardCity:f.cardHolderInfo.city,creditCardPostalCode:f.cardHolderInfo.zipCode}};async function g({rendererParams:v,rendererPrepopulateFields:f,onSubmissionSuccess:W,onSubmissionError:G,onRenderError:ie,onRenderSuccess:de}){try{let ae=function(X){G==null||G(t(X)),A()};var le=ae;const{key:he,signature:Ie,style:Pe,submitEnabled:Re,tenantId:Me,token:Ae,url:Ce,sandbox:Le,passthroughParams:Oe,zuoraPayload:Ne,zuora_id:E,hosted_page_id:ue}=v,ke=Date.now();O=ke;const Ue=()=>O===ke;m(),await U(X=>{Ue()&&X.origin.endsWith(".zuora.com")&&console.log("[Zuora event]",X)});const Ze=X=>{Ue()&&(console.log("[Zuora callback invoked]",X),["true",!0].includes(X==null?void 0:X.success)?W==null||W(X):X.responseFrom==="Response_From_Submit_Page"?ae({displayMessage:"Failed to process payment",directResults:X}):ie==null||ie("Failed to load page"),A())},We=(X,pe,_e,Ee)=>{Ue()&&(console.error("[Zuora client error message invoked]",{key:X,code:pe,message:_e,rawGatewayInfo:Ee}),ae==null||ae({displayMessage:_e,directResults:{key:X,code:pe,message:_e,rawGatewayInfo:Ee}}))},C=X=>{Ue()&&(console.log("[Zuora showing challenge modal]",X),_())},Y=(Oe||[]).reduce((X,pe,_e)=>(_e<15?X[`field_passthrough${_e+1}`]=pe:console.error("[Zuora Passthrough Error] Only 15 passthrough params allowed"),X),{}),re=D({key:he,card:Ne});$().setEventHandler("onloadCallback",()=>{Ue()&&($().setAgreement("External","Recurring","Visa,Mastercard,Discover",""),$().allowScroll(),J(),de==null||de(),setTimeout(()=>{$().submit()},2e3))}),$().renderWithErrorHandler({id:ue||(Le?c:b),key:he,signature:Ie,style:Pe,submitEnabled:Re,tenantId:Me,token:Ae,url:Ce,field_accountId:E,...Y},re,Ze,We,null,null,C)}catch(ae){console.error("[Unknown error rendering Zuora page]",ae),ie==null||ie(ae)}}const J=()=>{const v=document.querySelector("#zuora_payment iframe");v&&(v.style.width="100%")},_=()=>{const v=document.getElementById("zuora_form_container");v&&(v.style.marginTop="1rem",v.style.opacity="1",v.style.height="auto")},m=()=>{const v=document.getElementById("zuora_form_container");v&&(v.style.marginTop="0",v.style.opacity="0",v.style.height="0")},A=()=>{const v=document.querySelector("#zuora_payment iframe");v&&v.remove(),m()},N={amex:"AmericanExpress",discover:"Discover",mastercard:"MasterCard",visa:"Visa",jcb:"JCB",diners:"Diners"},H=v=>{const f=(0,M._O)(v.number)||{};return N[f.type]},K=v=>{var f,W;const G=((W=(f=v==null?void 0:v.reasons)==null?void 0:f[0])==null?void 0:W.message)||"Unable to process transaction",ie=G.split(".").shift(),de=/PROCESSOR_DECLINED/.test(G)?". Please contact your bank for more information.":"";return`${ie}${de}`},oe=({card:v,token:f})=>{const{month:W,year:G}=(0,M.qj)(v.expiration),ie=H(v);return{accountKey:f.payment_gateway_id,cardHolderInfo:{cardHolderName:v.name,addressLine1:v.addressLine1||"placeholder",addressLine2:v.addressLine2,city:v.city,country:v.country,state:v.state,zipCode:v.zipCode},creditCardNumber:v.number,creditCardType:ie,defaultPaymentMethod:!0,expirationMonth:W,expirationYear:G,securityCode:v.cvv}},te=({token:v,zuoraPayload:f,zuoraResponse:W})=>{if(!W.success)throw new S.Z(K(W));try{const G=W.paymentMethodId;if(!G)throw new Error("Missing paymentMethodId in Zuora response");const ie=v.customer_id,de=v.organization_id;if(!ie&&!de)throw new Error("Missing customer_id or organization_id in token bundle from API");const le={type:"card",zuora_id:G,customer_id:ie,data:{card_type:f.creditCardType,name:f.cardHolderInfo.cardHolderName,last4:f.creditCardNumber.substr(f.creditCardNumber.length-4),country:f.cardHolderInfo.country,state:f.cardHolderInfo.state,auth_transaction_id:W.authTransactionId},sandbox:v.sandbox,enterpriseException:v.enterpriseException};return Promise.resolve(le)}catch(G){throw k().notify(G,ie=>{ie.context="zuora-client \uFE65 zuoraResponseToPaymentMethod"}),new S.Z("Unable to process transaction")}};class ne{constructor(f,W){this.hasRequiredFields=G=>{const{accountKey:ie,cardHolderInfo:de,creditCardType:le,expirationMonth:ae,expirationYear:he}=G;return![ie,de,le,ae,he].some(Ie=>!Ie)},this.createPaymentMethod=G=>{const ie=oe({card:G,token:this.tokenBundle});if(!this.hasRequiredFields(ie))throw new S.Z("Unsupported payment method");try{const{signature:de,token:le,secure:ae}=this.tokenBundle;if(!de)throw new Error("Missing signature in token bundle from API");if(!le)throw new Error("Missing token in token bundle from API");return ae?this.perform3DSecureHostedFrameSequence(ie).then(he=>te({token:this.tokenBundle,zuoraPayload:ie,zuoraResponse:he})):fetch(this.tokenBundle.uri,{body:JSON.stringify(ie),headers:{Accept:"application/json","Content-Type":"application/json",signature:de,token:le},method:"POST",mode:"cors"}).then(he=>he.json()).then(he=>te({token:this.tokenBundle,zuoraPayload:ie,zuoraResponse:he}))}catch(de){throw k().notify(de,le=>{le.context="zuora-client \uFE65 createPaymentMethod"}),new S.Z("Unable to process transaction")}},this.perform3DSecureHostedFrameSequence=async G=>{const{sandbox:ie,uri:de,key:le,tenantId:ae,signature:he,token:Ie,zuora_id:Pe,hosted_page_id:Re}=this.tokenBundle;if(!ae||!le||!he||!Ie)throw console.error("perform3DSecureHostedFrameSequence did not receive all of the data needed",this.tokenBundle),k().notify({errorClass:"invalid-3d-response",errorMessage:"Insufficient parameters received for 3D Secure"},Me=>{Me.context="zuora-client \uFE65 perform3DSecureHostedFrameSequence"}),new S.Z("Unable to process transaction");return new Promise((Me,Ae)=>{g({rendererParams:{sandbox:ie,url:de,key:le,tenantId:ae,signature:he,token:Ie,submitEnabled:!0,style:"inline",passthroughParams:[this.options.darkMode?"theme-dark":"theme-light"],zuoraPayload:G,zuora_id:Pe,hosted_page_id:Re},rendererPrepopulateFields:{},onRenderSuccess:()=>{console.log("[Zuora iframe rendered]")},onRenderError:Ce=>console.error("[Zuora failed to render]",Ce),onSubmissionError:Ce=>{console.error("[Zuora failed to process]",Ce),Ae(new S.Z(Ce.displayMessage))},onSubmissionSuccess:Ce=>{if(!(Ce!=null&&Ce.refId))return Ae(new S.Z("Internal Error: Failed to get a refId > paymentMethodId"));Me({paymentMethodId:Ce.refId,authTransactionId:Ce.zThreeDs2TxId,success:!0})}})})},this.tokenBundle=f,this.options=W||{}}}},807:(Te,se,l)=>{l.d(se,{H8:()=>q,hU:()=>k,vU:()=>d,zN:()=>S});const d={AF:"AFG",AX:"ALA",AL:"ALB",DZ:"DZA",AS:"ASM",AD:"AND",AO:"AGO",AI:"AIA",AQ:"ATA",AG:"ATG",AR:"ARG",AM:"ARM",AW:"ABW",AU:"AUS",AT:"AUT",AZ:"AZE",BS:"BHS",BH:"BHR",BD:"BGD",BB:"BRB",BY:"BLR",BE:"BEL",BZ:"BLZ",BJ:"BEN",BM:"BMU",BT:"BTN",BO:"BOL",BQ:"BES",BA:"BIH",BW:"BWA",BV:"BVT",BR:"BRA",IO:"IOT",BN:"BRN",BG:"BGR",BF:"BFA",BI:"BDI",KH:"KHM",CM:"CMR",CA:"CAN",CV:"CPV",KY:"CYM",CF:"CAF",TD:"TCD",CL:"CHL",CN:"CHN",CX:"CXR",CC:"CCK",CO:"COL",KM:"COM",CG:"COG",CD:"COD",CK:"COK",CR:"CRI",CI:"CIV",HR:"HRV",CU:"CUB",CW:"CUW",CY:"CYP",CZ:"CZE",DK:"DNK",DJ:"DJI",DM:"DMA",DO:"DOM",EC:"ECU",EG:"EGY",SV:"SLV",GQ:"GNQ",ER:"ERI",EE:"EST",ET:"ETH",FK:"FLK",FO:"FRO",FJ:"FJI",FI:"FIN",FR:"FRA",GF:"GUF",PF:"PYF",TF:"ATF",GA:"GAB",GM:"GMB",GE:"GEO",DE:"DEU",GH:"GHA",GI:"GIB",GR:"GRC",GL:"GRL",GD:"GRD",GP:"GLP",GU:"GUM",GT:"GTM",GG:"GGY",GN:"GIN",GW:"GNB",GY:"GUY",HT:"HTI",HM:"HMD",VA:"VAT",HN:"HND",HK:"HKG",HU:"HUN",IS:"ISL",IN:"IND",ID:"IDN",IR:"IRN",IQ:"IRQ",IE:"IRL",IM:"IMN",IL:"ISR",IT:"ITA",JM:"JAM",JP:"JPN",JE:"JEY",JO:"JOR",KZ:"KAZ",KE:"KEN",KI:"KIR",KP:"PRK",KR:"KOR",KW:"KWT",KG:"KGZ",LA:"LAO",LV:"LVA",LB:"LBN",LS:"LSO",LR:"LBR",LY:"LBY",LI:"LIE",LT:"LTU",LU:"LUX",MO:"MAC",MK:"MKD",MG:"MDG",MW:"MWI",MY:"MYS",MV:"MDV",ML:"MLI",MT:"MLT",MH:"MHL",MQ:"MTQ",MR:"MRT",MU:"MUS",YT:"MYT",MX:"MEX",FM:"FSM",MD:"MDA",MC:"MCO",MN:"MNG",ME:"MNE",MS:"MSR",MA:"MAR",MZ:"MOZ",MM:"MMR",NA:"NAM",NR:"NRU",NP:"NPL",NL:"NLD",NC:"NCL",NZ:"NZL",NI:"NIC",NE:"NER",NG:"NGA",NU:"NIU",NF:"NFK",MP:"MNP",NO:"NOR",OM:"OMN",PK:"PAK",PW:"PLW",PS:"PSE",PA:"PAN",PG:"PNG",PY:"PRY",PE:"PER",PH:"PHL",PN:"PCN",PL:"POL",PT:"PRT",PR:"PRI",QA:"QAT",RE:"REU",RO:"ROU",RU:"RUS",RW:"RWA",BL:"BLM",SH:"SHN",KN:"KNA",LC:"LCA",MF:"MAF",PM:"SPM",VC:"VCT",WS:"WSM",SM:"SMR",ST:"STP",SA:"SAU",SN:"SEN",RS:"SRB",SC:"SYC",SL:"SLE",SG:"SGP",SX:"SXM",SK:"SVK",SI:"SVN",SB:"SLB",SO:"SOM",ZA:"ZAF",GS:"SGS",SS:"SSD",ES:"ESP",LK:"LKA",SD:"SDN",SR:"SUR",SJ:"SJM",SZ:"SWZ",SE:"SWE",CH:"CHE",SY:"SYR",TW:"TWN",TJ:"TJK",TZ:"TZA",TH:"THA",TL:"TLS",TG:"TGO",TK:"TKL",TO:"TON",TT:"TTO",TN:"TUN",TR:"TUR",TM:"TKM",TC:"TCA",TV:"TUV",UG:"UGA",UA:"UKR",AE:"ARE",GB:"GBR",US:"USA",UM:"UMI",UY:"URY",UZ:"UZB",VU:"VUT",VE:"VEN",VN:"VNM",VG:"VGB",VI:"VIR",WF:"WLF",EH:"ESH",YE:"YEM",ZM:"ZMB",ZW:"ZWE"},k={AA:"Armed Forces America",AE:"Armed Forces",AK:"Alaska",AL:"Alabama",AP:"Armed Forces Pacific",AR:"Arkansas",AZ:"Arizona",CA:"California",CO:"Colorado",CT:"Connecticut",DC:"Washington DC",DE:"Delaware",FL:"Florida",GA:"Georgia",GU:"Guam",HI:"Hawaii",IA:"Iowa",ID:"Idaho",IL:"Illinois",IN:"Indiana",KS:"Kansas",KY:"Kentucky",LA:"Louisiana",MA:"Massachusetts",MD:"Maryland",ME:"Maine",MI:"Michigan",MN:"Minnesota",MO:"Missouri",MS:"Mississippi",MT:"Montana",NC:"North Carolina",ND:"North Dakota",NE:"Nebraska",NH:"New Hampshire",NJ:"New Jersey",NM:"New Mexico",NV:"Nevada",NY:"New York",OH:"Ohio",OK:"Oklahoma",OR:"Oregon",PA:"Pennsylvania",PR:"Puerto Rico",RI:"Rhode Island",SC:"South Carolina",SD:"South Dakota",TN:"Tennessee",TX:"Texas",UT:"Utah",VA:"Virginia",VI:"Virgin Islands",VT:"Vermont",WA:"Washington",WI:"Wisconsin",WV:"West Virginia",WY:"Wyoming"},S={AB:"Alberta",BC:"British Columbia",MB:"Manitoba",NB:"New Brunswick",NL:"Newfoundland and Labrador",NS:"Nova Scotia",NT:"Northwest Territories",NU:"Nunavut",ON:"Ontario",PE:"Prince Edward Island",QC:"Quebec",SK:"Saskatchewan",YT:"Yukon"},M=[...Object.values(k),...Object.values(S)];function q(I){let Z="";if(I.length===2)Z=k[I.toUpperCase()]||S[I.toUpperCase()];else if(I){const B=I.toLowerCase().replace(/\W/gi,"");Z=M.find(z=>{const j=z.toLowerCase().replace(/\W/gi,"");return B===j})||""}return Z||I}}}]);})();
